function F0(a,s){for(var n=0;n<s.length;n++){const i=s[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in a)){const d=Object.getOwnPropertyDescriptor(i,l);d&&Object.defineProperty(a,l,d.get?d:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();function z0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var td={exports:{}},Bn={},rd={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf;function U0(){if(Sf)return Le;Sf=1;var a=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function k(C,$,re){this.props=C,this.context=$,this.refs=_,this.updater=re||D}k.prototype.isReactComponent={},k.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=k.prototype;function A(C,$,re){this.props=C,this.context=$,this.refs=_,this.updater=re||D}var j=A.prototype=new O;j.constructor=A,S(j,k.prototype),j.isPureReactComponent=!0;var P=Array.isArray,X=Object.prototype.hasOwnProperty,ae={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function K(C,$,re){var ie,U={},le=null,de=null;if($!=null)for(ie in $.ref!==void 0&&(de=$.ref),$.key!==void 0&&(le=""+$.key),$)X.call($,ie)&&!F.hasOwnProperty(ie)&&(U[ie]=$[ie]);var J=arguments.length-2;if(J===1)U.children=re;else if(1<J){for(var Ae=Array(J),He=0;He<J;He++)Ae[He]=arguments[He+2];U.children=Ae}if(C&&C.defaultProps)for(ie in J=C.defaultProps,J)U[ie]===void 0&&(U[ie]=J[ie]);return{$$typeof:a,type:C,key:le,ref:de,props:U,_owner:ae.current}}function oe(C,$){return{$$typeof:a,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function W(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function fe(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return $[re]})}var he=/\/+/g;function ve(C,$){return typeof C=="object"&&C!==null&&C.key!=null?fe(""+C.key):$.toString(36)}function Se(C,$,re,ie,U){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(le){case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case a:case s:de=!0}}if(de)return de=C,U=U(de),C=ie===""?"."+ve(de,0):ie,P(U)?(re="",C!=null&&(re=C.replace(he,"$&/")+"/"),Se(U,$,re,"",function(He){return He})):U!=null&&(W(U)&&(U=oe(U,re+(!U.key||de&&de.key===U.key?"":(""+U.key).replace(he,"$&/")+"/")+C)),$.push(U)),1;if(de=0,ie=ie===""?".":ie+":",P(C))for(var J=0;J<C.length;J++){le=C[J];var Ae=ie+ve(le,J);de+=Se(le,$,re,Ae,U)}else if(Ae=w(C),typeof Ae=="function")for(C=Ae.call(C),J=0;!(le=C.next()).done;)le=le.value,Ae=ie+ve(le,J++),de+=Se(le,$,re,Ae,U);else if(le==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return de}function Ce(C,$,re){if(C==null)return C;var ie=[],U=0;return Se(C,ie,"","",function(le){return $.call(re,le,U++)}),ie}function ue(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var me={current:null},Y={transition:null},q={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ae};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Ce,forEach:function(C,$,re){Ce(C,function(){$.apply(this,arguments)},re)},count:function(C){var $=0;return Ce(C,function(){$++}),$},toArray:function(C){return Ce(C,function($){return $})||[]},only:function(C){if(!W(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Le.Component=k,Le.Fragment=n,Le.Profiler=l,Le.PureComponent=A,Le.StrictMode=i,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Le.act=Q,Le.cloneElement=function(C,$,re){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ie=S({},C.props),U=C.key,le=C.ref,de=C._owner;if($!=null){if($.ref!==void 0&&(le=$.ref,de=ae.current),$.key!==void 0&&(U=""+$.key),C.type&&C.type.defaultProps)var J=C.type.defaultProps;for(Ae in $)X.call($,Ae)&&!F.hasOwnProperty(Ae)&&(ie[Ae]=$[Ae]===void 0&&J!==void 0?J[Ae]:$[Ae])}var Ae=arguments.length-2;if(Ae===1)ie.children=re;else if(1<Ae){J=Array(Ae);for(var He=0;He<Ae;He++)J[He]=arguments[He+2];ie.children=J}return{$$typeof:a,type:C.type,key:U,ref:le,props:ie,_owner:de}},Le.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},Le.createElement=K,Le.createFactory=function(C){var $=K.bind(null,C);return $.type=C,$},Le.createRef=function(){return{current:null}},Le.forwardRef=function(C){return{$$typeof:g,render:C}},Le.isValidElement=W,Le.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:ue}},Le.memo=function(C,$){return{$$typeof:v,type:C,compare:$===void 0?null:$}},Le.startTransition=function(C){var $=Y.transition;Y.transition={};try{C()}finally{Y.transition=$}},Le.unstable_act=Q,Le.useCallback=function(C,$){return me.current.useCallback(C,$)},Le.useContext=function(C){return me.current.useContext(C)},Le.useDebugValue=function(){},Le.useDeferredValue=function(C){return me.current.useDeferredValue(C)},Le.useEffect=function(C,$){return me.current.useEffect(C,$)},Le.useId=function(){return me.current.useId()},Le.useImperativeHandle=function(C,$,re){return me.current.useImperativeHandle(C,$,re)},Le.useInsertionEffect=function(C,$){return me.current.useInsertionEffect(C,$)},Le.useLayoutEffect=function(C,$){return me.current.useLayoutEffect(C,$)},Le.useMemo=function(C,$){return me.current.useMemo(C,$)},Le.useReducer=function(C,$,re){return me.current.useReducer(C,$,re)},Le.useRef=function(C){return me.current.useRef(C)},Le.useState=function(C){return me.current.useState(C)},Le.useSyncExternalStore=function(C,$,re){return me.current.useSyncExternalStore(C,$,re)},Le.useTransition=function(){return me.current.useTransition()},Le.version="18.3.1",Le}var Cf;function $d(){return Cf||(Cf=1,rd.exports=U0()),rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f;function q0(){if(_f)return Bn;_f=1;var a=$d(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(g,h,v){var p,x={},w=null,D=null;v!==void 0&&(w=""+v),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(D=h.ref);for(p in h)i.call(h,p)&&!d.hasOwnProperty(p)&&(x[p]=h[p]);if(g&&g.defaultProps)for(p in h=g.defaultProps,h)x[p]===void 0&&(x[p]=h[p]);return{$$typeof:s,type:g,key:w,ref:D,props:x,_owner:l.current}}return Bn.Fragment=n,Bn.jsx=u,Bn.jsxs=u,Bn}var Ef;function B0(){return Ef||(Ef=1,td.exports=q0()),td.exports}var t=B0(),y=$d();const Ue=z0(y),H0=F0({__proto__:null,default:Ue},[y]),V0={},Gi=V0,Fd=Gi.VITE_SUPABASE_URL||"https://yuanqfswhberkoevtmfr.supabase.co",zi=Gi.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl1YW5xZnN3aGJlcmtvZXZ0bWZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NTQzNjksImV4cCI6MjA3MDUzMDM2OX0.g8Fm4XAvtX46zifBZnYVH4tVuQkqUH6Ia9CXQj4DztQ",Og=Gi.VITE_SERVICE_EMAIL||"",Lg=Gi.VITE_SERVICE_PASSWORD||"";function W0(){return!!(Og&&Lg)}function Tf(a){try{const s=a.replace(/-/g,"+").replace(/_/g,"/")+"===".slice((a.length+3)%4);return decodeURIComponent(atob(s).split("").map(n=>`%${("00"+n.charCodeAt(0).toString(16)).slice(-2)}`).join(""))}catch{return""}}function Ys(a){if(!a)return{valid:!1};const s=a.split(".");if(s.length<2)return{valid:!1,raw:a};let n,i;try{n=JSON.parse(Tf(s[0])||"{}")}catch{}try{i=JSON.parse(Tf(s[1])||"{}")}catch{}let l,d;const u=i?.exp||void 0;return u&&(d=new Date(u*1e3),l=Date.now()>u*1e3),{header:n,payload:i,raw:a,valid:!0,expired:l,expiresAt:d}}function Y0(a="[tokenDebug]"){try{const s=localStorage.getItem("authToken")||localStorage.getItem("token"),n=Ys(s);return n.valid?(console.info(a,"exp=",n.payload?.exp,n.expiresAt?n.expiresAt.toISOString():void 0,n.expired?"(EXPIRADO)":"(válido)",{sub:n.payload?.sub,role:n.payload?.role,email:n.payload?.email}),n):(console.info(a,"Nenhum token válido encontrado."),n)}catch(s){return console.warn(a,"Falha ao inspecionar token",s),{valid:!1}}}typeof window<"u"&&(window.__logTokenInfo=()=>{Y0()});let ea=null,Kn=null,Di=null,ad=null;function Ig(){if(!ea?.expires_at)return;const s=ea.expires_at*1e3-Date.now()-60*1e3;if(ad&&window.clearTimeout(ad),s<=500){Pf();return}ad=window.setTimeout(()=>{Pf()},s),console.info("[TokenManager] Próximo refresh em",Math.round(s/1e3),"s")}async function Q0(){if(!W0())return console.warn("[TokenManager] Credenciais de serviço ausentes. Configure VITE_SERVICE_EMAIL e VITE_SERVICE_PASSWORD."),null;try{const a=`${Fd}/auth/v1/token?grant_type=password`,s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Og,password:Lg})});if(!s.ok){const l=await s.text();return console.error("[TokenManager] Falha ao obter token",s.status,l),null}const n=await s.json(),i=Ys(n.access_token);return ea={access_token:n.access_token,refresh_token:n.refresh_token,expires_at:i.payload?.exp},Ig(),console.info("[TokenManager] Token técnico obtido. exp=",i.payload?.exp,"expired?",i.expired),ea.access_token}catch(a){return console.error("[TokenManager] Erro inesperado ao obter token",a),null}finally{Di=null}}async function X0(){if(!Kn){if(ea?.access_token&&!Ys(ea.access_token).expired){Ig();return}await $g()}}async function $g(){return Kn||(ea?.access_token&&!Ys(ea.access_token).expired?ea.access_token:(Di||(Di=Q0()),Di))}async function Pf(){return console.info("[TokenManager] Renovando token técnico..."),$g()}function K0(a){Kn=a,console.info(Kn?"[TokenManager] Token externo (LUMI) definido. Ignorando token técnico.":"[TokenManager] Token externo removido.")}typeof window<"u"&&(window.__setApiBearer=a=>{K0(a)});X0();var _i={},sd={exports:{}},Ht={},nd={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function J0(){return Af||(Af=1,(function(a){function s(Y,q){var Q=Y.length;Y.push(q);e:for(;0<Q;){var C=Q-1>>>1,$=Y[C];if(0<l($,q))Y[C]=q,Y[Q]=$,Q=C;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var q=Y[0],Q=Y.pop();if(Q!==q){Y[0]=Q;e:for(var C=0,$=Y.length,re=$>>>1;C<re;){var ie=2*(C+1)-1,U=Y[ie],le=ie+1,de=Y[le];if(0>l(U,Q))le<$&&0>l(de,U)?(Y[C]=de,Y[le]=Q,C=le):(Y[C]=U,Y[ie]=Q,C=ie);else if(le<$&&0>l(de,Q))Y[C]=de,Y[le]=Q,C=le;else break e}}return q}function l(Y,q){var Q=Y.sortIndex-q.sortIndex;return Q!==0?Q:Y.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var u=Date,g=u.now();a.unstable_now=function(){return u.now()-g}}var h=[],v=[],p=1,x=null,w=3,D=!1,S=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Y){for(var q=n(v);q!==null;){if(q.callback===null)i(v);else if(q.startTime<=Y)i(v),q.sortIndex=q.expirationTime,s(h,q);else break;q=n(v)}}function P(Y){if(_=!1,j(Y),!S)if(n(h)!==null)S=!0,ue(X);else{var q=n(v);q!==null&&me(P,q.startTime-Y)}}function X(Y,q){S=!1,_&&(_=!1,O(K),K=-1),D=!0;var Q=w;try{for(j(q),x=n(h);x!==null&&(!(x.expirationTime>q)||Y&&!fe());){var C=x.callback;if(typeof C=="function"){x.callback=null,w=x.priorityLevel;var $=C(x.expirationTime<=q);q=a.unstable_now(),typeof $=="function"?x.callback=$:x===n(h)&&i(h),j(q)}else i(h);x=n(h)}if(x!==null)var re=!0;else{var ie=n(v);ie!==null&&me(P,ie.startTime-q),re=!1}return re}finally{x=null,w=Q,D=!1}}var ae=!1,F=null,K=-1,oe=5,W=-1;function fe(){return!(a.unstable_now()-W<oe)}function he(){if(F!==null){var Y=a.unstable_now();W=Y;var q=!0;try{q=F(!0,Y)}finally{q?ve():(ae=!1,F=null)}}else ae=!1}var ve;if(typeof A=="function")ve=function(){A(he)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ce=Se.port2;Se.port1.onmessage=he,ve=function(){Ce.postMessage(null)}}else ve=function(){k(he,0)};function ue(Y){F=Y,ae||(ae=!0,ve())}function me(Y,q){K=k(function(){Y(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_continueExecution=function(){S||D||(S=!0,ue(X))},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_getFirstCallbackNode=function(){return n(h)},a.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var Q=w;w=q;try{return Y()}finally{w=Q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Y,q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=w;w=Y;try{return q()}finally{w=Q}},a.unstable_scheduleCallback=function(Y,q,Q){var C=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?C+Q:C):Q=C,Y){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Q+$,Y={id:p++,callback:q,priorityLevel:Y,startTime:Q,expirationTime:$,sortIndex:-1},Q>C?(Y.sortIndex=Q,s(v,Y),n(h)===null&&Y===n(v)&&(_?(O(K),K=-1):_=!0,me(P,Q-C))):(Y.sortIndex=$,s(h,Y),S||D||(S=!0,ue(X))),Y},a.unstable_shouldYield=fe,a.unstable_wrapCallback=function(Y){var q=w;return function(){var Q=w;w=q;try{return Y.apply(this,arguments)}finally{w=Q}}}})(od)),od}var Mf;function G0(){return Mf||(Mf=1,nd.exports=J0()),nd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function Z0(){if(Df)return Ht;Df=1;var a=$d(),s=G0();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function d(e,r){u(e,r),u(e+"Capture",r)}function u(e,r){for(l[e]=r,e=0;e<r.length;e++)i.add(r[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function w(e){return h.call(x,e)?!0:h.call(p,e)?!1:v.test(e)?x[e]=!0:(p[e]=!0,!1)}function D(e,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,r,o,c){if(r===null||typeof r>"u"||D(e,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function _(e,r,o,c,m,f,b){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=e,this.type=r,this.sanitizeURL=f,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];k[r]=new _(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(O,A);k[r]=new _(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(O,A);k[r]=new _(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(O,A);k[r]=new _(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,r,o,c){var m=k.hasOwnProperty(r)?k[r]:null;(m!==null?m.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,o,m,c)&&(o=null),c||m===null?w(r)&&(o===null?e.removeAttribute(r):e.setAttribute(r,""+o)):m.mustUseProperty?e[m.propertyName]=o===null?m.type===3?!1:"":o:(r=m.attributeName,c=m.attributeNamespace,o===null?e.removeAttribute(r):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,c?e.setAttributeNS(c,r,o):e.setAttribute(r,o))))}var P=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ae=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),fe=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),Y=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,C;function $(e){if(C===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||""}return`
`+C+e}var re=!1;function ie(e,r){if(!e||re)return"";re=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var c=H}Reflect.construct(e,[],r)}else{try{r.call()}catch(H){c=H}e.call(r.prototype)}else{try{throw Error()}catch(H){c=H}e()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),f=c.stack.split(`
`),b=m.length-1,T=f.length-1;1<=b&&0<=T&&m[b]!==f[T];)T--;for(;1<=b&&0<=T;b--,T--)if(m[b]!==f[T]){if(b!==1||T!==1)do if(b--,T--,0>T||m[b]!==f[T]){var R=`
`+m[b].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=b&&0<=T);break}}}finally{re=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?$(e):""}function U(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case ae:return"Portal";case oe:return"Profiler";case K:return"StrictMode";case ve:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fe:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case he:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return r=e.displayName||null,r!==null?r:le(e.type)||"Memo";case ue:r=e._payload,e=e._init;try{return le(e(r))}catch{}}return null}function de(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(r);case 8:return r===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function J(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ae(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function He(e){var r=Ae(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),c=""+e[r];if(!e.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,f=o.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,f.call(this,b)}}),Object.defineProperty(e,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function $e(e){e._valueTracker||(e._valueTracker=He(e))}function et(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return e&&(c=Ae(e)?e.checked?"true":"false":e.value),e=c,e!==o?(r.setValue(e),!0):!1}function Yt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rr(e,r){var o=r.checked;return Q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Nr(e,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=J(r.value!=null?r.value:o),e._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function aa(e,r){r=r.checked,r!=null&&j(e,"checked",r,!1)}function ht(e,r){aa(e,r);var o=J(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Xt(e,r.type,o):r.hasOwnProperty("defaultValue")&&Xt(e,r.type,J(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Qt(e,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,o||r===e.value||(e.value=r),e.defaultValue=r}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Xt(e,r,o){(r!=="number"||Yt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Ot=Array.isArray;function Lt(e,r,o,c){if(e=e.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=r.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+J(o),r=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}r!==null||e[m].disabled||(r=e[m])}r!==null&&(r.selected=!0)}}function ee(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function E(e,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Ot(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}e._wrapperState={initialValue:J(o)}}function ce(e,r){var o=J(r.value),c=J(r.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),r.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),c!=null&&(e.defaultValue=""+c)}function ke(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Kt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Kt(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ir,sa=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,m){MSApp.execUnsafeLocalFunction(function(){return e(r,o,c,m)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function na(e,r){if(r){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=r;return}}e.textContent=r}var be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(be).forEach(function(e){Ve.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),be[r]=be[e]})});function tn(e,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||be.hasOwnProperty(e)&&be[e]?(""+r).trim():r+"px"}function za(e,r){e=e.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,m=tn(o,r[o],c);o==="float"&&(o="cssFloat"),c?e.setProperty(o,m):e[o]=m}}var $r=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gs(e,r){if(r){if($r[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function je(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xe=null;function rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,oa=null,Fr=null;function ho(e){if(e=En(e)){if(typeof Ua!="function")throw Error(n(280));var r=e.stateNode;r&&(r=qo(r),Ua(e.stateNode,e.type,r))}}function an(e){oa?Fr?Fr.push(e):Fr=[e]:oa=e}function ps(){if(oa){var e=oa,r=Fr;if(Fr=oa=null,ho(e),r)for(e=0;e<r.length;e++)ho(r[e])}}function sn(e,r){return e(r)}function ia(){}var kr=!1;function nn(e,r,o){if(kr)return e(r,o);kr=!0;try{return sn(e,r,o)}finally{kr=!1,(oa!==null||Fr!==null)&&(ia(),ps())}}function ur(e,r){var o=e.stateNode;if(o===null)return null;var c=qo(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var zr=!1;if(g)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){zr=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{zr=!1}function xl(e,r,o,c,m,f,b,T,R){var H=Array.prototype.slice.call(arguments,3);try{r.apply(o,H)}catch(Z){this.onError(Z)}}var Ba=!1,Ha=null,hs=!1,on=null,xo={onError:function(e){Ba=!0,Ha=e}};function yl(e,r,o,c,m,f,b,T,R){Ba=!1,Ha=null,xl.apply(xo,arguments)}function vl(e,r,o,c,m,f,b,T,R){if(yl.apply(this,arguments),Ba){if(Ba){var H=Ha;Ba=!1,Ha=null}else throw Error(n(198));hs||(hs=!0,on=H)}}function Ur(e){var r=e,o=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(o=r.return),e=r.return;while(e)}return r.tag===3?o:null}function yo(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ln(e){if(Ur(e)!==e)throw Error(n(188))}function vo(e){var r=e.alternate;if(!r){if(r=Ur(e),r===null)throw Error(n(188));return r!==e?null:e}for(var o=e,c=r;;){var m=o.return;if(m===null)break;var f=m.alternate;if(f===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===f.child){for(f=m.child;f;){if(f===o)return ln(m),e;if(f===c)return ln(m),r;f=f.sibling}throw Error(n(188))}if(o.return!==c.return)o=m,c=f;else{for(var b=!1,T=m.child;T;){if(T===o){b=!0,o=m,c=f;break}if(T===c){b=!0,c=m,o=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===o){b=!0,o=f,c=m;break}if(T===c){b=!0,c=f,o=m;break}T=T.sibling}if(!b)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?e:r}function bo(e){return e=vo(e),e!==null?wo(e):null}function wo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=wo(e);if(r!==null)return r;e=e.sibling}return null}var jo=s.unstable_scheduleCallback,la=s.unstable_cancelCallback,Va=s.unstable_shouldYield,No=s.unstable_requestPaint,Ge=s.unstable_now,bl=s.unstable_getCurrentPriorityLevel,cn=s.unstable_ImmediatePriority,wl=s.unstable_UserBlockingPriority,N=s.unstable_NormalPriority,L=s.unstable_LowPriority,ne=s.unstable_IdlePriority,xe=null,Ye=null;function lt(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(xe,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:ah,$t=Math.log,mr=Math.LN2;function ah(e){return e>>>=0,e===0?32:31-($t(e)/mr|0)|0}var ko=64,So=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Co(e,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,m=e.suspendedLanes,f=e.pingedLanes,b=o&268435455;if(b!==0){var T=b&~m;T!==0?c=dn(T):(f&=b,f!==0&&(c=dn(f)))}else b=o&~m,b!==0?c=dn(b):f!==0&&(c=dn(f));if(c===0)return 0;if(r!==0&&r!==c&&(r&m)===0&&(m=c&-c,f=r&-r,m>=f||m===16&&(f&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=c;0<r;)o=31-tt(r),m=1<<o,c|=e[o],r&=~m;return c}function sh(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(e,r){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,f=e.pendingLanes;0<f;){var b=31-tt(f),T=1<<b,R=m[b];R===-1?((T&o)===0||(T&c)!==0)&&(m[b]=sh(T,r)):R<=r&&(e.expiredLanes|=T),f&=~T}}function jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=ko;return ko<<=1,(ko&4194240)===0&&(ko=64),e}function Nl(e){for(var r=[],o=0;31>o;o++)r.push(e);return r}function un(e,r,o){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-tt(r),e[r]=o}function oh(e,r){var o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<o;){var m=31-tt(o),f=1<<m;r[m]=0,c[m]=-1,e[m]=-1,o&=~f}}function kl(e,r){var o=e.entangledLanes|=r;for(e=e.entanglements;o;){var c=31-tt(o),m=1<<c;m&r|e[c]&r&&(e[c]|=r),o&=~m}}var qe=0;function ru(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var au,Sl,su,nu,ou,Cl=!1,_o=[],ca=null,da=null,ua=null,mn=new Map,fn=new Map,ma=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(e,r){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":mn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(r.pointerId)}}function gn(e,r,o,c,m,f){return e===null||e.nativeEvent!==f?(e={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:f,targetContainers:[m]},r!==null&&(r=En(r),r!==null&&Sl(r)),e):(e.eventSystemFlags|=c,r=e.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),e)}function lh(e,r,o,c,m){switch(r){case"focusin":return ca=gn(ca,e,r,o,c,m),!0;case"dragenter":return da=gn(da,e,r,o,c,m),!0;case"mouseover":return ua=gn(ua,e,r,o,c,m),!0;case"pointerover":var f=m.pointerId;return mn.set(f,gn(mn.get(f)||null,e,r,o,c,m)),!0;case"gotpointercapture":return f=m.pointerId,fn.set(f,gn(fn.get(f)||null,e,r,o,c,m)),!0}return!1}function lu(e){var r=Wa(e.target);if(r!==null){var o=Ur(r);if(o!==null){if(r=o.tag,r===13){if(r=yo(o),r!==null){e.blockedOn=r,ou(e.priority,function(){su(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var o=El(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);Xe=c,o.target.dispatchEvent(c),Xe=null}else return r=En(o),r!==null&&Sl(r),e.blockedOn=o,!1;r.shift()}return!0}function cu(e,r,o){Eo(e)&&o.delete(r)}function ch(){Cl=!1,ca!==null&&Eo(ca)&&(ca=null),da!==null&&Eo(da)&&(da=null),ua!==null&&Eo(ua)&&(ua=null),mn.forEach(cu),fn.forEach(cu)}function pn(e,r){e.blockedOn===r&&(e.blockedOn=null,Cl||(Cl=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ch)))}function hn(e){function r(m){return pn(m,e)}if(0<_o.length){pn(_o[0],e);for(var o=1;o<_o.length;o++){var c=_o[o];c.blockedOn===e&&(c.blockedOn=null)}}for(ca!==null&&pn(ca,e),da!==null&&pn(da,e),ua!==null&&pn(ua,e),mn.forEach(r),fn.forEach(r),o=0;o<ma.length;o++)c=ma[o],c.blockedOn===e&&(c.blockedOn=null);for(;0<ma.length&&(o=ma[0],o.blockedOn===null);)lu(o),o.blockedOn===null&&ma.shift()}var xs=P.ReactCurrentBatchConfig,To=!0;function dh(e,r,o,c){var m=qe,f=xs.transition;xs.transition=null;try{qe=1,_l(e,r,o,c)}finally{qe=m,xs.transition=f}}function uh(e,r,o,c){var m=qe,f=xs.transition;xs.transition=null;try{qe=4,_l(e,r,o,c)}finally{qe=m,xs.transition=f}}function _l(e,r,o,c){if(To){var m=El(e,r,o,c);if(m===null)Vl(e,r,c,Po,o),iu(e,c);else if(lh(m,e,r,o,c))c.stopPropagation();else if(iu(e,c),r&4&&-1<ih.indexOf(e)){for(;m!==null;){var f=En(m);if(f!==null&&au(f),f=El(e,r,o,c),f===null&&Vl(e,r,c,Po,o),f===m)break;m=f}m!==null&&c.stopPropagation()}else Vl(e,r,c,null,o)}}var Po=null;function El(e,r,o,c){if(Po=null,e=rn(c),e=Wa(e),e!==null)if(r=Ur(e),r===null)e=null;else if(o=r.tag,o===13){if(e=yo(r),e!==null)return e;e=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Po=e,null}function du(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bl()){case cn:return 1;case wl:return 4;case N:case L:return 16;case ne:return 536870912;default:return 16}default:return 16}}var fa=null,Tl=null,Ao=null;function uu(){if(Ao)return Ao;var e,r=Tl,o=r.length,c,m="value"in fa?fa.value:fa.textContent,f=m.length;for(e=0;e<o&&r[e]===m[e];e++);var b=o-e;for(c=1;c<=b&&r[o-c]===m[f-c];c++);return Ao=m.slice(e,1<c?1-c:void 0)}function Mo(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Do(){return!0}function mu(){return!1}function Jt(e){function r(o,c,m,f,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(o=e[T],this[T]=o?o(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Do:mu,this.isPropagationStopped=mu,this}return Q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Jt(ys),xn=Q({},ys,{view:0,detail:0}),mh=Jt(xn),Al,Ml,yn,Ro=Q({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&e.type==="mousemove"?(Al=e.screenX-yn.screenX,Ml=e.screenY-yn.screenY):Ml=Al=0,yn=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),fu=Jt(Ro),fh=Q({},Ro,{dataTransfer:0}),gh=Jt(fh),ph=Q({},xn,{relatedTarget:0}),Dl=Jt(ph),hh=Q({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),xh=Jt(hh),yh=Q({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vh=Jt(yh),bh=Q({},ys,{data:0}),gu=Jt(bh),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kh(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Nh[e])?!!r[e]:!1}function Rl(){return kh}var Sh=Q({},xn,{key:function(e){if(e.key){var r=wh[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(e){return e.type==="keypress"?Mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ch=Jt(Sh),_h=Q({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=Jt(_h),Eh=Q({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Th=Jt(Eh),Ph=Q({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=Jt(Ph),Mh=Q({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dh=Jt(Mh),Rh=[9,13,27,32],Ol=g&&"CompositionEvent"in window,vn=null;g&&"documentMode"in document&&(vn=document.documentMode);var Oh=g&&"TextEvent"in window&&!vn,hu=g&&(!Ol||vn&&8<vn&&11>=vn),xu=" ",yu=!1;function vu(e,r){switch(e){case"keyup":return Rh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function Lh(e,r){switch(e){case"compositionend":return bu(r);case"keypress":return r.which!==32?null:(yu=!0,xu);case"textInput":return e=r.data,e===xu&&yu?null:e;default:return null}}function Ih(e,r){if(vs)return e==="compositionend"||!Ol&&vu(e,r)?(e=uu(),Ao=Tl=fa=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hu&&r.locale!=="ko"?null:r.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$h[e.type]:r==="textarea"}function ju(e,r,o,c){an(c),r=Fo(r,"onChange"),0<r.length&&(o=new Pl("onChange","change",null,o,c),e.push({event:o,listeners:r}))}var bn=null,wn=null;function Fh(e){zu(e,0)}function Oo(e){var r=ks(e);if(et(r))return e}function zh(e,r){if(e==="change")return r}var Nu=!1;if(g){var Ll;if(g){var Il="oninput"in document;if(!Il){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),Il=typeof ku.oninput=="function"}Ll=Il}else Ll=!1;Nu=Ll&&(!document.documentMode||9<document.documentMode)}function Su(){bn&&(bn.detachEvent("onpropertychange",Cu),wn=bn=null)}function Cu(e){if(e.propertyName==="value"&&Oo(wn)){var r=[];ju(r,wn,e,rn(e)),nn(Fh,r)}}function Uh(e,r,o){e==="focusin"?(Su(),bn=r,wn=o,bn.attachEvent("onpropertychange",Cu)):e==="focusout"&&Su()}function qh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(wn)}function Bh(e,r){if(e==="click")return Oo(r)}function Hh(e,r){if(e==="input"||e==="change")return Oo(r)}function Vh(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var fr=typeof Object.is=="function"?Object.is:Vh;function jn(e,r){if(fr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var o=Object.keys(e),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!h.call(r,m)||!fr(e[m],r[m]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eu(e,r){var o=_u(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=r&&c>=r)return{node:o,offset:r-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_u(o)}}function Tu(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Tu(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Pu(){for(var e=window,r=Yt();r instanceof e.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)e=r.contentWindow;else break;r=Yt(e.document)}return r}function $l(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Wh(e){var r=Pu(),o=e.focusedElem,c=e.selectionRange;if(r!==o&&o&&o.ownerDocument&&Tu(o.ownerDocument.documentElement,o)){if(c!==null&&$l(o)){if(r=c.start,e=c.end,e===void 0&&(e=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(e,o.value.length);else if(e=(r=o.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var m=o.textContent.length,f=Math.min(c.start,m);c=c.end===void 0?f:Math.min(c.end,m),!e.extend&&f>c&&(m=c,c=f,f=m),m=Eu(o,f);var b=Eu(o,c);m&&b&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),e.removeAllRanges(),f>c?(e.addRange(r),e.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),e.addRange(r)))}}for(r=[],e=o;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)e=r[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yh=g&&"documentMode"in document&&11>=document.documentMode,bs=null,Fl=null,Nn=null,zl=!1;function Au(e,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zl||bs==null||bs!==Yt(c)||(c=bs,"selectionStart"in c&&$l(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nn&&jn(Nn,c)||(Nn=c,c=Fo(Fl,"onSelect"),0<c.length&&(r=new Pl("onSelect","select",null,r,o),e.push({event:r,listeners:c}),r.target=bs)))}function Lo(e,r){var o={};return o[e.toLowerCase()]=r.toLowerCase(),o["Webkit"+e]="webkit"+r,o["Moz"+e]="moz"+r,o}var ws={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},Ul={},Mu={};g&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Io(e){if(Ul[e])return Ul[e];if(!ws[e])return e;var r=ws[e],o;for(o in r)if(r.hasOwnProperty(o)&&o in Mu)return Ul[e]=r[o];return e}var Du=Io("animationend"),Ru=Io("animationiteration"),Ou=Io("animationstart"),Lu=Io("transitionend"),Iu=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(e,r){Iu.set(e,r),d(r,[e])}for(var ql=0;ql<$u.length;ql++){var Bl=$u[ql],Qh=Bl.toLowerCase(),Xh=Bl[0].toUpperCase()+Bl.slice(1);ga(Qh,"on"+Xh)}ga(Du,"onAnimationEnd"),ga(Ru,"onAnimationIteration"),ga(Ou,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(Lu,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function Fu(e,r,o){var c=e.type||"unknown-event";e.currentTarget=o,vl(c,r,void 0,e),e.currentTarget=null}function zu(e,r){r=(r&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;e:{var f=void 0;if(r)for(var b=c.length-1;0<=b;b--){var T=c[b],R=T.instance,H=T.currentTarget;if(T=T.listener,R!==f&&m.isPropagationStopped())break e;Fu(m,T,H),f=R}else for(b=0;b<c.length;b++){if(T=c[b],R=T.instance,H=T.currentTarget,T=T.listener,R!==f&&m.isPropagationStopped())break e;Fu(m,T,H),f=R}}}if(hs)throw e=on,hs=!1,on=null,e}function Ke(e,r){var o=r[Jl];o===void 0&&(o=r[Jl]=new Set);var c=e+"__bubble";o.has(c)||(Uu(r,e,2,!1),o.add(c))}function Hl(e,r,o){var c=0;r&&(c|=4),Uu(o,e,c,r)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Sn(e){if(!e[$o]){e[$o]=!0,i.forEach(function(o){o!=="selectionchange"&&(Kh.has(o)||Hl(o,!1,e),Hl(o,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[$o]||(r[$o]=!0,Hl("selectionchange",!1,r))}}function Uu(e,r,o,c){switch(du(r)){case 1:var m=dh;break;case 4:m=uh;break;default:m=_l}o=m.bind(null,r,o,e),m=void 0,!zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(r,o,{capture:!0,passive:m}):e.addEventListener(r,o,!0):m!==void 0?e.addEventListener(r,o,{passive:m}):e.addEventListener(r,o,!1)}function Vl(e,r,o,c,m){var f=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(b===4)for(b=c.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===m||R.nodeType===8&&R.parentNode===m))return;b=b.return}for(;T!==null;){if(b=Wa(T),b===null)return;if(R=b.tag,R===5||R===6){c=f=b;continue e}T=T.parentNode}}c=c.return}nn(function(){var H=f,Z=rn(o),te=[];e:{var G=Iu.get(e);if(G!==void 0){var ge=Pl,ye=e;switch(e){case"keypress":if(Mo(o)===0)break e;case"keydown":case"keyup":ge=Ch;break;case"focusin":ye="focus",ge=Dl;break;case"focusout":ye="blur",ge=Dl;break;case"beforeblur":case"afterblur":ge=Dl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Th;break;case Du:case Ru:case Ou:ge=xh;break;case Lu:ge=Ah;break;case"scroll":ge=mh;break;case"wheel":ge=Dh;break;case"copy":case"cut":case"paste":ge=vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=pu}var we=(r&4)!==0,ct=!we&&e==="scroll",z=we?G!==null?G+"Capture":null:G;we=[];for(var I=H,B;I!==null;){B=I;var se=B.stateNode;if(B.tag===5&&se!==null&&(B=se,z!==null&&(se=ur(I,z),se!=null&&we.push(Cn(I,se,B)))),ct)break;I=I.return}0<we.length&&(G=new ge(G,ye,null,o,Z),te.push({event:G,listeners:we}))}}if((r&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",G&&o!==Xe&&(ye=o.relatedTarget||o.fromElement)&&(Wa(ye)||ye[qr]))break e;if((ge||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,ge?(ye=o.relatedTarget||o.toElement,ge=H,ye=ye?Wa(ye):null,ye!==null&&(ct=Ur(ye),ye!==ct||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ge=null,ye=H),ge!==ye)){if(we=fu,se="onMouseLeave",z="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(we=pu,se="onPointerLeave",z="onPointerEnter",I="pointer"),ct=ge==null?G:ks(ge),B=ye==null?G:ks(ye),G=new we(se,I+"leave",ge,o,Z),G.target=ct,G.relatedTarget=B,se=null,Wa(Z)===H&&(we=new we(z,I+"enter",ye,o,Z),we.target=B,we.relatedTarget=ct,se=we),ct=se,ge&&ye)t:{for(we=ge,z=ye,I=0,B=we;B;B=js(B))I++;for(B=0,se=z;se;se=js(se))B++;for(;0<I-B;)we=js(we),I--;for(;0<B-I;)z=js(z),B--;for(;I--;){if(we===z||z!==null&&we===z.alternate)break t;we=js(we),z=js(z)}we=null}else we=null;ge!==null&&qu(te,G,ge,we,!1),ye!==null&&ct!==null&&qu(te,ct,ye,we,!0)}}e:{if(G=H?ks(H):window,ge=G.nodeName&&G.nodeName.toLowerCase(),ge==="select"||ge==="input"&&G.type==="file")var Ne=zh;else if(wu(G))if(Nu)Ne=Hh;else{Ne=qh;var _e=Uh}else(ge=G.nodeName)&&ge.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(Ne=Bh);if(Ne&&(Ne=Ne(e,H))){ju(te,Ne,o,Z);break e}_e&&_e(e,G,H),e==="focusout"&&(_e=G._wrapperState)&&_e.controlled&&G.type==="number"&&Xt(G,"number",G.value)}switch(_e=H?ks(H):window,e){case"focusin":(wu(_e)||_e.contentEditable==="true")&&(bs=_e,Fl=H,Nn=null);break;case"focusout":Nn=Fl=bs=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Au(te,o,Z);break;case"selectionchange":if(Yh)break;case"keydown":case"keyup":Au(te,o,Z)}var Ee;if(Ol)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else vs?vu(e,o)&&(De="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(hu&&o.locale!=="ko"&&(vs||De!=="onCompositionStart"?De==="onCompositionEnd"&&vs&&(Ee=uu()):(fa=Z,Tl="value"in fa?fa.value:fa.textContent,vs=!0)),_e=Fo(H,De),0<_e.length&&(De=new gu(De,e,null,o,Z),te.push({event:De,listeners:_e}),Ee?De.data=Ee:(Ee=bu(o),Ee!==null&&(De.data=Ee)))),(Ee=Oh?Lh(e,o):Ih(e,o))&&(H=Fo(H,"onBeforeInput"),0<H.length&&(Z=new gu("onBeforeInput","beforeinput",null,o,Z),te.push({event:Z,listeners:H}),Z.data=Ee))}zu(te,r)})}function Cn(e,r,o){return{instance:e,listener:r,currentTarget:o}}function Fo(e,r){for(var o=r+"Capture",c=[];e!==null;){var m=e,f=m.stateNode;m.tag===5&&f!==null&&(m=f,f=ur(e,o),f!=null&&c.unshift(Cn(e,f,m)),f=ur(e,r),f!=null&&c.push(Cn(e,f,m))),e=e.return}return c}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,r,o,c,m){for(var f=r._reactName,b=[];o!==null&&o!==c;){var T=o,R=T.alternate,H=T.stateNode;if(R!==null&&R===c)break;T.tag===5&&H!==null&&(T=H,m?(R=ur(o,f),R!=null&&b.unshift(Cn(o,R,T))):m||(R=ur(o,f),R!=null&&b.push(Cn(o,R,T)))),o=o.return}b.length!==0&&e.push({event:r,listeners:b})}var Jh=/\r\n?/g,Gh=/\u0000|\uFFFD/g;function Bu(e){return(typeof e=="string"?e:""+e).replace(Jh,`
`).replace(Gh,"")}function zo(e,r,o){if(r=Bu(r),Bu(e)!==r&&o)throw Error(n(425))}function Uo(){}var Wl=null,Yl=null;function Ql(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xl=typeof setTimeout=="function"?setTimeout:void 0,Zh=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(t0)}:Xl;function t0(e){setTimeout(function(){throw e})}function Kl(e,r){var o=r,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){e.removeChild(m),hn(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);hn(r)}function pa(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return e;r--}else o==="/$"&&r++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Ns,_n="__reactProps$"+Ns,qr="__reactContainer$"+Ns,Jl="__reactEvents$"+Ns,r0="__reactListeners$"+Ns,a0="__reactHandles$"+Ns;function Wa(e){var r=e[Sr];if(r)return r;for(var o=e.parentNode;o;){if(r=o[qr]||o[Sr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(e=Vu(e);e!==null;){if(o=e[Sr])return o;e=Vu(e)}return r}e=o,o=e.parentNode}return null}function En(e){return e=e[Sr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function qo(e){return e[_n]||null}var Gl=[],Ss=-1;function ha(e){return{current:e}}function Je(e){0>Ss||(e.current=Gl[Ss],Gl[Ss]=null,Ss--)}function Qe(e,r){Ss++,Gl[Ss]=e.current,e.current=r}var xa={},kt=ha(xa),Ft=ha(!1),Ya=xa;function Cs(e,r){var o=e.type.contextTypes;if(!o)return xa;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var m={},f;for(f in o)m[f]=r[f];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=m),m}function zt(e){return e=e.childContextTypes,e!=null}function Bo(){Je(Ft),Je(kt)}function Wu(e,r,o){if(kt.current!==xa)throw Error(n(168));Qe(kt,r),Qe(Ft,o)}function Yu(e,r,o){var c=e.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var m in c)if(!(m in r))throw Error(n(108,de(e)||"Unknown",m));return Q({},o,c)}function Ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,Ya=kt.current,Qe(kt,e),Qe(Ft,Ft.current),!0}function Qu(e,r,o){var c=e.stateNode;if(!c)throw Error(n(169));o?(e=Yu(e,r,Ya),c.__reactInternalMemoizedMergedChildContext=e,Je(Ft),Je(kt),Qe(kt,e)):Je(Ft),Qe(Ft,o)}var Br=null,Vo=!1,Zl=!1;function Xu(e){Br===null?Br=[e]:Br.push(e)}function s0(e){Vo=!0,Xu(e)}function ya(){if(!Zl&&Br!==null){Zl=!0;var e=0,r=qe;try{var o=Br;for(qe=1;e<o.length;e++){var c=o[e];do c=c(!0);while(c!==null)}Br=null,Vo=!1}catch(m){throw Br!==null&&(Br=Br.slice(e+1)),jo(cn,ya),m}finally{qe=r,Zl=!1}}return null}var _s=[],Es=0,Wo=null,Yo=0,ar=[],sr=0,Qa=null,Hr=1,Vr="";function Xa(e,r){_s[Es++]=Yo,_s[Es++]=Wo,Wo=e,Yo=r}function Ku(e,r,o){ar[sr++]=Hr,ar[sr++]=Vr,ar[sr++]=Qa,Qa=e;var c=Hr;e=Vr;var m=32-tt(c)-1;c&=~(1<<m),o+=1;var f=32-tt(r)+m;if(30<f){var b=m-m%5;f=(c&(1<<b)-1).toString(32),c>>=b,m-=b,Hr=1<<32-tt(r)+m|o<<m|c,Vr=f+e}else Hr=1<<f|o<<m|c,Vr=e}function ec(e){e.return!==null&&(Xa(e,1),Ku(e,1,0))}function tc(e){for(;e===Wo;)Wo=_s[--Es],_s[Es]=null,Yo=_s[--Es],_s[Es]=null;for(;e===Qa;)Qa=ar[--sr],ar[sr]=null,Vr=ar[--sr],ar[sr]=null,Hr=ar[--sr],ar[sr]=null}var Gt=null,Zt=null,Ze=!1,gr=null;function Ju(e,r){var o=lr(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=e,r=e.deletions,r===null?(e.deletions=[o],e.flags|=16):r.push(o)}function Gu(e,r){switch(e.tag){case 5:var o=e.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Gt=e,Zt=pa(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Gt=e,Zt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Qa!==null?{id:Hr,overflow:Vr}:null,e.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=lr(18,null,null,0),o.stateNode=r,o.return=e,e.child=o,Gt=e,Zt=null,!0):!1;default:return!1}}function rc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ac(e){if(Ze){var r=Zt;if(r){var o=r;if(!Gu(e,r)){if(rc(e))throw Error(n(418));r=pa(o.nextSibling);var c=Gt;r&&Gu(e,r)?Ju(c,o):(e.flags=e.flags&-4097|2,Ze=!1,Gt=e)}}else{if(rc(e))throw Error(n(418));e.flags=e.flags&-4097|2,Ze=!1,Gt=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Qo(e){if(e!==Gt)return!1;if(!Ze)return Zu(e),Ze=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Ql(e.type,e.memoizedProps)),r&&(r=Zt)){if(rc(e))throw em(),Error(n(418));for(;r;)Ju(e,r),r=pa(r.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(r===0){Zt=pa(e.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}e=e.nextSibling}Zt=null}}else Zt=Gt?pa(e.stateNode.nextSibling):null;return!0}function em(){for(var e=Zt;e;)e=pa(e.nextSibling)}function Ts(){Zt=Gt=null,Ze=!1}function sc(e){gr===null?gr=[e]:gr.push(e)}var n0=P.ReactCurrentBatchConfig;function Tn(e,r,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,e));var m=c,f=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(b){var T=m.refs;b===null?delete T[f]:T[f]=b},r._stringRef=f,r)}if(typeof e!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,e))}return e}function Xo(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function tm(e){var r=e._init;return r(e._payload)}function rm(e){function r(z,I){if(e){var B=z.deletions;B===null?(z.deletions=[I],z.flags|=16):B.push(I)}}function o(z,I){if(!e)return null;for(;I!==null;)r(z,I),I=I.sibling;return null}function c(z,I){for(z=new Map;I!==null;)I.key!==null?z.set(I.key,I):z.set(I.index,I),I=I.sibling;return z}function m(z,I){return z=Ca(z,I),z.index=0,z.sibling=null,z}function f(z,I,B){return z.index=B,e?(B=z.alternate,B!==null?(B=B.index,B<I?(z.flags|=2,I):B):(z.flags|=2,I)):(z.flags|=1048576,I)}function b(z){return e&&z.alternate===null&&(z.flags|=2),z}function T(z,I,B,se){return I===null||I.tag!==6?(I=Xc(B,z.mode,se),I.return=z,I):(I=m(I,B),I.return=z,I)}function R(z,I,B,se){var Ne=B.type;return Ne===F?Z(z,I,B.props.children,se,B.key):I!==null&&(I.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ue&&tm(Ne)===I.type)?(se=m(I,B.props),se.ref=Tn(z,I,B),se.return=z,se):(se=vi(B.type,B.key,B.props,null,z.mode,se),se.ref=Tn(z,I,B),se.return=z,se)}function H(z,I,B,se){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=Kc(B,z.mode,se),I.return=z,I):(I=m(I,B.children||[]),I.return=z,I)}function Z(z,I,B,se,Ne){return I===null||I.tag!==7?(I=as(B,z.mode,se,Ne),I.return=z,I):(I=m(I,B),I.return=z,I)}function te(z,I,B){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Xc(""+I,z.mode,B),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case X:return B=vi(I.type,I.key,I.props,null,z.mode,B),B.ref=Tn(z,null,I),B.return=z,B;case ae:return I=Kc(I,z.mode,B),I.return=z,I;case ue:var se=I._init;return te(z,se(I._payload),B)}if(Ot(I)||q(I))return I=as(I,z.mode,B,null),I.return=z,I;Xo(z,I)}return null}function G(z,I,B,se){var Ne=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ne!==null?null:T(z,I,""+B,se);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case X:return B.key===Ne?R(z,I,B,se):null;case ae:return B.key===Ne?H(z,I,B,se):null;case ue:return Ne=B._init,G(z,I,Ne(B._payload),se)}if(Ot(B)||q(B))return Ne!==null?null:Z(z,I,B,se,null);Xo(z,B)}return null}function ge(z,I,B,se,Ne){if(typeof se=="string"&&se!==""||typeof se=="number")return z=z.get(B)||null,T(I,z,""+se,Ne);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case X:return z=z.get(se.key===null?B:se.key)||null,R(I,z,se,Ne);case ae:return z=z.get(se.key===null?B:se.key)||null,H(I,z,se,Ne);case ue:var _e=se._init;return ge(z,I,B,_e(se._payload),Ne)}if(Ot(se)||q(se))return z=z.get(B)||null,Z(I,z,se,Ne,null);Xo(I,se)}return null}function ye(z,I,B,se){for(var Ne=null,_e=null,Ee=I,De=I=0,vt=null;Ee!==null&&De<B.length;De++){Ee.index>De?(vt=Ee,Ee=null):vt=Ee.sibling;var ze=G(z,Ee,B[De],se);if(ze===null){Ee===null&&(Ee=vt);break}e&&Ee&&ze.alternate===null&&r(z,Ee),I=f(ze,I,De),_e===null?Ne=ze:_e.sibling=ze,_e=ze,Ee=vt}if(De===B.length)return o(z,Ee),Ze&&Xa(z,De),Ne;if(Ee===null){for(;De<B.length;De++)Ee=te(z,B[De],se),Ee!==null&&(I=f(Ee,I,De),_e===null?Ne=Ee:_e.sibling=Ee,_e=Ee);return Ze&&Xa(z,De),Ne}for(Ee=c(z,Ee);De<B.length;De++)vt=ge(Ee,z,De,B[De],se),vt!==null&&(e&&vt.alternate!==null&&Ee.delete(vt.key===null?De:vt.key),I=f(vt,I,De),_e===null?Ne=vt:_e.sibling=vt,_e=vt);return e&&Ee.forEach(function(_a){return r(z,_a)}),Ze&&Xa(z,De),Ne}function we(z,I,B,se){var Ne=q(B);if(typeof Ne!="function")throw Error(n(150));if(B=Ne.call(B),B==null)throw Error(n(151));for(var _e=Ne=null,Ee=I,De=I=0,vt=null,ze=B.next();Ee!==null&&!ze.done;De++,ze=B.next()){Ee.index>De?(vt=Ee,Ee=null):vt=Ee.sibling;var _a=G(z,Ee,ze.value,se);if(_a===null){Ee===null&&(Ee=vt);break}e&&Ee&&_a.alternate===null&&r(z,Ee),I=f(_a,I,De),_e===null?Ne=_a:_e.sibling=_a,_e=_a,Ee=vt}if(ze.done)return o(z,Ee),Ze&&Xa(z,De),Ne;if(Ee===null){for(;!ze.done;De++,ze=B.next())ze=te(z,ze.value,se),ze!==null&&(I=f(ze,I,De),_e===null?Ne=ze:_e.sibling=ze,_e=ze);return Ze&&Xa(z,De),Ne}for(Ee=c(z,Ee);!ze.done;De++,ze=B.next())ze=ge(Ee,z,De,ze.value,se),ze!==null&&(e&&ze.alternate!==null&&Ee.delete(ze.key===null?De:ze.key),I=f(ze,I,De),_e===null?Ne=ze:_e.sibling=ze,_e=ze);return e&&Ee.forEach(function($0){return r(z,$0)}),Ze&&Xa(z,De),Ne}function ct(z,I,B,se){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case X:e:{for(var Ne=B.key,_e=I;_e!==null;){if(_e.key===Ne){if(Ne=B.type,Ne===F){if(_e.tag===7){o(z,_e.sibling),I=m(_e,B.props.children),I.return=z,z=I;break e}}else if(_e.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ue&&tm(Ne)===_e.type){o(z,_e.sibling),I=m(_e,B.props),I.ref=Tn(z,_e,B),I.return=z,z=I;break e}o(z,_e);break}else r(z,_e);_e=_e.sibling}B.type===F?(I=as(B.props.children,z.mode,se,B.key),I.return=z,z=I):(se=vi(B.type,B.key,B.props,null,z.mode,se),se.ref=Tn(z,I,B),se.return=z,z=se)}return b(z);case ae:e:{for(_e=B.key;I!==null;){if(I.key===_e)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){o(z,I.sibling),I=m(I,B.children||[]),I.return=z,z=I;break e}else{o(z,I);break}else r(z,I);I=I.sibling}I=Kc(B,z.mode,se),I.return=z,z=I}return b(z);case ue:return _e=B._init,ct(z,I,_e(B._payload),se)}if(Ot(B))return ye(z,I,B,se);if(q(B))return we(z,I,B,se);Xo(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,I!==null&&I.tag===6?(o(z,I.sibling),I=m(I,B),I.return=z,z=I):(o(z,I),I=Xc(B,z.mode,se),I.return=z,z=I),b(z)):o(z,I)}return ct}var Ps=rm(!0),am=rm(!1),Ko=ha(null),Jo=null,As=null,nc=null;function oc(){nc=As=Jo=null}function ic(e){var r=Ko.current;Je(Ko),e._currentValue=r}function lc(e,r,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),e===o)break;e=e.return}}function Ms(e,r){Jo=e,nc=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Ut=!0),e.firstContext=null)}function nr(e){var r=e._currentValue;if(nc!==e)if(e={context:e,memoizedValue:r,next:null},As===null){if(Jo===null)throw Error(n(308));As=e,Jo.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return r}var Ka=null;function cc(e){Ka===null?Ka=[e]:Ka.push(e)}function sm(e,r,o,c){var m=r.interleaved;return m===null?(o.next=o,cc(r)):(o.next=m.next,m.next=o),r.interleaved=o,Wr(e,c)}function Wr(e,r){e.lanes|=r;var o=e.alternate;for(o!==null&&(o.lanes|=r),o=e,e=e.return;e!==null;)e.childLanes|=r,o=e.alternate,o!==null&&(o.childLanes|=r),o=e,e=e.return;return o.tag===3?o.stateNode:null}var va=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function ba(e,r,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Fe&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,Wr(e,o)}return m=c.interleaved,m===null?(r.next=r,cc(c)):(r.next=m.next,m.next=r),c.interleaved=r,Wr(e,o)}function Go(e,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=e.pendingLanes,o|=c,r.lanes=o,kl(e,o)}}function om(e,r){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?m=f=b:f=f.next=b,o=o.next}while(o!==null);f===null?m=f=r:f=f.next=r}else m=f=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:f,shared:c.shared,effects:c.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=r:e.next=r,o.lastBaseUpdate=r}function Zo(e,r,o,c){var m=e.updateQueue;va=!1;var f=m.firstBaseUpdate,b=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var R=T,H=R.next;R.next=null,b===null?f=H:b.next=H,b=R;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==b&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=R))}if(f!==null){var te=m.baseState;b=0,Z=H=R=null,T=f;do{var G=T.lane,ge=T.eventTime;if((c&G)===G){Z!==null&&(Z=Z.next={eventTime:ge,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ye=e,we=T;switch(G=r,ge=o,we.tag){case 1:if(ye=we.payload,typeof ye=="function"){te=ye.call(ge,te,G);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,G=typeof ye=="function"?ye.call(ge,te,G):ye,G==null)break e;te=Q({},te,G);break e;case 2:va=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,G=m.effects,G===null?m.effects=[T]:G.push(T))}else ge={eventTime:ge,lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=ge,R=te):Z=Z.next=ge,b|=G;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;G=T,T=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);if(Z===null&&(R=te),m.baseState=R,m.firstBaseUpdate=H,m.lastBaseUpdate=Z,r=m.shared.interleaved,r!==null){m=r;do b|=m.lane,m=m.next;while(m!==r)}else f===null&&(m.shared.lanes=0);Za|=b,e.lanes=b,e.memoizedState=te}}function im(e,r,o){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var c=e[r],m=c.callback;if(m!==null){if(c.callback=null,c=o,typeof m!="function")throw Error(n(191,m));m.call(c)}}}var Pn={},Cr=ha(Pn),An=ha(Pn),Mn=ha(Pn);function Ja(e){if(e===Pn)throw Error(n(174));return e}function uc(e,r){switch(Qe(Mn,r),Qe(An,e),Qe(Cr,Pn),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:It(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=It(r,e)}Je(Cr),Qe(Cr,r)}function Ds(){Je(Cr),Je(An),Je(Mn)}function lm(e){Ja(Mn.current);var r=Ja(Cr.current),o=It(r,e.type);r!==o&&(Qe(An,e),Qe(Cr,o))}function mc(e){An.current===e&&(Je(Cr),Je(An))}var rt=ha(0);function ei(e){for(var r=e;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fc=[];function gc(){for(var e=0;e<fc.length;e++)fc[e]._workInProgressVersionPrimary=null;fc.length=0}var ti=P.ReactCurrentDispatcher,pc=P.ReactCurrentBatchConfig,Ga=0,at=null,ft=null,xt=null,ri=!1,Dn=!1,Rn=0,o0=0;function St(){throw Error(n(321))}function hc(e,r){if(r===null)return!1;for(var o=0;o<r.length&&o<e.length;o++)if(!fr(e[o],r[o]))return!1;return!0}function xc(e,r,o,c,m,f){if(Ga=f,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ti.current=e===null||e.memoizedState===null?d0:u0,e=o(c,m),Dn){f=0;do{if(Dn=!1,Rn=0,25<=f)throw Error(n(301));f+=1,xt=ft=null,r.updateQueue=null,ti.current=m0,e=o(c,m)}while(Dn)}if(ti.current=ni,r=ft!==null&&ft.next!==null,Ga=0,xt=ft=at=null,ri=!1,r)throw Error(n(300));return e}function yc(){var e=Rn!==0;return Rn=0,e}function _r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?at.memoizedState=xt=e:xt=xt.next=e,xt}function or(){if(ft===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var r=xt===null?at.memoizedState:xt.next;if(r!==null)xt=r,ft=e;else{if(e===null)throw Error(n(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},xt===null?at.memoizedState=xt=e:xt=xt.next=e}return xt}function On(e,r){return typeof r=="function"?r(e):r}function vc(e){var r=or(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=e;var c=ft,m=c.baseQueue,f=o.pending;if(f!==null){if(m!==null){var b=m.next;m.next=f.next,f.next=b}c.baseQueue=m=f,o.pending=null}if(m!==null){f=m.next,c=c.baseState;var T=b=null,R=null,H=f;do{var Z=H.lane;if((Ga&Z)===Z)R!==null&&(R=R.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:e(c,H.action);else{var te={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};R===null?(T=R=te,b=c):R=R.next=te,at.lanes|=Z,Za|=Z}H=H.next}while(H!==null&&H!==f);R===null?b=c:R.next=T,fr(c,r.memoizedState)||(Ut=!0),r.memoizedState=c,r.baseState=b,r.baseQueue=R,o.lastRenderedState=c}if(e=o.interleaved,e!==null){m=e;do f=m.lane,at.lanes|=f,Za|=f,m=m.next;while(m!==e)}else m===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function bc(e){var r=or(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,f=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do f=e(f,b.action),b=b.next;while(b!==m);fr(f,r.memoizedState)||(Ut=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,c]}function cm(){}function dm(e,r){var o=at,c=or(),m=r(),f=!fr(c.memoizedState,m);if(f&&(c.memoizedState=m,Ut=!0),c=c.queue,wc(fm.bind(null,o,c,e),[e]),c.getSnapshot!==r||f||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Ln(9,mm.bind(null,o,c,m,r),void 0,null),yt===null)throw Error(n(349));(Ga&30)!==0||um(o,r,m)}return m}function um(e,r,o){e.flags|=16384,e={getSnapshot:r,value:o},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.stores=[e]):(o=r.stores,o===null?r.stores=[e]:o.push(e))}function mm(e,r,o,c){r.value=o,r.getSnapshot=c,gm(r)&&pm(e)}function fm(e,r,o){return o(function(){gm(r)&&pm(e)})}function gm(e){var r=e.getSnapshot;e=e.value;try{var o=r();return!fr(e,o)}catch{return!0}}function pm(e){var r=Wr(e,1);r!==null&&yr(r,e,1,-1)}function hm(e){var r=_r();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},r.queue=e,e=e.dispatch=c0.bind(null,at,e),[r.memoizedState,e]}function Ln(e,r,o,c){return e={tag:e,create:r,destroy:o,deps:c,next:null},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.lastEffect=e.next=e):(o=r.lastEffect,o===null?r.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,r.lastEffect=e)),e}function xm(){return or().memoizedState}function ai(e,r,o,c){var m=_r();at.flags|=e,m.memoizedState=Ln(1|r,o,void 0,c===void 0?null:c)}function si(e,r,o,c){var m=or();c=c===void 0?null:c;var f=void 0;if(ft!==null){var b=ft.memoizedState;if(f=b.destroy,c!==null&&hc(c,b.deps)){m.memoizedState=Ln(r,o,f,c);return}}at.flags|=e,m.memoizedState=Ln(1|r,o,f,c)}function ym(e,r){return ai(8390656,8,e,r)}function wc(e,r){return si(2048,8,e,r)}function vm(e,r){return si(4,2,e,r)}function bm(e,r){return si(4,4,e,r)}function wm(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function jm(e,r,o){return o=o!=null?o.concat([e]):null,si(4,4,wm.bind(null,r,e),o)}function jc(){}function Nm(e,r){var o=or();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&hc(r,c[1])?c[0]:(o.memoizedState=[e,r],e)}function km(e,r){var o=or();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&hc(r,c[1])?c[0]:(e=e(),o.memoizedState=[e,r],e)}function Sm(e,r,o){return(Ga&21)===0?(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=o):(fr(o,r)||(o=tu(),at.lanes|=o,Za|=o,e.baseState=!0),r)}function i0(e,r){var o=qe;qe=o!==0&&4>o?o:4,e(!0);var c=pc.transition;pc.transition={};try{e(!1),r()}finally{qe=o,pc.transition=c}}function Cm(){return or().memoizedState}function l0(e,r,o){var c=ka(e);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},_m(e))Em(r,o);else if(o=sm(e,r,o,c),o!==null){var m=At();yr(o,e,c,m),Tm(o,r,c)}}function c0(e,r,o){var c=ka(e),m={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(_m(e))Em(r,m);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var b=r.lastRenderedState,T=f(b,o);if(m.hasEagerState=!0,m.eagerState=T,fr(T,b)){var R=r.interleaved;R===null?(m.next=m,cc(r)):(m.next=R.next,R.next=m),r.interleaved=m;return}}catch{}finally{}o=sm(e,r,m,c),o!==null&&(m=At(),yr(o,e,c,m),Tm(o,r,c))}}function _m(e){var r=e.alternate;return e===at||r!==null&&r===at}function Em(e,r){Dn=ri=!0;var o=e.pending;o===null?r.next=r:(r.next=o.next,o.next=r),e.pending=r}function Tm(e,r,o){if((o&4194240)!==0){var c=r.lanes;c&=e.pendingLanes,o|=c,r.lanes=o,kl(e,o)}}var ni={readContext:nr,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},d0={readContext:nr,useCallback:function(e,r){return _r().memoizedState=[e,r===void 0?null:r],e},useContext:nr,useEffect:ym,useImperativeHandle:function(e,r,o){return o=o!=null?o.concat([e]):null,ai(4194308,4,wm.bind(null,r,e),o)},useLayoutEffect:function(e,r){return ai(4194308,4,e,r)},useInsertionEffect:function(e,r){return ai(4,2,e,r)},useMemo:function(e,r){var o=_r();return r=r===void 0?null:r,e=e(),o.memoizedState=[e,r],e},useReducer:function(e,r,o){var c=_r();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},c.queue=e,e=e.dispatch=l0.bind(null,at,e),[c.memoizedState,e]},useRef:function(e){var r=_r();return e={current:e},r.memoizedState=e},useState:hm,useDebugValue:jc,useDeferredValue:function(e){return _r().memoizedState=e},useTransition:function(){var e=hm(!1),r=e[0];return e=i0.bind(null,e[1]),_r().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,o){var c=at,m=_r();if(Ze){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));(Ga&30)!==0||um(c,r,o)}m.memoizedState=o;var f={value:o,getSnapshot:r};return m.queue=f,ym(fm.bind(null,c,f,e),[e]),c.flags|=2048,Ln(9,mm.bind(null,c,f,o,r),void 0,null),o},useId:function(){var e=_r(),r=yt.identifierPrefix;if(Ze){var o=Vr,c=Hr;o=(c&~(1<<32-tt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Rn++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=o0++,r=":"+r+"r"+o.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},u0={readContext:nr,useCallback:Nm,useContext:nr,useEffect:wc,useImperativeHandle:jm,useInsertionEffect:vm,useLayoutEffect:bm,useMemo:km,useReducer:vc,useRef:xm,useState:function(){return vc(On)},useDebugValue:jc,useDeferredValue:function(e){var r=or();return Sm(r,ft.memoizedState,e)},useTransition:function(){var e=vc(On)[0],r=or().memoizedState;return[e,r]},useMutableSource:cm,useSyncExternalStore:dm,useId:Cm,unstable_isNewReconciler:!1},m0={readContext:nr,useCallback:Nm,useContext:nr,useEffect:wc,useImperativeHandle:jm,useInsertionEffect:vm,useLayoutEffect:bm,useMemo:km,useReducer:bc,useRef:xm,useState:function(){return bc(On)},useDebugValue:jc,useDeferredValue:function(e){var r=or();return ft===null?r.memoizedState=e:Sm(r,ft.memoizedState,e)},useTransition:function(){var e=bc(On)[0],r=or().memoizedState;return[e,r]},useMutableSource:cm,useSyncExternalStore:dm,useId:Cm,unstable_isNewReconciler:!1};function pr(e,r){if(e&&e.defaultProps){r=Q({},r),e=e.defaultProps;for(var o in e)r[o]===void 0&&(r[o]=e[o]);return r}return r}function Nc(e,r,o,c){r=e.memoizedState,o=o(c,r),o=o==null?r:Q({},r,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var oi={isMounted:function(e){return(e=e._reactInternals)?Ur(e)===e:!1},enqueueSetState:function(e,r,o){e=e._reactInternals;var c=At(),m=ka(e),f=Yr(c,m);f.payload=r,o!=null&&(f.callback=o),r=ba(e,f,m),r!==null&&(yr(r,e,m,c),Go(r,e,m))},enqueueReplaceState:function(e,r,o){e=e._reactInternals;var c=At(),m=ka(e),f=Yr(c,m);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ba(e,f,m),r!==null&&(yr(r,e,m,c),Go(r,e,m))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var o=At(),c=ka(e),m=Yr(o,c);m.tag=2,r!=null&&(m.callback=r),r=ba(e,m,c),r!==null&&(yr(r,e,c,o),Go(r,e,c))}};function Pm(e,r,o,c,m,f,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,f,b):r.prototype&&r.prototype.isPureReactComponent?!jn(o,c)||!jn(m,f):!0}function Am(e,r,o){var c=!1,m=xa,f=r.contextType;return typeof f=="object"&&f!==null?f=nr(f):(m=zt(r)?Ya:kt.current,c=r.contextTypes,f=(c=c!=null)?Cs(e,m):xa),r=new r(o,f),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=oi,e.stateNode=r,r._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=f),r}function Mm(e,r,o,c){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==e&&oi.enqueueReplaceState(r,r.state,null)}function kc(e,r,o,c){var m=e.stateNode;m.props=o,m.state=e.memoizedState,m.refs={},dc(e);var f=r.contextType;typeof f=="object"&&f!==null?m.context=nr(f):(f=zt(r)?Ya:kt.current,m.context=Cs(e,f)),m.state=e.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Nc(e,r,f,o),m.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&oi.enqueueReplaceState(m,m.state,null),Zo(e,o,m,c),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,r){try{var o="",c=r;do o+=U(c),c=c.return;while(c);var m=o}catch(f){m=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:r,stack:m,digest:null}}function Sc(e,r,o){return{value:e,source:null,stack:o??null,digest:r??null}}function Cc(e,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var f0=typeof WeakMap=="function"?WeakMap:Map;function Dm(e,r,o){o=Yr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){fi||(fi=!0,Uc=c),Cc(e,r)},o}function Rm(e,r,o){o=Yr(-1,o),o.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var m=r.value;o.payload=function(){return c(m)},o.callback=function(){Cc(e,r)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){Cc(e,r),typeof c!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),o}function Om(e,r,o){var c=e.pingCache;if(c===null){c=e.pingCache=new f0;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(m.add(o),e=_0.bind(null,e,r,o),r.then(e,e))}function Lm(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Im(e,r,o,c,m){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Yr(-1,1),r.tag=2,ba(o,r,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var g0=P.ReactCurrentOwner,Ut=!1;function Pt(e,r,o,c){r.child=e===null?am(r,null,o,c):Ps(r,e.child,o,c)}function $m(e,r,o,c,m){o=o.render;var f=r.ref;return Ms(r,m),c=xc(e,r,o,c,f,m),o=yc(),e!==null&&!Ut?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~m,Qr(e,r,m)):(Ze&&o&&ec(r),r.flags|=1,Pt(e,r,c,m),r.child)}function Fm(e,r,o,c,m){if(e===null){var f=o.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,zm(e,r,f,c,m)):(e=vi(o.type,null,c,r,r.mode,m),e.ref=r.ref,e.return=r,r.child=e)}if(f=e.child,(e.lanes&m)===0){var b=f.memoizedProps;if(o=o.compare,o=o!==null?o:jn,o(b,c)&&e.ref===r.ref)return Qr(e,r,m)}return r.flags|=1,e=Ca(f,c),e.ref=r.ref,e.return=r,r.child=e}function zm(e,r,o,c,m){if(e!==null){var f=e.memoizedProps;if(jn(f,c)&&e.ref===r.ref)if(Ut=!1,r.pendingProps=c=f,(e.lanes&m)!==0)(e.flags&131072)!==0&&(Ut=!0);else return r.lanes=e.lanes,Qr(e,r,m)}return _c(e,r,o,c,m)}function Um(e,r,o){var c=r.pendingProps,m=c.children,f=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ls,er),er|=o;else{if((o&1073741824)===0)return e=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Qe(Ls,er),er|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:o,Qe(Ls,er),er|=c}else f!==null?(c=f.baseLanes|o,r.memoizedState=null):c=o,Qe(Ls,er),er|=c;return Pt(e,r,m,o),r.child}function qm(e,r){var o=r.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function _c(e,r,o,c,m){var f=zt(o)?Ya:kt.current;return f=Cs(r,f),Ms(r,m),o=xc(e,r,o,c,f,m),c=yc(),e!==null&&!Ut?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~m,Qr(e,r,m)):(Ze&&c&&ec(r),r.flags|=1,Pt(e,r,o,m),r.child)}function Bm(e,r,o,c,m){if(zt(o)){var f=!0;Ho(r)}else f=!1;if(Ms(r,m),r.stateNode===null)li(e,r),Am(r,o,c),kc(r,o,c,m),c=!0;else if(e===null){var b=r.stateNode,T=r.memoizedProps;b.props=T;var R=b.context,H=o.contextType;typeof H=="object"&&H!==null?H=nr(H):(H=zt(o)?Ya:kt.current,H=Cs(r,H));var Z=o.getDerivedStateFromProps,te=typeof Z=="function"||typeof b.getSnapshotBeforeUpdate=="function";te||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==c||R!==H)&&Mm(r,b,c,H),va=!1;var G=r.memoizedState;b.state=G,Zo(r,c,b,m),R=r.memoizedState,T!==c||G!==R||Ft.current||va?(typeof Z=="function"&&(Nc(r,o,Z,c),R=r.memoizedState),(T=va||Pm(r,o,T,c,G,R,H))?(te||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=R),b.props=c,b.state=R,b.context=H,c=T):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{b=r.stateNode,nm(e,r),T=r.memoizedProps,H=r.type===r.elementType?T:pr(r.type,T),b.props=H,te=r.pendingProps,G=b.context,R=o.contextType,typeof R=="object"&&R!==null?R=nr(R):(R=zt(o)?Ya:kt.current,R=Cs(r,R));var ge=o.getDerivedStateFromProps;(Z=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==te||G!==R)&&Mm(r,b,c,R),va=!1,G=r.memoizedState,b.state=G,Zo(r,c,b,m);var ye=r.memoizedState;T!==te||G!==ye||Ft.current||va?(typeof ge=="function"&&(Nc(r,o,ge,c),ye=r.memoizedState),(H=va||Pm(r,o,H,c,G,ye,R)||!1)?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ye,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ye,R)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ye),b.props=c,b.state=ye,b.context=R,c=H):(typeof b.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),c=!1)}return Ec(e,r,o,c,f,m)}function Ec(e,r,o,c,m,f){qm(e,r);var b=(r.flags&128)!==0;if(!c&&!b)return m&&Qu(r,o,!1),Qr(e,r,f);c=r.stateNode,g0.current=r;var T=b&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,e!==null&&b?(r.child=Ps(r,e.child,null,f),r.child=Ps(r,null,T,f)):Pt(e,r,T,f),r.memoizedState=c.state,m&&Qu(r,o,!0),r.child}function Hm(e){var r=e.stateNode;r.pendingContext?Wu(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Wu(e,r.context,!1),uc(e,r.containerInfo)}function Vm(e,r,o,c,m){return Ts(),sc(m),r.flags|=256,Pt(e,r,o,c),r.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wm(e,r,o){var c=r.pendingProps,m=rt.current,f=!1,b=(r.flags&128)!==0,T;if((T=b)||(T=e!==null&&e.memoizedState===null?!1:(m&2)!==0),T?(f=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),Qe(rt,m&1),e===null)return ac(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(b=c.children,e=c.fallback,f?(c=r.mode,f=r.child,b={mode:"hidden",children:b},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=b):f=bi(b,c,0,null),e=as(e,c,o,null),f.return=r,e.return=r,f.sibling=e,r.child=f,r.child.memoizedState=Pc(o),r.memoizedState=Tc,e):Ac(r,b));if(m=e.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return p0(e,r,b,c,T,m,o);if(f){f=c.fallback,b=r.mode,m=e.child,T=m.sibling;var R={mode:"hidden",children:c.children};return(b&1)===0&&r.child!==m?(c=r.child,c.childLanes=0,c.pendingProps=R,r.deletions=null):(c=Ca(m,R),c.subtreeFlags=m.subtreeFlags&14680064),T!==null?f=Ca(T,f):(f=as(f,b,o,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,b=e.child.memoizedState,b=b===null?Pc(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},f.memoizedState=b,f.childLanes=e.childLanes&~o,r.memoizedState=Tc,c}return f=e.child,e=f.sibling,c=Ca(f,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,e!==null&&(o=r.deletions,o===null?(r.deletions=[e],r.flags|=16):o.push(e)),r.child=c,r.memoizedState=null,c}function Ac(e,r){return r=bi({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ii(e,r,o,c){return c!==null&&sc(c),Ps(r,e.child,null,o),e=Ac(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function p0(e,r,o,c,m,f,b){if(o)return r.flags&256?(r.flags&=-257,c=Sc(Error(n(422))),ii(e,r,b,c)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(f=c.fallback,m=r.mode,c=bi({mode:"visible",children:c.children},m,0,null),f=as(f,m,b,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,(r.mode&1)!==0&&Ps(r,e.child,null,b),r.child.memoizedState=Pc(b),r.memoizedState=Tc,f);if((r.mode&1)===0)return ii(e,r,b,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var T=c.dgst;return c=T,f=Error(n(419)),c=Sc(f,c,void 0),ii(e,r,b,c)}if(T=(b&e.childLanes)!==0,Ut||T){if(c=yt,c!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(c.suspendedLanes|b))!==0?0:m,m!==0&&m!==f.retryLane&&(f.retryLane=m,Wr(e,m),yr(c,e,m,-1))}return Yc(),c=Sc(Error(n(421))),ii(e,r,b,c)}return m.data==="$?"?(r.flags|=128,r.child=e.child,r=E0.bind(null,e),m._reactRetry=r,null):(e=f.treeContext,Zt=pa(m.nextSibling),Gt=r,Ze=!0,gr=null,e!==null&&(ar[sr++]=Hr,ar[sr++]=Vr,ar[sr++]=Qa,Hr=e.id,Vr=e.overflow,Qa=r),r=Ac(r,c.children),r.flags|=4096,r)}function Ym(e,r,o){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r),lc(e.return,r,o)}function Mc(e,r,o,c,m){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=o,f.tailMode=m)}function Qm(e,r,o){var c=r.pendingProps,m=c.revealOrder,f=c.tail;if(Pt(e,r,c.children,o),c=rt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ym(e,o,r);else if(e.tag===19)Ym(e,o,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Qe(rt,c),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(o=r.child,m=null;o!==null;)e=o.alternate,e!==null&&ei(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Mc(r,!1,m,o,f);break;case"backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(e=m.alternate,e!==null&&ei(e)===null){r.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Mc(r,!0,o,null,f);break;case"together":Mc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function li(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Qr(e,r,o){if(e!==null&&(r.dependencies=e.dependencies),Za|=r.lanes,(o&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,o=Ca(e,e.pendingProps),r.child=o,o.return=r;e.sibling!==null;)e=e.sibling,o=o.sibling=Ca(e,e.pendingProps),o.return=r;o.sibling=null}return r.child}function h0(e,r,o){switch(r.tag){case 3:Hm(r),Ts();break;case 5:lm(r);break;case 1:zt(r.type)&&Ho(r);break;case 4:uc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,m=r.memoizedProps.value;Qe(Ko,c._currentValue),c._currentValue=m;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Qe(rt,rt.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Wm(e,r,o):(Qe(rt,rt.current&1),e=Qr(e,r,o),e!==null?e.sibling:null);Qe(rt,rt.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(e.flags&128)!==0){if(c)return Qm(e,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(rt,rt.current),c)break;return null;case 22:case 23:return r.lanes=0,Um(e,r,o)}return Qr(e,r,o)}var Xm,Dc,Km,Jm;Xm=function(e,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Dc=function(){},Km=function(e,r,o,c){var m=e.memoizedProps;if(m!==c){e=r.stateNode,Ja(Cr.current);var f=null;switch(o){case"input":m=rr(e,m),c=rr(e,c),f=[];break;case"select":m=Q({},m,{value:void 0}),c=Q({},c,{value:void 0}),f=[];break;case"textarea":m=ee(e,m),c=ee(e,c),f=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Uo)}gs(o,c);var b;o=null;for(H in m)if(!c.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var T=m[H];for(b in T)T.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(l.hasOwnProperty(H)?f||(f=[]):(f=f||[]).push(H,null));for(H in c){var R=c[H];if(T=m?.[H],c.hasOwnProperty(H)&&R!==T&&(R!=null||T!=null))if(H==="style")if(T){for(b in T)!T.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in R)R.hasOwnProperty(b)&&T[b]!==R[b]&&(o||(o={}),o[b]=R[b])}else o||(f||(f=[]),f.push(H,o)),o=R;else H==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(f=f||[]).push(H,R)):H==="children"?typeof R!="string"&&typeof R!="number"||(f=f||[]).push(H,""+R):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(l.hasOwnProperty(H)?(R!=null&&H==="onScroll"&&Ke("scroll",e),f||T===R||(f=[])):(f=f||[]).push(H,R))}o&&(f=f||[]).push("style",o);var H=f;(r.updateQueue=H)&&(r.flags|=4)}},Jm=function(e,r,o,c){o!==c&&(r.flags|=4)};function In(e,r){if(!Ze)switch(e.tailMode){case"hidden":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ct(e){var r=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(r)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,r}function x0(e,r,o){var c=r.pendingProps;switch(tc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return zt(r.type)&&Bo(),Ct(r),null;case 3:return c=r.stateNode,Ds(),Je(Ft),Je(kt),gc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Qo(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gr!==null&&(Hc(gr),gr=null))),Dc(e,r),Ct(r),null;case 5:mc(r);var m=Ja(Mn.current);if(o=r.type,e!==null&&r.stateNode!=null)Km(e,r,o,c,m),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Ct(r),null}if(e=Ja(Cr.current),Qo(r)){c=r.stateNode,o=r.type;var f=r.memoizedProps;switch(c[Sr]=r,c[_n]=f,e=(r.mode&1)!==0,o){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(m=0;m<kn.length;m++)Ke(kn[m],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":Nr(c,f),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},Ke("invalid",c);break;case"textarea":E(c,f),Ke("invalid",c)}gs(o,f),m=null;for(var b in f)if(f.hasOwnProperty(b)){var T=f[b];b==="children"?typeof T=="string"?c.textContent!==T&&(f.suppressHydrationWarning!==!0&&zo(c.textContent,T,e),m=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(f.suppressHydrationWarning!==!0&&zo(c.textContent,T,e),m=["children",""+T]):l.hasOwnProperty(b)&&T!=null&&b==="onScroll"&&Ke("scroll",c)}switch(o){case"input":$e(c),Qt(c,f,!0);break;case"textarea":$e(c),ke(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=Uo)}c=m,r.updateQueue=c,c!==null&&(r.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kt(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=b.createElement(o,{is:c.is}):(e=b.createElement(o),o==="select"&&(b=e,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):e=b.createElementNS(e,o),e[Sr]=r,e[_n]=c,Xm(e,r,!1,!1),r.stateNode=e;e:{switch(b=je(o,c),o){case"dialog":Ke("cancel",e),Ke("close",e),m=c;break;case"iframe":case"object":case"embed":Ke("load",e),m=c;break;case"video":case"audio":for(m=0;m<kn.length;m++)Ke(kn[m],e);m=c;break;case"source":Ke("error",e),m=c;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),m=c;break;case"details":Ke("toggle",e),m=c;break;case"input":Nr(e,c),m=rr(e,c),Ke("invalid",e);break;case"option":m=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},m=Q({},c,{value:void 0}),Ke("invalid",e);break;case"textarea":E(e,c),m=ee(e,c),Ke("invalid",e);break;default:m=c}gs(o,m),T=m;for(f in T)if(T.hasOwnProperty(f)){var R=T[f];f==="style"?za(e,R):f==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&sa(e,R)):f==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&na(e,R):typeof R=="number"&&na(e,""+R):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?R!=null&&f==="onScroll"&&Ke("scroll",e):R!=null&&j(e,f,R,b))}switch(o){case"input":$e(e),Qt(e,c,!1);break;case"textarea":$e(e),ke(e);break;case"option":c.value!=null&&e.setAttribute("value",""+J(c.value));break;case"select":e.multiple=!!c.multiple,f=c.value,f!=null?Lt(e,!!c.multiple,f,!1):c.defaultValue!=null&&Lt(e,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Uo)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ct(r),null;case 6:if(e&&r.stateNode!=null)Jm(e,r,e.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ja(Mn.current),Ja(Cr.current),Qo(r)){if(c=r.stateNode,o=r.memoizedProps,c[Sr]=r,(f=c.nodeValue!==o)&&(e=Gt,e!==null))switch(e.tag){case 3:zo(c.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zo(c.nodeValue,o,(e.mode&1)!==0)}f&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Sr]=r,r.stateNode=c}return Ct(r),null;case 13:if(Je(rt),c=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&Zt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)em(),Ts(),r.flags|=98560,f=!1;else if(f=Qo(r),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Sr]=r}else Ts(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),f=!1}else gr!==null&&(Hc(gr),gr=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(rt.current&1)!==0?gt===0&&(gt=3):Yc())),r.updateQueue!==null&&(r.flags|=4),Ct(r),null);case 4:return Ds(),Dc(e,r),e===null&&Sn(r.stateNode.containerInfo),Ct(r),null;case 10:return ic(r.type._context),Ct(r),null;case 17:return zt(r.type)&&Bo(),Ct(r),null;case 19:if(Je(rt),f=r.memoizedState,f===null)return Ct(r),null;if(c=(r.flags&128)!==0,b=f.rendering,b===null)if(c)In(f,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(b=ei(e),b!==null){for(r.flags|=128,In(f,!1),c=b.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)f=o,e=c,f.flags&=14680066,b=f.alternate,b===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=b.childLanes,f.lanes=b.lanes,f.child=b.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=b.memoizedProps,f.memoizedState=b.memoizedState,f.updateQueue=b.updateQueue,f.type=b.type,e=b.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Qe(rt,rt.current&1|2),r.child}e=e.sibling}f.tail!==null&&Ge()>Is&&(r.flags|=128,c=!0,In(f,!1),r.lanes=4194304)}else{if(!c)if(e=ei(b),e!==null){if(r.flags|=128,c=!0,o=e.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),In(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Ze)return Ct(r),null}else 2*Ge()-f.renderingStartTime>Is&&o!==1073741824&&(r.flags|=128,c=!0,In(f,!1),r.lanes=4194304);f.isBackwards?(b.sibling=r.child,r.child=b):(o=f.last,o!==null?o.sibling=b:r.child=b,f.last=b)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ge(),r.sibling=null,o=rt.current,Qe(rt,c?o&1|2:o&1),r):(Ct(r),null);case 22:case 23:return Wc(),c=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(er&1073741824)!==0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function y0(e,r){switch(tc(r),r.tag){case 1:return zt(r.type)&&Bo(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Ds(),Je(Ft),Je(kt),gc(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return mc(r),null;case 13:if(Je(rt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ts()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Je(rt),null;case 4:return Ds(),null;case 10:return ic(r.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var ci=!1,_t=!1,v0=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Os(e,r){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){ot(e,r,c)}else o.current=null}function Rc(e,r,o){try{o()}catch(c){ot(e,r,c)}}var Gm=!1;function b0(e,r){if(Wl=To,e=Pu(),$l(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var b=0,T=-1,R=-1,H=0,Z=0,te=e,G=null;t:for(;;){for(var ge;te!==o||m!==0&&te.nodeType!==3||(T=b+m),te!==f||c!==0&&te.nodeType!==3||(R=b+c),te.nodeType===3&&(b+=te.nodeValue.length),(ge=te.firstChild)!==null;)G=te,te=ge;for(;;){if(te===e)break t;if(G===o&&++H===m&&(T=b),G===f&&++Z===c&&(R=b),(ge=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=ge}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yl={focusedElem:e,selectionRange:o},To=!1,pe=r;pe!==null;)if(r=pe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,pe=e;else for(;pe!==null;){r=pe;try{var ye=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var we=ye.memoizedProps,ct=ye.memoizedState,z=r.stateNode,I=z.getSnapshotBeforeUpdate(r.elementType===r.type?we:pr(r.type,we),ct);z.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){ot(r,r.return,se)}if(e=r.sibling,e!==null){e.return=r.return,pe=e;break}pe=r.return}return ye=Gm,Gm=!1,ye}function $n(e,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&e)===e){var f=m.destroy;m.destroy=void 0,f!==void 0&&Rc(r,o,f)}m=m.next}while(m!==c)}}function di(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Oc(e){var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof r=="function"?r(e):r.current=e}}function Zm(e){var r=e.alternate;r!==null&&(e.alternate=null,Zm(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Sr],delete r[_n],delete r[Jl],delete r[r0],delete r[a0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ef(e){return e.tag===5||e.tag===3||e.tag===4}function tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,r,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(e,r):o.insertBefore(e,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(e,o)):(r=o,r.appendChild(e)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Uo));else if(c!==4&&(e=e.child,e!==null))for(Lc(e,r,o),e=e.sibling;e!==null;)Lc(e,r,o),e=e.sibling}function Ic(e,r,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?o.insertBefore(e,r):o.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Ic(e,r,o),e=e.sibling;e!==null;)Ic(e,r,o),e=e.sibling}var bt=null,hr=!1;function wa(e,r,o){for(o=o.child;o!==null;)rf(e,r,o),o=o.sibling}function rf(e,r,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(xe,o)}catch{}switch(o.tag){case 5:_t||Os(o,r);case 6:var c=bt,m=hr;bt=null,wa(e,r,o),bt=c,hr=m,bt!==null&&(hr?(e=bt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):bt.removeChild(o.stateNode));break;case 18:bt!==null&&(hr?(e=bt,o=o.stateNode,e.nodeType===8?Kl(e.parentNode,o):e.nodeType===1&&Kl(e,o),hn(e)):Kl(bt,o.stateNode));break;case 4:c=bt,m=hr,bt=o.stateNode.containerInfo,hr=!0,wa(e,r,o),bt=c,hr=m;break;case 0:case 11:case 14:case 15:if(!_t&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var f=m,b=f.destroy;f=f.tag,b!==void 0&&((f&2)!==0||(f&4)!==0)&&Rc(o,r,b),m=m.next}while(m!==c)}wa(e,r,o);break;case 1:if(!_t&&(Os(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(T){ot(o,r,T)}wa(e,r,o);break;case 21:wa(e,r,o);break;case 22:o.mode&1?(_t=(c=_t)||o.memoizedState!==null,wa(e,r,o),_t=c):wa(e,r,o);break;default:wa(e,r,o)}}function af(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new v0),r.forEach(function(c){var m=T0.bind(null,e,c);o.has(c)||(o.add(c),c.then(m,m))})}}function xr(e,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];try{var f=e,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 5:bt=T.stateNode,hr=!1;break e;case 3:bt=T.stateNode.containerInfo,hr=!0;break e;case 4:bt=T.stateNode.containerInfo,hr=!0;break e}T=T.return}if(bt===null)throw Error(n(160));rf(f,b,m),bt=null,hr=!1;var R=m.alternate;R!==null&&(R.return=null),m.return=null}catch(H){ot(m,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sf(r,e),r=r.sibling}function sf(e,r){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xr(r,e),Er(e),c&4){try{$n(3,e,e.return),di(3,e)}catch(we){ot(e,e.return,we)}try{$n(5,e,e.return)}catch(we){ot(e,e.return,we)}}break;case 1:xr(r,e),Er(e),c&512&&o!==null&&Os(o,o.return);break;case 5:if(xr(r,e),Er(e),c&512&&o!==null&&Os(o,o.return),e.flags&32){var m=e.stateNode;try{na(m,"")}catch(we){ot(e,e.return,we)}}if(c&4&&(m=e.stateNode,m!=null)){var f=e.memoizedProps,b=o!==null?o.memoizedProps:f,T=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{T==="input"&&f.type==="radio"&&f.name!=null&&aa(m,f),je(T,b);var H=je(T,f);for(b=0;b<R.length;b+=2){var Z=R[b],te=R[b+1];Z==="style"?za(m,te):Z==="dangerouslySetInnerHTML"?sa(m,te):Z==="children"?na(m,te):j(m,Z,te,H)}switch(T){case"input":ht(m,f);break;case"textarea":ce(m,f);break;case"select":var G=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!f.multiple;var ge=f.value;ge!=null?Lt(m,!!f.multiple,ge,!1):G!==!!f.multiple&&(f.defaultValue!=null?Lt(m,!!f.multiple,f.defaultValue,!0):Lt(m,!!f.multiple,f.multiple?[]:"",!1))}m[_n]=f}catch(we){ot(e,e.return,we)}}break;case 6:if(xr(r,e),Er(e),c&4){if(e.stateNode===null)throw Error(n(162));m=e.stateNode,f=e.memoizedProps;try{m.nodeValue=f}catch(we){ot(e,e.return,we)}}break;case 3:if(xr(r,e),Er(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{hn(r.containerInfo)}catch(we){ot(e,e.return,we)}break;case 4:xr(r,e),Er(e);break;case 13:xr(r,e),Er(e),m=e.child,m.flags&8192&&(f=m.memoizedState!==null,m.stateNode.isHidden=f,!f||m.alternate!==null&&m.alternate.memoizedState!==null||(zc=Ge())),c&4&&af(e);break;case 22:if(Z=o!==null&&o.memoizedState!==null,e.mode&1?(_t=(H=_t)||Z,xr(r,e),_t=H):xr(r,e),Er(e),c&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!Z&&(e.mode&1)!==0)for(pe=e,Z=e.child;Z!==null;){for(te=pe=Z;pe!==null;){switch(G=pe,ge=G.child,G.tag){case 0:case 11:case 14:case 15:$n(4,G,G.return);break;case 1:Os(G,G.return);var ye=G.stateNode;if(typeof ye.componentWillUnmount=="function"){c=G,o=G.return;try{r=c,ye.props=r.memoizedProps,ye.state=r.memoizedState,ye.componentWillUnmount()}catch(we){ot(c,o,we)}}break;case 5:Os(G,G.return);break;case 22:if(G.memoizedState!==null){lf(te);continue}}ge!==null?(ge.return=G,pe=ge):lf(te)}Z=Z.sibling}e:for(Z=null,te=e;;){if(te.tag===5){if(Z===null){Z=te;try{m=te.stateNode,H?(f=m.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(T=te.stateNode,R=te.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=tn("display",b))}catch(we){ot(e,e.return,we)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(we){ot(e,e.return,we)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===e)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===e)break e;for(;te.sibling===null;){if(te.return===null||te.return===e)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:xr(r,e),Er(e),c&4&&af(e);break;case 21:break;default:xr(r,e),Er(e)}}function Er(e){var r=e.flags;if(r&2){try{e:{for(var o=e.return;o!==null;){if(ef(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(na(m,""),c.flags&=-33);var f=tf(e);Ic(e,f,m);break;case 3:case 4:var b=c.stateNode.containerInfo,T=tf(e);Lc(e,T,b);break;default:throw Error(n(161))}}catch(R){ot(e,e.return,R)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function w0(e,r,o){pe=e,nf(e)}function nf(e,r,o){for(var c=(e.mode&1)!==0;pe!==null;){var m=pe,f=m.child;if(m.tag===22&&c){var b=m.memoizedState!==null||ci;if(!b){var T=m.alternate,R=T!==null&&T.memoizedState!==null||_t;T=ci;var H=_t;if(ci=b,(_t=R)&&!H)for(pe=m;pe!==null;)b=pe,R=b.child,b.tag===22&&b.memoizedState!==null?cf(m):R!==null?(R.return=b,pe=R):cf(m);for(;f!==null;)pe=f,nf(f),f=f.sibling;pe=m,ci=T,_t=H}of(e)}else(m.subtreeFlags&8772)!==0&&f!==null?(f.return=m,pe=f):of(e)}}function of(e){for(;pe!==null;){var r=pe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:_t||di(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!_t)if(o===null)c.componentDidMount();else{var m=r.elementType===r.type?o.memoizedProps:pr(r.type,o.memoizedProps);c.componentDidUpdate(m,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&im(r,f,c);break;case 3:var b=r.updateQueue;if(b!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}im(r,b,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&hn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_t||r.flags&512&&Oc(r)}catch(G){ot(r,r.return,G)}}if(r===e){pe=null;break}if(o=r.sibling,o!==null){o.return=r.return,pe=o;break}pe=r.return}}function lf(e){for(;pe!==null;){var r=pe;if(r===e){pe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,pe=o;break}pe=r.return}}function cf(e){for(;pe!==null;){var r=pe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{di(4,r)}catch(R){ot(r,o,R)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var m=r.return;try{c.componentDidMount()}catch(R){ot(r,m,R)}}var f=r.return;try{Oc(r)}catch(R){ot(r,f,R)}break;case 5:var b=r.return;try{Oc(r)}catch(R){ot(r,b,R)}}}catch(R){ot(r,r.return,R)}if(r===e){pe=null;break}var T=r.sibling;if(T!==null){T.return=r.return,pe=T;break}pe=r.return}}var j0=Math.ceil,ui=P.ReactCurrentDispatcher,$c=P.ReactCurrentOwner,ir=P.ReactCurrentBatchConfig,Fe=0,yt=null,mt=null,wt=0,er=0,Ls=ha(0),gt=0,Fn=null,Za=0,mi=0,Fc=0,zn=null,qt=null,zc=0,Is=1/0,Xr=null,fi=!1,Uc=null,ja=null,gi=!1,Na=null,pi=0,Un=0,qc=null,hi=-1,xi=0;function At(){return(Fe&6)!==0?Ge():hi!==-1?hi:hi=Ge()}function ka(e){return(e.mode&1)===0?1:(Fe&2)!==0&&wt!==0?wt&-wt:n0.transition!==null?(xi===0&&(xi=tu()),xi):(e=qe,e!==0||(e=window.event,e=e===void 0?16:du(e.type)),e)}function yr(e,r,o,c){if(50<Un)throw Un=0,qc=null,Error(n(185));un(e,o,c),((Fe&2)===0||e!==yt)&&(e===yt&&((Fe&2)===0&&(mi|=o),gt===4&&Sa(e,wt)),Bt(e,c),o===1&&Fe===0&&(r.mode&1)===0&&(Is=Ge()+500,Vo&&ya()))}function Bt(e,r){var o=e.callbackNode;nh(e,r);var c=Co(e,e===yt?wt:0);if(c===0)o!==null&&la(o),e.callbackNode=null,e.callbackPriority=0;else if(r=c&-c,e.callbackPriority!==r){if(o!=null&&la(o),r===1)e.tag===0?s0(uf.bind(null,e)):Xu(uf.bind(null,e)),e0(function(){(Fe&6)===0&&ya()}),o=null;else{switch(ru(c)){case 1:o=cn;break;case 4:o=wl;break;case 16:o=N;break;case 536870912:o=ne;break;default:o=N}o=vf(o,df.bind(null,e))}e.callbackPriority=r,e.callbackNode=o}}function df(e,r){if(hi=-1,xi=0,(Fe&6)!==0)throw Error(n(327));var o=e.callbackNode;if($s()&&e.callbackNode!==o)return null;var c=Co(e,e===yt?wt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||r)r=yi(e,c);else{r=c;var m=Fe;Fe|=2;var f=ff();(yt!==e||wt!==r)&&(Xr=null,Is=Ge()+500,ts(e,r));do try{S0();break}catch(T){mf(e,T)}while(!0);oc(),ui.current=f,Fe=m,mt!==null?r=0:(yt=null,wt=0,r=gt)}if(r!==0){if(r===2&&(m=jl(e),m!==0&&(c=m,r=Bc(e,m))),r===1)throw o=Fn,ts(e,0),Sa(e,c),Bt(e,Ge()),o;if(r===6)Sa(e,c);else{if(m=e.current.alternate,(c&30)===0&&!N0(m)&&(r=yi(e,c),r===2&&(f=jl(e),f!==0&&(c=f,r=Bc(e,f))),r===1))throw o=Fn,ts(e,0),Sa(e,c),Bt(e,Ge()),o;switch(e.finishedWork=m,e.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:rs(e,qt,Xr);break;case 3:if(Sa(e,c),(c&130023424)===c&&(r=zc+500-Ge(),10<r)){if(Co(e,0)!==0)break;if(m=e.suspendedLanes,(m&c)!==c){At(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Xl(rs.bind(null,e,qt,Xr),r);break}rs(e,qt,Xr);break;case 4:if(Sa(e,c),(c&4194240)===c)break;for(r=e.eventTimes,m=-1;0<c;){var b=31-tt(c);f=1<<b,b=r[b],b>m&&(m=b),c&=~f}if(c=m,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*j0(c/1960))-c,10<c){e.timeoutHandle=Xl(rs.bind(null,e,qt,Xr),c);break}rs(e,qt,Xr);break;case 5:rs(e,qt,Xr);break;default:throw Error(n(329))}}}return Bt(e,Ge()),e.callbackNode===o?df.bind(null,e):null}function Bc(e,r){var o=zn;return e.current.memoizedState.isDehydrated&&(ts(e,r).flags|=256),e=yi(e,r),e!==2&&(r=qt,qt=o,r!==null&&Hc(r)),e}function Hc(e){qt===null?qt=e:qt.push.apply(qt,e)}function N0(e){for(var r=e;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var m=o[c],f=m.getSnapshot;m=m.value;try{if(!fr(f(),m))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Sa(e,r){for(r&=~Fc,r&=~mi,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var o=31-tt(r),c=1<<o;e[o]=-1,r&=~c}}function uf(e){if((Fe&6)!==0)throw Error(n(327));$s();var r=Co(e,0);if((r&1)===0)return Bt(e,Ge()),null;var o=yi(e,r);if(e.tag!==0&&o===2){var c=jl(e);c!==0&&(r=c,o=Bc(e,c))}if(o===1)throw o=Fn,ts(e,0),Sa(e,r),Bt(e,Ge()),o;if(o===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,rs(e,qt,Xr),Bt(e,Ge()),null}function Vc(e,r){var o=Fe;Fe|=1;try{return e(r)}finally{Fe=o,Fe===0&&(Is=Ge()+500,Vo&&ya())}}function es(e){Na!==null&&Na.tag===0&&(Fe&6)===0&&$s();var r=Fe;Fe|=1;var o=ir.transition,c=qe;try{if(ir.transition=null,qe=1,e)return e()}finally{qe=c,ir.transition=o,Fe=r,(Fe&6)===0&&ya()}}function Wc(){er=Ls.current,Je(Ls)}function ts(e,r){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Zh(o)),mt!==null)for(o=mt.return;o!==null;){var c=o;switch(tc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Bo();break;case 3:Ds(),Je(Ft),Je(kt),gc();break;case 5:mc(c);break;case 4:Ds();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:ic(c.type._context);break;case 22:case 23:Wc()}o=o.return}if(yt=e,mt=e=Ca(e.current,null),wt=er=r,gt=0,Fn=null,Fc=mi=Za=0,qt=zn=null,Ka!==null){for(r=0;r<Ka.length;r++)if(o=Ka[r],c=o.interleaved,c!==null){o.interleaved=null;var m=c.next,f=o.pending;if(f!==null){var b=f.next;f.next=m,c.next=b}o.pending=c}Ka=null}return e}function mf(e,r){do{var o=mt;try{if(oc(),ti.current=ni,ri){for(var c=at.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}ri=!1}if(Ga=0,xt=ft=at=null,Dn=!1,Rn=0,$c.current=null,o===null||o.return===null){gt=1,Fn=r,mt=null;break}e:{var f=e,b=o.return,T=o,R=r;if(r=wt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=R,Z=T,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var G=Z.alternate;G?(Z.updateQueue=G.updateQueue,Z.memoizedState=G.memoizedState,Z.lanes=G.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ge=Lm(b);if(ge!==null){ge.flags&=-257,Im(ge,b,T,f,r),ge.mode&1&&Om(f,H,r),r=ge,R=H;var ye=r.updateQueue;if(ye===null){var we=new Set;we.add(R),r.updateQueue=we}else ye.add(R);break e}else{if((r&1)===0){Om(f,H,r),Yc();break e}R=Error(n(426))}}else if(Ze&&T.mode&1){var ct=Lm(b);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Im(ct,b,T,f,r),sc(Rs(R,T));break e}}f=R=Rs(R,T),gt!==4&&(gt=2),zn===null?zn=[f]:zn.push(f),f=b;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var z=Dm(f,R,r);om(f,z);break e;case 1:T=R;var I=f.type,B=f.stateNode;if((f.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ja===null||!ja.has(B)))){f.flags|=65536,r&=-r,f.lanes|=r;var se=Rm(f,T,r);om(f,se);break e}}f=f.return}while(f!==null)}pf(o)}catch(Ne){r=Ne,mt===o&&o!==null&&(mt=o=o.return);continue}break}while(!0)}function ff(){var e=ui.current;return ui.current=ni,e===null?ni:e}function Yc(){(gt===0||gt===3||gt===2)&&(gt=4),yt===null||(Za&268435455)===0&&(mi&268435455)===0||Sa(yt,wt)}function yi(e,r){var o=Fe;Fe|=2;var c=ff();(yt!==e||wt!==r)&&(Xr=null,ts(e,r));do try{k0();break}catch(m){mf(e,m)}while(!0);if(oc(),Fe=o,ui.current=c,mt!==null)throw Error(n(261));return yt=null,wt=0,gt}function k0(){for(;mt!==null;)gf(mt)}function S0(){for(;mt!==null&&!Va();)gf(mt)}function gf(e){var r=yf(e.alternate,e,er);e.memoizedProps=e.pendingProps,r===null?pf(e):mt=r,$c.current=null}function pf(e){var r=e;do{var o=r.alternate;if(e=r.return,(r.flags&32768)===0){if(o=x0(o,r,er),o!==null){mt=o;return}}else{if(o=y0(o,r),o!==null){o.flags&=32767,mt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,mt=null;return}}if(r=r.sibling,r!==null){mt=r;return}mt=r=e}while(r!==null);gt===0&&(gt=5)}function rs(e,r,o){var c=qe,m=ir.transition;try{ir.transition=null,qe=1,C0(e,r,o,c)}finally{ir.transition=m,qe=c}return null}function C0(e,r,o,c){do $s();while(Na!==null);if((Fe&6)!==0)throw Error(n(327));o=e.finishedWork;var m=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=o.lanes|o.childLanes;if(oh(e,f),e===yt&&(mt=yt=null,wt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||gi||(gi=!0,vf(N,function(){return $s(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=ir.transition,ir.transition=null;var b=qe;qe=1;var T=Fe;Fe|=4,$c.current=null,b0(e,o),sf(o,e),Wh(Yl),To=!!Wl,Yl=Wl=null,e.current=o,w0(o),No(),Fe=T,qe=b,ir.transition=f}else e.current=o;if(gi&&(gi=!1,Na=e,pi=m),f=e.pendingLanes,f===0&&(ja=null),lt(o.stateNode),Bt(e,Ge()),r!==null)for(c=e.onRecoverableError,o=0;o<r.length;o++)m=r[o],c(m.value,{componentStack:m.stack,digest:m.digest});if(fi)throw fi=!1,e=Uc,Uc=null,e;return(pi&1)!==0&&e.tag!==0&&$s(),f=e.pendingLanes,(f&1)!==0?e===qc?Un++:(Un=0,qc=e):Un=0,ya(),null}function $s(){if(Na!==null){var e=ru(pi),r=ir.transition,o=qe;try{if(ir.transition=null,qe=16>e?16:e,Na===null)var c=!1;else{if(e=Na,Na=null,pi=0,(Fe&6)!==0)throw Error(n(331));var m=Fe;for(Fe|=4,pe=e.current;pe!==null;){var f=pe,b=f.child;if((pe.flags&16)!==0){var T=f.deletions;if(T!==null){for(var R=0;R<T.length;R++){var H=T[R];for(pe=H;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:$n(8,Z,f)}var te=Z.child;if(te!==null)te.return=Z,pe=te;else for(;pe!==null;){Z=pe;var G=Z.sibling,ge=Z.return;if(Zm(Z),Z===H){pe=null;break}if(G!==null){G.return=ge,pe=G;break}pe=ge}}}var ye=f.alternate;if(ye!==null){var we=ye.child;if(we!==null){ye.child=null;do{var ct=we.sibling;we.sibling=null,we=ct}while(we!==null)}}pe=f}}if((f.subtreeFlags&2064)!==0&&b!==null)b.return=f,pe=b;else e:for(;pe!==null;){if(f=pe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:$n(9,f,f.return)}var z=f.sibling;if(z!==null){z.return=f.return,pe=z;break e}pe=f.return}}var I=e.current;for(pe=I;pe!==null;){b=pe;var B=b.child;if((b.subtreeFlags&2064)!==0&&B!==null)B.return=b,pe=B;else e:for(b=I;pe!==null;){if(T=pe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:di(9,T)}}catch(Ne){ot(T,T.return,Ne)}if(T===b){pe=null;break e}var se=T.sibling;if(se!==null){se.return=T.return,pe=se;break e}pe=T.return}}if(Fe=m,ya(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(xe,e)}catch{}c=!0}return c}finally{qe=o,ir.transition=r}}return!1}function hf(e,r,o){r=Rs(o,r),r=Dm(e,r,1),e=ba(e,r,1),r=At(),e!==null&&(un(e,1,r),Bt(e,r))}function ot(e,r,o){if(e.tag===3)hf(e,e,o);else for(;r!==null;){if(r.tag===3){hf(r,e,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ja===null||!ja.has(c))){e=Rs(o,e),e=Rm(r,e,1),r=ba(r,e,1),e=At(),r!==null&&(un(r,1,e),Bt(r,e));break}}r=r.return}}function _0(e,r,o){var c=e.pingCache;c!==null&&c.delete(r),r=At(),e.pingedLanes|=e.suspendedLanes&o,yt===e&&(wt&o)===o&&(gt===4||gt===3&&(wt&130023424)===wt&&500>Ge()-zc?ts(e,0):Fc|=o),Bt(e,r)}function xf(e,r){r===0&&((e.mode&1)===0?r=1:(r=So,So<<=1,(So&130023424)===0&&(So=4194304)));var o=At();e=Wr(e,r),e!==null&&(un(e,r,o),Bt(e,o))}function E0(e){var r=e.memoizedState,o=0;r!==null&&(o=r.retryLane),xf(e,o)}function T0(e,r){var o=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),xf(e,o)}var yf;yf=function(e,r,o){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ft.current)Ut=!0;else{if((e.lanes&o)===0&&(r.flags&128)===0)return Ut=!1,h0(e,r,o);Ut=(e.flags&131072)!==0}else Ut=!1,Ze&&(r.flags&1048576)!==0&&Ku(r,Yo,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;li(e,r),e=r.pendingProps;var m=Cs(r,kt.current);Ms(r,o),m=xc(null,r,c,e,m,o);var f=yc();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,zt(c)?(f=!0,Ho(r)):f=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,dc(r),m.updater=oi,r.stateNode=m,m._reactInternals=r,kc(r,c,e,o),r=Ec(null,r,c,!0,f,o)):(r.tag=0,Ze&&f&&ec(r),Pt(null,r,m,o),r=r.child),r;case 16:c=r.elementType;e:{switch(li(e,r),e=r.pendingProps,m=c._init,c=m(c._payload),r.type=c,m=r.tag=A0(c),e=pr(c,e),m){case 0:r=_c(null,r,c,e,o);break e;case 1:r=Bm(null,r,c,e,o);break e;case 11:r=$m(null,r,c,e,o);break e;case 14:r=Fm(null,r,c,pr(c.type,e),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:pr(c,m),_c(e,r,c,m,o);case 1:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:pr(c,m),Bm(e,r,c,m,o);case 3:e:{if(Hm(r),e===null)throw Error(n(387));c=r.pendingProps,f=r.memoizedState,m=f.element,nm(e,r),Zo(r,c,null,o);var b=r.memoizedState;if(c=b.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){m=Rs(Error(n(423)),r),r=Vm(e,r,c,o,m);break e}else if(c!==m){m=Rs(Error(n(424)),r),r=Vm(e,r,c,o,m);break e}else for(Zt=pa(r.stateNode.containerInfo.firstChild),Gt=r,Ze=!0,gr=null,o=am(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ts(),c===m){r=Qr(e,r,o);break e}Pt(e,r,c,o)}r=r.child}return r;case 5:return lm(r),e===null&&ac(r),c=r.type,m=r.pendingProps,f=e!==null?e.memoizedProps:null,b=m.children,Ql(c,m)?b=null:f!==null&&Ql(c,f)&&(r.flags|=32),qm(e,r),Pt(e,r,b,o),r.child;case 6:return e===null&&ac(r),null;case 13:return Wm(e,r,o);case 4:return uc(r,r.stateNode.containerInfo),c=r.pendingProps,e===null?r.child=Ps(r,null,c,o):Pt(e,r,c,o),r.child;case 11:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:pr(c,m),$m(e,r,c,m,o);case 7:return Pt(e,r,r.pendingProps,o),r.child;case 8:return Pt(e,r,r.pendingProps.children,o),r.child;case 12:return Pt(e,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,m=r.pendingProps,f=r.memoizedProps,b=m.value,Qe(Ko,c._currentValue),c._currentValue=b,f!==null)if(fr(f.value,b)){if(f.children===m.children&&!Ft.current){r=Qr(e,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var T=f.dependencies;if(T!==null){b=f.child;for(var R=T.firstContext;R!==null;){if(R.context===c){if(f.tag===1){R=Yr(-1,o&-o),R.tag=2;var H=f.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?R.next=R:(R.next=Z.next,Z.next=R),H.pending=R}}f.lanes|=o,R=f.alternate,R!==null&&(R.lanes|=o),lc(f.return,o,r),T.lanes|=o;break}R=R.next}}else if(f.tag===10)b=f.type===r.type?null:f.child;else if(f.tag===18){if(b=f.return,b===null)throw Error(n(341));b.lanes|=o,T=b.alternate,T!==null&&(T.lanes|=o),lc(b,o,r),b=f.sibling}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}Pt(e,r,m.children,o),r=r.child}return r;case 9:return m=r.type,c=r.pendingProps.children,Ms(r,o),m=nr(m),c=c(m),r.flags|=1,Pt(e,r,c,o),r.child;case 14:return c=r.type,m=pr(c,r.pendingProps),m=pr(c.type,m),Fm(e,r,c,m,o);case 15:return zm(e,r,r.type,r.pendingProps,o);case 17:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:pr(c,m),li(e,r),r.tag=1,zt(c)?(e=!0,Ho(r)):e=!1,Ms(r,o),Am(r,c,m),kc(r,c,m,o),Ec(null,r,c,!0,e,o);case 19:return Qm(e,r,o);case 22:return Um(e,r,o)}throw Error(n(156,r.tag))};function vf(e,r){return jo(e,r)}function P0(e,r,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,r,o,c){return new P0(e,r,o,c)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A0(e){if(typeof e=="function")return Qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===Ce)return 14}return 2}function Ca(e,r){var o=e.alternate;return o===null?(o=lr(e.tag,r,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=r,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,r=e.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function vi(e,r,o,c,m,f){var b=2;if(c=e,typeof e=="function")Qc(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case F:return as(o.children,m,f,r);case K:b=8,m|=8;break;case oe:return e=lr(12,o,r,m|2),e.elementType=oe,e.lanes=f,e;case ve:return e=lr(13,o,r,m),e.elementType=ve,e.lanes=f,e;case Se:return e=lr(19,o,r,m),e.elementType=Se,e.lanes=f,e;case me:return bi(o,m,f,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:b=10;break e;case fe:b=9;break e;case he:b=11;break e;case Ce:b=14;break e;case ue:b=16,c=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=lr(b,o,r,m),r.elementType=e,r.type=c,r.lanes=f,r}function as(e,r,o,c){return e=lr(7,e,c,r),e.lanes=o,e}function bi(e,r,o,c){return e=lr(22,e,c,r),e.elementType=me,e.lanes=o,e.stateNode={isHidden:!1},e}function Xc(e,r,o){return e=lr(6,e,null,r),e.lanes=o,e}function Kc(e,r,o){return r=lr(4,e.children!==null?e.children:[],e.key,r),r.lanes=o,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function M0(e,r,o,c,m){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Jc(e,r,o,c,m,f,b,T,R){return e=new M0(e,r,o,T,R),r===1?(r=1,f===!0&&(r|=8)):r=0,f=lr(3,null,null,r),e.current=f,f.stateNode=e,f.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(f),e}function D0(e,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:c==null?null:""+c,children:e,containerInfo:r,implementation:o}}function bf(e){if(!e)return xa;e=e._reactInternals;e:{if(Ur(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(zt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var o=e.type;if(zt(o))return Yu(e,o,r)}return r}function wf(e,r,o,c,m,f,b,T,R){return e=Jc(o,c,!0,e,m,f,b,T,R),e.context=bf(null),o=e.current,c=At(),m=ka(o),f=Yr(c,m),f.callback=r??null,ba(o,f,m),e.current.lanes=m,un(e,m,c),Bt(e,c),e}function wi(e,r,o,c){var m=r.current,f=At(),b=ka(m);return o=bf(o),r.context===null?r.context=o:r.pendingContext=o,r=Yr(f,b),r.payload={element:e},c=c===void 0?null:c,c!==null&&(r.callback=c),e=ba(m,r,b),e!==null&&(yr(e,m,b,f),Go(e,m,b)),b}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<r?o:r}}function Gc(e,r){jf(e,r),(e=e.alternate)&&jf(e,r)}function R0(){return null}var Nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}Ni.prototype.render=Zc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));wi(e,r,null,null)},Ni.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;es(function(){wi(null,e,null,null)}),r[qr]=null}};function Ni(e){this._internalRoot=e}Ni.prototype.unstable_scheduleHydration=function(e){if(e){var r=nu();e={blockedOn:null,target:e,priority:r};for(var o=0;o<ma.length&&r!==0&&r<ma[o].priority;o++);ma.splice(o,0,e),o===0&&lu(e)}};function ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kf(){}function O0(e,r,o,c,m){if(m){if(typeof c=="function"){var f=c;c=function(){var H=ji(b);f.call(H)}}var b=wf(r,c,e,0,null,!1,!1,"",kf);return e._reactRootContainer=b,e[qr]=b.current,Sn(e.nodeType===8?e.parentNode:e),es(),b}for(;m=e.lastChild;)e.removeChild(m);if(typeof c=="function"){var T=c;c=function(){var H=ji(R);T.call(H)}}var R=Jc(e,0,!1,null,null,!1,!1,"",kf);return e._reactRootContainer=R,e[qr]=R.current,Sn(e.nodeType===8?e.parentNode:e),es(function(){wi(r,R,o,c)}),R}function Si(e,r,o,c,m){var f=o._reactRootContainer;if(f){var b=f;if(typeof m=="function"){var T=m;m=function(){var R=ji(b);T.call(R)}}wi(r,b,e,m)}else b=O0(o,r,e,m,c);return ji(b)}au=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var o=dn(r.pendingLanes);o!==0&&(kl(r,o|1),Bt(r,Ge()),(Fe&6)===0&&(Is=Ge()+500,ya()))}break;case 13:es(function(){var c=Wr(e,1);if(c!==null){var m=At();yr(c,e,1,m)}}),Gc(e,1)}},Sl=function(e){if(e.tag===13){var r=Wr(e,134217728);if(r!==null){var o=At();yr(r,e,134217728,o)}Gc(e,134217728)}},su=function(e){if(e.tag===13){var r=ka(e),o=Wr(e,r);if(o!==null){var c=At();yr(o,e,r,c)}Gc(e,r)}},nu=function(){return qe},ou=function(e,r){var o=qe;try{return qe=e,r()}finally{qe=o}},Ua=function(e,r,o){switch(r){case"input":if(ht(e,o),r=o.name,o.type==="radio"&&r!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==e&&c.form===e.form){var m=qo(c);if(!m)throw Error(n(90));et(c),ht(c,m)}}}break;case"textarea":ce(e,o);break;case"select":r=o.value,r!=null&&Lt(e,!!o.multiple,r,!1)}},sn=Vc,ia=es;var L0={usingClientEntryPoint:!1,Events:[En,ks,qo,an,ps,Vc]},qn={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bo(e),e===null?null:e.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||R0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{xe=Ci.inject(I0),Ye=Ci}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L0,Ht.createPortal=function(e,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(r))throw Error(n(200));return D0(e,r,null,o)},Ht.createRoot=function(e,r){if(!ed(e))throw Error(n(299));var o=!1,c="",m=Nf;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=Jc(e,1,!1,null,null,o,!1,c,m),e[qr]=r.current,Sn(e.nodeType===8?e.parentNode:e),new Zc(r)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=bo(r),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return es(e)},Ht.hydrate=function(e,r,o){if(!ki(r))throw Error(n(200));return Si(null,e,r,!0,o)},Ht.hydrateRoot=function(e,r,o){if(!ed(e))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,m=!1,f="",b=Nf;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),r=wf(r,null,e,1,o??null,m,!1,f,b),e[qr]=r.current,Sn(e),c)for(e=0;e<c.length;e++)o=c[e],m=o._getVersion,m=m(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,m]:r.mutableSourceEagerHydrationData.push(o,m);return new Ni(r)},Ht.render=function(e,r,o){if(!ki(r))throw Error(n(200));return Si(null,e,r,!1,o)},Ht.unmountComponentAtNode=function(e){if(!ki(e))throw Error(n(40));return e._reactRootContainer?(es(function(){Si(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1},Ht.unstable_batchedUpdates=Vc,Ht.unstable_renderSubtreeIntoContainer=function(e,r,o,c){if(!ki(o))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Si(e,r,o,!1,c)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var Rf;function Fg(){if(Rf)return sd.exports;Rf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),sd.exports=Z0(),sd.exports}var Of;function ex(){if(Of)return _i;Of=1;var a=Fg();return _i.createRoot=a.createRoot,_i.hydrateRoot=a.hydrateRoot,_i}var tx=ex();Fg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jn(){return Jn=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},Jn.apply(this,arguments)}var Aa;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Aa||(Aa={}));const Lf="popstate";function rx(a){a===void 0&&(a={});function s(i,l){let{pathname:d,search:u,hash:g}=i.location;return pd("",{pathname:d,search:u,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Ui(l)}return sx(s,n,null,a)}function dt(a,s){if(a===!1||a===null||typeof a>"u")throw new Error(s)}function zg(a,s){if(!a){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function ax(){return Math.random().toString(36).substr(2,8)}function If(a,s){return{usr:a.state,key:a.key,idx:s}}function pd(a,s,n,i){return n===void 0&&(n=null),Jn({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof s=="string"?Qs(s):s,{state:n,key:s&&s.key||i||ax()})}function Ui(a){let{pathname:s="/",search:n="",hash:i=""}=a;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Qs(a){let s={};if(a){let n=a.indexOf("#");n>=0&&(s.hash=a.substr(n),a=a.substr(0,n));let i=a.indexOf("?");i>=0&&(s.search=a.substr(i),a=a.substr(0,i)),a&&(s.pathname=a)}return s}function sx(a,s,n,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,u=l.history,g=Aa.Pop,h=null,v=p();v==null&&(v=0,u.replaceState(Jn({},u.state,{idx:v}),""));function p(){return(u.state||{idx:null}).idx}function x(){g=Aa.Pop;let k=p(),O=k==null?null:k-v;v=k,h&&h({action:g,location:_.location,delta:O})}function w(k,O){g=Aa.Push;let A=pd(_.location,k,O);v=p()+1;let j=If(A,v),P=_.createHref(A);try{u.pushState(j,"",P)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;l.location.assign(P)}d&&h&&h({action:g,location:_.location,delta:1})}function D(k,O){g=Aa.Replace;let A=pd(_.location,k,O);v=p();let j=If(A,v),P=_.createHref(A);u.replaceState(j,"",P),d&&h&&h({action:g,location:_.location,delta:0})}function S(k){let O=l.location.origin!=="null"?l.location.origin:l.location.href,A=typeof k=="string"?k:Ui(k);return A=A.replace(/ $/,"%20"),dt(O,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,O)}let _={get action(){return g},get location(){return a(l,u)},listen(k){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Lf,x),h=k,()=>{l.removeEventListener(Lf,x),h=null}},createHref(k){return s(l,k)},createURL:S,encodeLocation(k){let O=S(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:D,go(k){return u.go(k)}};return _}var $f;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})($f||($f={}));function nx(a,s,n){return n===void 0&&(n="/"),ox(a,s,n)}function ox(a,s,n,i){let l=typeof s=="string"?Qs(s):s,d=zd(l.pathname||"/",n);if(d==null)return null;let u=Ug(a);ix(u);let g=null;for(let h=0;g==null&&h<u.length;++h){let v=vx(d);g=hx(u[h],v)}return g}function Ug(a,s,n,i){s===void 0&&(s=[]),n===void 0&&(n=[]),i===void 0&&(i="");let l=(d,u,g)=>{let h={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};h.relativePath.startsWith("/")&&(dt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let v=Ma([i,h.relativePath]),p=n.concat(h);d.children&&d.children.length>0&&(dt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Ug(d.children,s,p,v)),!(d.path==null&&!d.index)&&s.push({path:v,score:gx(v,d.index),routesMeta:p})};return a.forEach((d,u)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))l(d,u);else for(let h of qg(d.path))l(d,u,h)}),s}function qg(a){let s=a.split("/");if(s.length===0)return[];let[n,...i]=s,l=n.endsWith("?"),d=n.replace(/\?$/,"");if(i.length===0)return l?[d,""]:[d];let u=qg(i.join("/")),g=[];return g.push(...u.map(h=>h===""?d:[d,h].join("/"))),l&&g.push(...u),g.map(h=>a.startsWith("/")&&h===""?"/":h)}function ix(a){a.sort((s,n)=>s.score!==n.score?n.score-s.score:px(s.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const lx=/^:[\w-]+$/,cx=3,dx=2,ux=1,mx=10,fx=-2,Ff=a=>a==="*";function gx(a,s){let n=a.split("/"),i=n.length;return n.some(Ff)&&(i+=fx),s&&(i+=dx),n.filter(l=>!Ff(l)).reduce((l,d)=>l+(lx.test(d)?cx:d===""?ux:mx),i)}function px(a,s){return a.length===s.length&&a.slice(0,-1).every((i,l)=>i===s[l])?a[a.length-1]-s[s.length-1]:0}function hx(a,s,n){let{routesMeta:i}=a,l={},d="/",u=[];for(let g=0;g<i.length;++g){let h=i[g],v=g===i.length-1,p=d==="/"?s:s.slice(d.length)||"/",x=xx({path:h.relativePath,caseSensitive:h.caseSensitive,end:v},p),w=h.route;if(!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Ma([d,x.pathname]),pathnameBase:Nx(Ma([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=Ma([d,x.pathnameBase]))}return u}function xx(a,s){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=yx(a.path,a.caseSensitive,a.end),l=s.match(n);if(!l)return null;let d=l[0],u=d.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((v,p,x)=>{let{paramName:w,isOptional:D}=p;if(w==="*"){let _=g[x]||"";u=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const S=g[x];return D&&!S?v[w]=void 0:v[w]=(S||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:u,pattern:a}}function yx(a,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),zg(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,g,h)=>(i.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,s?void 0:"i"),i]}function vx(a){try{return a.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return zg(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),a}}function zd(a,s){if(s==="/")return a;if(!a.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}function bx(a,s){s===void 0&&(s="/");let{pathname:n,search:i="",hash:l=""}=typeof a=="string"?Qs(a):a;return{pathname:n?n.startsWith("/")?n:wx(n,s):s,search:kx(i),hash:Sx(l)}}function wx(a,s){let n=s.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function id(a,s,n,i){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jx(a){return a.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Ud(a,s){let n=jx(a);return s?n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function qd(a,s,n,i){i===void 0&&(i=!1);let l;typeof a=="string"?l=Qs(a):(l=Jn({},a),dt(!l.pathname||!l.pathname.includes("?"),id("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),id("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),id("#","search","hash",l)));let d=a===""||l.pathname==="",u=d?"/":l.pathname,g;if(u==null)g=n;else{let x=s.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;l.pathname=w.join("/")}g=x>=0?s[x]:"/"}let h=bx(l,g),v=u&&u!=="/"&&u.endsWith("/"),p=(d||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(v||p)&&(h.pathname+="/"),h}const Ma=a=>a.join("/").replace(/\/\/+/g,"/"),Nx=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),kx=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Sx=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Cx(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Bg=["post","put","patch","delete"];new Set(Bg);const _x=["get",...Bg];new Set(_x);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gn(){return Gn=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},Gn.apply(this,arguments)}const Bd=y.createContext(null),Ex=y.createContext(null),Ia=y.createContext(null),Zi=y.createContext(null),Lr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Hg=y.createContext(null);function Tx(a,s){let{relative:n}=s===void 0?{}:s;Xs()||dt(!1);let{basename:i,navigator:l}=y.useContext(Ia),{hash:d,pathname:u,search:g}=Wg(a,{relative:n}),h=u;return i!=="/"&&(h=u==="/"?i:Ma([i,u])),l.createHref({pathname:h,search:g,hash:d})}function Xs(){return y.useContext(Zi)!=null}function Ks(){return Xs()||dt(!1),y.useContext(Zi).location}function Vg(a){y.useContext(Ia).static||y.useLayoutEffect(a)}function Nt(){let{isDataRoute:a}=y.useContext(Lr);return a?Vx():Px()}function Px(){Xs()||dt(!1);let a=y.useContext(Bd),{basename:s,future:n,navigator:i}=y.useContext(Ia),{matches:l}=y.useContext(Lr),{pathname:d}=Ks(),u=JSON.stringify(Ud(l,n.v7_relativeSplatPath)),g=y.useRef(!1);return Vg(()=>{g.current=!0}),y.useCallback(function(v,p){if(p===void 0&&(p={}),!g.current)return;if(typeof v=="number"){i.go(v);return}let x=qd(v,JSON.parse(u),d,p.relative==="path");a==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:Ma([s,x.pathname])),(p.replace?i.replace:i.push)(x,p.state,p)},[s,i,u,d,a])}const Ax=y.createContext(null);function Mx(a){let s=y.useContext(Lr).outlet;return s&&y.createElement(Ax.Provider,{value:a},s)}function Dx(){let{matches:a}=y.useContext(Lr),s=a[a.length-1];return s?s.params:{}}function Wg(a,s){let{relative:n}=s===void 0?{}:s,{future:i}=y.useContext(Ia),{matches:l}=y.useContext(Lr),{pathname:d}=Ks(),u=JSON.stringify(Ud(l,i.v7_relativeSplatPath));return y.useMemo(()=>qd(a,JSON.parse(u),d,n==="path"),[a,u,d,n])}function Rx(a,s){return Ox(a,s)}function Ox(a,s,n,i){Xs()||dt(!1);let{navigator:l}=y.useContext(Ia),{matches:d}=y.useContext(Lr),u=d[d.length-1],g=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let v=Ks(),p;if(s){var x;let k=typeof s=="string"?Qs(s):s;h==="/"||(x=k.pathname)!=null&&x.startsWith(h)||dt(!1),p=k}else p=v;let w=p.pathname||"/",D=w;if(h!=="/"){let k=h.replace(/^\//,"").split("/");D="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=nx(a,{pathname:D}),_=zx(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Ma([h,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Ma([h,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),d,n,i);return s&&_?y.createElement(Zi.Provider,{value:{location:Gn({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Aa.Pop}},_):_}function Lx(){let a=Hx(),s=Cx(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},s),n?y.createElement("pre",{style:l},n):null,null)}const Ix=y.createElement(Lx,null);class $x extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?y.createElement(Lr.Provider,{value:this.props.routeContext},y.createElement(Hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fx(a){let{routeContext:s,match:n,children:i}=a,l=y.useContext(Bd);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Lr.Provider,{value:s},i)}function zx(a,s,n,i){var l;if(s===void 0&&(s=[]),n===void 0&&(n=null),i===void 0&&(i=null),a==null){var d;if(!n)return null;if(n.errors)a=n.matches;else if((d=i)!=null&&d.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let u=a,g=(l=n)==null?void 0:l.errors;if(g!=null){let p=u.findIndex(x=>x.route.id&&g?.[x.route.id]!==void 0);p>=0||dt(!1),u=u.slice(0,Math.min(u.length,p+1))}let h=!1,v=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<u.length;p++){let x=u[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=p),x.route.id){let{loaderData:w,errors:D}=n,S=x.route.loader&&w[x.route.id]===void 0&&(!D||D[x.route.id]===void 0);if(x.route.lazy||S){h=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}return u.reduceRight((p,x,w)=>{let D,S=!1,_=null,k=null;n&&(D=g&&x.route.id?g[x.route.id]:void 0,_=x.route.errorElement||Ix,h&&(v<0&&w===0?(Wx("route-fallback"),S=!0,k=null):v===w&&(S=!0,k=x.route.hydrateFallbackElement||null)));let O=s.concat(u.slice(0,w+1)),A=()=>{let j;return D?j=_:S?j=k:x.route.Component?j=y.createElement(x.route.Component,null):x.route.element?j=x.route.element:j=p,y.createElement(Fx,{match:x,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:j})};return n&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?y.createElement($x,{location:n.location,revalidation:n.revalidation,component:_,error:D,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}var Yg=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(Yg||{}),Qg=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(Qg||{});function Ux(a){let s=y.useContext(Bd);return s||dt(!1),s}function qx(a){let s=y.useContext(Ex);return s||dt(!1),s}function Bx(a){let s=y.useContext(Lr);return s||dt(!1),s}function Xg(a){let s=Bx(),n=s.matches[s.matches.length-1];return n.route.id||dt(!1),n.route.id}function Hx(){var a;let s=y.useContext(Hg),n=qx(),i=Xg();return s!==void 0?s:(a=n.errors)==null?void 0:a[i]}function Vx(){let{router:a}=Ux(Yg.UseNavigateStable),s=Xg(Qg.UseNavigateStable),n=y.useRef(!1);return Vg(()=>{n.current=!0}),y.useCallback(function(l,d){d===void 0&&(d={}),n.current&&(typeof l=="number"?a.navigate(l):a.navigate(l,Gn({fromRouteId:s},d)))},[a,s])}const zf={};function Wx(a,s,n){zf[a]||(zf[a]=!0)}function Yx(a,s){a?.v7_startTransition,a?.v7_relativeSplatPath}function hd(a){let{to:s,replace:n,state:i,relative:l}=a;Xs()||dt(!1);let{future:d,static:u}=y.useContext(Ia),{matches:g}=y.useContext(Lr),{pathname:h}=Ks(),v=Nt(),p=qd(s,Ud(g,d.v7_relativeSplatPath),h,l==="path"),x=JSON.stringify(p);return y.useEffect(()=>v(JSON.parse(x),{replace:n,state:i,relative:l}),[v,x,l,n,i]),null}function Uf(a){return Mx(a.context)}function st(a){dt(!1)}function Qx(a){let{basename:s="/",children:n=null,location:i,navigationType:l=Aa.Pop,navigator:d,static:u=!1,future:g}=a;Xs()&&dt(!1);let h=s.replace(/^\/*/,"/"),v=y.useMemo(()=>({basename:h,navigator:d,static:u,future:Gn({v7_relativeSplatPath:!1},g)}),[h,g,d,u]);typeof i=="string"&&(i=Qs(i));let{pathname:p="/",search:x="",hash:w="",state:D=null,key:S="default"}=i,_=y.useMemo(()=>{let k=zd(p,h);return k==null?null:{location:{pathname:k,search:x,hash:w,state:D,key:S},navigationType:l}},[h,p,x,w,D,S,l]);return _==null?null:y.createElement(Ia.Provider,{value:v},y.createElement(Zi.Provider,{children:n,value:_}))}function Xx(a){let{children:s,location:n}=a;return Rx(xd(s),n)}new Promise(()=>{});function xd(a,s){s===void 0&&(s=[]);let n=[];return y.Children.forEach(a,(i,l)=>{if(!y.isValidElement(i))return;let d=[...s,l];if(i.type===y.Fragment){n.push.apply(n,xd(i.props.children,d));return}i.type!==st&&dt(!1),!i.props.index||!i.props.children||dt(!1);let u={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=xd(i.props.children,d)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},yd.apply(this,arguments)}function Kx(a,s){if(a==null)return{};var n={},i=Object.keys(a),l,d;for(d=0;d<i.length;d++)l=i[d],!(s.indexOf(l)>=0)&&(n[l]=a[l]);return n}function Jx(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Gx(a,s){return a.button===0&&(!s||s==="_self")&&!Jx(a)}const Zx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ey="6";try{window.__reactRouterVersion=ey}catch{}const ty="startTransition",qf=H0[ty];function ry(a){let{basename:s,children:n,future:i,window:l}=a,d=y.useRef();d.current==null&&(d.current=rx({window:l,v5Compat:!0}));let u=d.current,[g,h]=y.useState({action:u.action,location:u.location}),{v7_startTransition:v}=i||{},p=y.useCallback(x=>{v&&qf?qf(()=>h(x)):h(x)},[h,v]);return y.useLayoutEffect(()=>u.listen(p),[u,p]),y.useEffect(()=>Yx(i),[i]),y.createElement(Qx,{basename:s,children:n,location:g.location,navigationType:g.action,navigator:u,future:i})}const ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fs=y.forwardRef(function(s,n){let{onClick:i,relative:l,reloadDocument:d,replace:u,state:g,target:h,to:v,preventScrollReset:p,viewTransition:x}=s,w=Kx(s,Zx),{basename:D}=y.useContext(Ia),S,_=!1;if(typeof v=="string"&&sy.test(v)&&(S=v,ay))try{let j=new URL(window.location.href),P=v.startsWith("//")?new URL(j.protocol+v):new URL(v),X=zd(P.pathname,D);P.origin===j.origin&&X!=null?v=X+P.search+P.hash:_=!0}catch{}let k=Tx(v,{relative:l}),O=ny(v,{replace:u,state:g,target:h,preventScrollReset:p,relative:l,viewTransition:x});function A(j){i&&i(j),j.defaultPrevented||O(j)}return y.createElement("a",yd({},w,{href:S||k,onClick:_||d?i:A,ref:n,target:h}))});var Bf;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Bf||(Bf={}));var Hf;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Hf||(Hf={}));function ny(a,s){let{target:n,replace:i,state:l,preventScrollReset:d,relative:u,viewTransition:g}=s===void 0?{}:s,h=Nt(),v=Ks(),p=Wg(a,{relative:u});return y.useCallback(x=>{if(Gx(x,n)){x.preventDefault();let w=i!==void 0?i:Ui(v)===Ui(p);h(a,{replace:w,state:l,preventScrollReset:d,relative:u,viewTransition:g})}},[v,h,p,i,l,n,a,d,u,g])}let oy={data:""},iy=a=>{if(typeof window=="object"){let s=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(a||document.head).appendChild(s),s.firstChild}return a||oy},ly=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cy=/\/\*[^]*?\*\/|  +/g,Vf=/\n+/g,Pa=(a,s)=>{let n="",i="",l="";for(let d in a){let u=a[d];d[0]=="@"?d[1]=="i"?n=d+" "+u+";":i+=d[1]=="f"?Pa(u,d):d+"{"+Pa(u,d[1]=="k"?"":s)+"}":typeof u=="object"?i+=Pa(u,s?s.replace(/([^,])+/g,g=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,g):g?g+" "+h:h)):d):u!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Pa.p?Pa.p(d,u):d+":"+u+";")}return n+(s&&l?s+"{"+l+"}":l)+i},Kr={},Kg=a=>{if(typeof a=="object"){let s="";for(let n in a)s+=n+Kg(a[n]);return s}return a},dy=(a,s,n,i,l)=>{let d=Kg(a),u=Kr[d]||(Kr[d]=(h=>{let v=0,p=11;for(;v<h.length;)p=101*p+h.charCodeAt(v++)>>>0;return"go"+p})(d));if(!Kr[u]){let h=d!==a?a:(v=>{let p,x,w=[{}];for(;p=ly.exec(v.replace(cy,""));)p[4]?w.shift():p[3]?(x=p[3].replace(Vf," ").trim(),w.unshift(w[0][x]=w[0][x]||{})):w[0][p[1]]=p[2].replace(Vf," ").trim();return w[0]})(a);Kr[u]=Pa(l?{["@keyframes "+u]:h}:h,n?"":"."+u)}let g=n&&Kr.g?Kr.g:null;return n&&(Kr.g=Kr[u]),((h,v,p,x)=>{x?v.data=v.data.replace(x,h):v.data.indexOf(h)===-1&&(v.data=p?h+v.data:v.data+h)})(Kr[u],s,i,g),u},uy=(a,s,n)=>a.reduce((i,l,d)=>{let u=s[d];if(u&&u.call){let g=u(n),h=g&&g.props&&g.props.className||/^go/.test(g)&&g;u=h?"."+h:g&&typeof g=="object"?g.props?"":Pa(g,""):g===!1?"":g}return i+l+(u??"")},"");function el(a){let s=this||{},n=a.call?a(s.p):a;return dy(n.unshift?n.raw?uy(n,[].slice.call(arguments,1),s.p):n.reduce((i,l)=>Object.assign(i,l&&l.call?l(s.p):l),{}):n,iy(s.target),s.g,s.o,s.k)}let Jg,vd,bd;el.bind({g:1});let ta=el.bind({k:1});function my(a,s,n,i){Pa.p=s,Jg=a,vd=n,bd=i}function $a(a,s){let n=this||{};return function(){let i=arguments;function l(d,u){let g=Object.assign({},d),h=g.className||l.className;n.p=Object.assign({theme:vd&&vd()},g),n.o=/ *go\d+/.test(h),g.className=el.apply(n,i)+(h?" "+h:"");let v=a;return a[0]&&(v=g.as||a,delete g.as),bd&&v[0]&&bd(g),Jg(v,g)}return l}}var fy=a=>typeof a=="function",qi=(a,s)=>fy(a)?a(s):a,gy=(()=>{let a=0;return()=>(++a).toString()})(),Gg=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");a=!s||s.matches}return a}})(),py=20,Hd="default",Zg=(a,s)=>{let{toastLimit:n}=a.settings;switch(s.type){case 0:return{...a,toasts:[s.toast,...a.toasts].slice(0,n)};case 1:return{...a,toasts:a.toasts.map(u=>u.id===s.toast.id?{...u,...s.toast}:u)};case 2:let{toast:i}=s;return Zg(a,{type:a.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:l}=s;return{...a,toasts:a.toasts.map(u=>u.id===l||l===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return s.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(u=>u.id!==s.toastId)};case 5:return{...a,pausedAt:s.time};case 6:let d=s.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+d}))}}},Ri=[],ep={toasts:[],pausedAt:void 0,settings:{toastLimit:py}},Or={},tp=(a,s=Hd)=>{Or[s]=Zg(Or[s]||ep,a),Ri.forEach(([n,i])=>{n===s&&i(Or[s])})},rp=a=>Object.keys(Or).forEach(s=>tp(a,s)),hy=a=>Object.keys(Or).find(s=>Or[s].toasts.some(n=>n.id===a)),tl=(a=Hd)=>s=>{tp(s,a)},xy={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yy=(a={},s=Hd)=>{let[n,i]=y.useState(Or[s]||ep),l=y.useRef(Or[s]);y.useEffect(()=>(l.current!==Or[s]&&i(Or[s]),Ri.push([s,i]),()=>{let u=Ri.findIndex(([g])=>g===s);u>-1&&Ri.splice(u,1)}),[s]);let d=n.toasts.map(u=>{var g,h,v;return{...a,...a[u.type],...u,removeDelay:u.removeDelay||((g=a[u.type])==null?void 0:g.removeDelay)||a?.removeDelay,duration:u.duration||((h=a[u.type])==null?void 0:h.duration)||a?.duration||xy[u.type],style:{...a.style,...(v=a[u.type])==null?void 0:v.style,...u.style}}});return{...n,toasts:d}},vy=(a,s="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...n,id:n?.id||gy()}),so=a=>(s,n)=>{let i=vy(s,a,n);return tl(i.toasterId||hy(i.id))({type:2,toast:i}),i.id},pt=(a,s)=>so("blank")(a,s);pt.error=so("error");pt.success=so("success");pt.loading=so("loading");pt.custom=so("custom");pt.dismiss=(a,s)=>{let n={type:3,toastId:a};s?tl(s)(n):rp(n)};pt.dismissAll=a=>pt.dismiss(void 0,a);pt.remove=(a,s)=>{let n={type:4,toastId:a};s?tl(s)(n):rp(n)};pt.removeAll=a=>pt.remove(void 0,a);pt.promise=(a,s,n)=>{let i=pt.loading(s.loading,{...n,...n?.loading});return typeof a=="function"&&(a=a()),a.then(l=>{let d=s.success?qi(s.success,l):void 0;return d?pt.success(d,{id:i,...n,...n?.success}):pt.dismiss(i),l}).catch(l=>{let d=s.error?qi(s.error,l):void 0;d?pt.error(d,{id:i,...n,...n?.error}):pt.dismiss(i)}),a};var by=1e3,wy=(a,s="default")=>{let{toasts:n,pausedAt:i}=yy(a,s),l=y.useRef(new Map).current,d=y.useCallback((x,w=by)=>{if(l.has(x))return;let D=setTimeout(()=>{l.delete(x),u({type:4,toastId:x})},w);l.set(x,D)},[]);y.useEffect(()=>{if(i)return;let x=Date.now(),w=n.map(D=>{if(D.duration===1/0)return;let S=(D.duration||0)+D.pauseDuration-(x-D.createdAt);if(S<0){D.visible&&pt.dismiss(D.id);return}return setTimeout(()=>pt.dismiss(D.id,s),S)});return()=>{w.forEach(D=>D&&clearTimeout(D))}},[n,i,s]);let u=y.useCallback(tl(s),[s]),g=y.useCallback(()=>{u({type:5,time:Date.now()})},[u]),h=y.useCallback((x,w)=>{u({type:1,toast:{id:x,height:w}})},[u]),v=y.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),p=y.useCallback((x,w)=>{let{reverseOrder:D=!1,gutter:S=8,defaultPosition:_}=w||{},k=n.filter(j=>(j.position||_)===(x.position||_)&&j.height),O=k.findIndex(j=>j.id===x.id),A=k.filter((j,P)=>P<O&&j.visible).length;return k.filter(j=>j.visible).slice(...D?[A+1]:[0,A]).reduce((j,P)=>j+(P.height||0)+S,0)},[n]);return y.useEffect(()=>{n.forEach(x=>{if(x.dismissed)d(x.id,x.removeDelay);else{let w=l.get(x.id);w&&(clearTimeout(w),l.delete(x.id))}})},[n,d]),{toasts:n,handlers:{updateHeight:h,startPause:g,endPause:v,calculateOffset:p}}},jy=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ny=ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ky=ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sy=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jy} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ny} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ky} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Cy=ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_y=$a("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${Cy} 1s linear infinite;
`,Ey=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ty=ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Py=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ey} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ty} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ay=$a("div")`
  position: absolute;
`,My=$a("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Dy=ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ry=$a("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Dy} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Oy=({toast:a})=>{let{icon:s,type:n,iconTheme:i}=a;return s!==void 0?typeof s=="string"?y.createElement(Ry,null,s):s:n==="blank"?null:y.createElement(My,null,y.createElement(_y,{...i}),n!=="loading"&&y.createElement(Ay,null,n==="error"?y.createElement(Sy,{...i}):y.createElement(Py,{...i})))},Ly=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Iy=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,$y="0%{opacity:0;} 100%{opacity:1;}",Fy="0%{opacity:1;} 100%{opacity:0;}",zy=$a("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Uy=$a("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qy=(a,s)=>{let n=a.includes("top")?1:-1,[i,l]=Gg()?[$y,Fy]:[Ly(n),Iy(n)];return{animation:s?`${ta(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ta(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},By=y.memo(({toast:a,position:s,style:n,children:i})=>{let l=a.height?qy(a.position||s||"top-center",a.visible):{opacity:0},d=y.createElement(Oy,{toast:a}),u=y.createElement(Uy,{...a.ariaProps},qi(a.message,a));return y.createElement(zy,{className:a.className,style:{...l,...n,...a.style}},typeof i=="function"?i({icon:d,message:u}):y.createElement(y.Fragment,null,d,u))});my(y.createElement);var Hy=({id:a,className:s,style:n,onHeightUpdate:i,children:l})=>{let d=y.useCallback(u=>{if(u){let g=()=>{let h=u.getBoundingClientRect().height;i(a,h)};g(),new MutationObserver(g).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[a,i]);return y.createElement("div",{ref:d,className:s,style:n},l)},Vy=(a,s)=>{let n=a.includes("top"),i=n?{top:0}:{bottom:0},l=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(n?1:-1)}px)`,...i,...l}},Wy=el`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ei=16,Yy=({reverseOrder:a,position:s="top-center",toastOptions:n,gutter:i,children:l,toasterId:d,containerStyle:u,containerClassName:g})=>{let{toasts:h,handlers:v}=wy(n,d);return y.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:Ei,left:Ei,right:Ei,bottom:Ei,pointerEvents:"none",...u},className:g,onMouseEnter:v.startPause,onMouseLeave:v.endPause},h.map(p=>{let x=p.position||s,w=v.calculateOffset(p,{reverseOrder:a,gutter:i,defaultPosition:s}),D=Vy(x,w);return y.createElement(Hy,{id:p.id,key:p.id,onHeightUpdate:v.updateHeight,className:p.visible?Wy:"",style:D},p.type==="custom"?qi(p.message,p):l?l(p):y.createElement(By,{toast:p,position:x}))}))},M=pt;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xy=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,i)=>i?i.toUpperCase():n.toLowerCase()),Wf=a=>{const s=Xy(a);return s.charAt(0).toUpperCase()+s.slice(1)},ap=(...a)=>a.filter((s,n,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===n).join(" ").trim(),Ky=a=>{for(const s in a)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=y.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:u,...g},h)=>y.createElement("svg",{ref:h,...Jy,width:s,height:s,stroke:a,strokeWidth:i?Number(n)*24/Number(s):n,className:ap("lucide",l),...!d&&!Ky(g)&&{"aria-hidden":"true"},...g},[...u.map(([v,p])=>y.createElement(v,p)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(a,s)=>{const n=y.forwardRef(({className:i,...l},d)=>y.createElement(Gy,{ref:d,iconNode:s,className:ap(`lucide-${Qy(Wf(a))}`,`lucide-${a}`,i),...l}));return n.displayName=Wf(a),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],Yf=Te("accessibility",Zy);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sp=Te("activity",ev);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],np=Te("arrow-left",tv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],op=Te("arrow-right",rv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ip=Te("book-open",av);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dt=Te("calendar",sv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vd=Te("chevron-down",nv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],iv=Te("chevron-left",ov);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cv=Te("chevron-right",lv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],no=Te("circle-alert",dv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bi=Te("circle-check-big",uv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wd=Te("circle-question-mark",mv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jd=Te("circle-x",fv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],lp=Te("clipboard",gv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],br=Te("clock",pv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xv=Te("copy",hv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vv=Te("eye",yv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Js=Te("file-text",bv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],cp=Te("headphones",wv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qf=Te("heart",jv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],dp=Te("house",Nv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nd=Te("loader-circle",kv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wd=Te("lock",Sv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Xf=Te("log-in",Cv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zn=Te("log-out",_v);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gs=Te("mail",Ev);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yd=Te("map-pin",Tv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Hi=Te("message-circle",Pv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M5 12h14",key:"1ays0h"}]],Mv=Te("minus",Av);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Rv=Te("moon",Dv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],up=Te("pencil",Ov);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rl=Te("phone",Lv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cr=Te("plus",Iv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fv=Te("refresh-cw",$v);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uv=Te("save",zv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ls=Te("search",qv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hv=Te("settings",Bv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vi=Te("shield",Vv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xn=Te("square-pen",Wv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Da=Te("stethoscope",Yv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xv=Te("sun",Qv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ra=Te("trash-2",Kv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Gv=Te("trending-up",Jv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kd=Te("user-check",Zv);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tb=Te("user-cog",eb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eo=Te("user-plus",rb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],sb=Te("user-x",ab);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bs=Te("user",nb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hs=Te("users",ob);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Vs=Te("video",ib);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],cb=Te("volume-2",lb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gr=Te("x",db),ub="modulepreload",mb=function(a){return"/mediconnect/"+a},Kf={},jt=function(s,n,i){let l=Promise.resolve();if(n&&n.length>0){let h=function(v){return Promise.all(v.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),g=u?.nonce||u?.getAttribute("nonce");l=h(n.map(v=>{if(v=mb(v),v in Kf)return;Kf[v]=!0;const p=v.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":ub,p||(w.as="script"),w.crossOrigin="",w.href=v,g&&w.setAttribute("nonce",g),document.head.appendChild(w),p)return new Promise((D,S)=>{w.addEventListener("load",D),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(u){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=u,window.dispatchEvent(g),!g.defaultPrevented)throw u}return l.then(u=>{for(const g of u||[])g.status==="rejected"&&d(g.reason);return s().catch(d)})},Me={DOCTORS:"/rest/v1/doctors",PATIENTS:"/rest/v1/patients",PROFILES:"/rest/v1/profiles",REPORTS:"/rest/v1/reports",APPOINTMENTS:"/rest/v1/appointments",CONSULTATIONS:"/rest/v1/appointments",AVAILABLE_SLOTS:"/functions/v1/get-available-slots",DOCTOR_AVAILABILITY:"/rest/v1/doctor_availability",DOCTOR_EXCEPTIONS:"/rest/v1/doctor_exceptions",PATIENT_ASSIGNMENTS:"/rest/v1/patient_assignments",USER_ROLES:"/rest/v1/user_roles",SMS:"/rest/v1/sms"};function mp(a,s){return function(){return a.apply(s,arguments)}}const{toString:fb}=Object.prototype,{getPrototypeOf:Qd}=Object,{iterator:al,toStringTag:fp}=Symbol,sl=(a=>s=>{const n=fb.call(s);return a[n]||(a[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wr=a=>(a=a.toLowerCase(),s=>sl(s)===a),nl=a=>s=>typeof s===a,{isArray:Zs}=Array,Ws=nl("undefined");function oo(a){return a!==null&&!Ws(a)&&a.constructor!==null&&!Ws(a.constructor)&&Vt(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const gp=wr("ArrayBuffer");function gb(a){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(a):s=a&&a.buffer&&gp(a.buffer),s}const pb=nl("string"),Vt=nl("function"),pp=nl("number"),io=a=>a!==null&&typeof a=="object",hb=a=>a===!0||a===!1,Oi=a=>{if(sl(a)!=="object")return!1;const s=Qd(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(fp in a)&&!(al in a)},xb=a=>{if(!io(a)||oo(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},yb=wr("Date"),vb=wr("File"),bb=wr("Blob"),wb=wr("FileList"),jb=a=>io(a)&&Vt(a.pipe),Nb=a=>{let s;return a&&(typeof FormData=="function"&&a instanceof FormData||Vt(a.append)&&((s=sl(a))==="formdata"||s==="object"&&Vt(a.toString)&&a.toString()==="[object FormData]"))},kb=wr("URLSearchParams"),[Sb,Cb,_b,Eb]=["ReadableStream","Request","Response","Headers"].map(wr),Tb=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lo(a,s,{allOwnKeys:n=!1}={}){if(a===null||typeof a>"u")return;let i,l;if(typeof a!="object"&&(a=[a]),Zs(a))for(i=0,l=a.length;i<l;i++)s.call(null,a[i],i,a);else{if(oo(a))return;const d=n?Object.getOwnPropertyNames(a):Object.keys(a),u=d.length;let g;for(i=0;i<u;i++)g=d[i],s.call(null,a[g],g,a)}}function hp(a,s){if(oo(a))return null;s=s.toLowerCase();const n=Object.keys(a);let i=n.length,l;for(;i-- >0;)if(l=n[i],s===l.toLowerCase())return l;return null}const os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xp=a=>!Ws(a)&&a!==os;function Sd(){const{caseless:a,skipUndefined:s}=xp(this)&&this||{},n={},i=(l,d)=>{const u=a&&hp(n,d)||d;Oi(n[u])&&Oi(l)?n[u]=Sd(n[u],l):Oi(l)?n[u]=Sd({},l):Zs(l)?n[u]=l.slice():(!s||!Ws(l))&&(n[u]=l)};for(let l=0,d=arguments.length;l<d;l++)arguments[l]&&lo(arguments[l],i);return n}const Pb=(a,s,n,{allOwnKeys:i}={})=>(lo(s,(l,d)=>{n&&Vt(l)?a[d]=mp(l,n):a[d]=l},{allOwnKeys:i}),a),Ab=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Mb=(a,s,n,i)=>{a.prototype=Object.create(s.prototype,i),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:s.prototype}),n&&Object.assign(a.prototype,n)},Db=(a,s,n,i)=>{let l,d,u;const g={};if(s=s||{},a==null)return s;do{for(l=Object.getOwnPropertyNames(a),d=l.length;d-- >0;)u=l[d],(!i||i(u,a,s))&&!g[u]&&(s[u]=a[u],g[u]=!0);a=n!==!1&&Qd(a)}while(a&&(!n||n(a,s))&&a!==Object.prototype);return s},Rb=(a,s,n)=>{a=String(a),(n===void 0||n>a.length)&&(n=a.length),n-=s.length;const i=a.indexOf(s,n);return i!==-1&&i===n},Ob=a=>{if(!a)return null;if(Zs(a))return a;let s=a.length;if(!pp(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=a[s];return n},Lb=(a=>s=>a&&s instanceof a)(typeof Uint8Array<"u"&&Qd(Uint8Array)),Ib=(a,s)=>{const i=(a&&a[al]).call(a);let l;for(;(l=i.next())&&!l.done;){const d=l.value;s.call(a,d[0],d[1])}},$b=(a,s)=>{let n;const i=[];for(;(n=a.exec(s))!==null;)i.push(n);return i},Fb=wr("HTMLFormElement"),zb=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,l){return i.toUpperCase()+l}),Jf=(({hasOwnProperty:a})=>(s,n)=>a.call(s,n))(Object.prototype),Ub=wr("RegExp"),yp=(a,s)=>{const n=Object.getOwnPropertyDescriptors(a),i={};lo(n,(l,d)=>{let u;(u=s(l,d,a))!==!1&&(i[d]=u||l)}),Object.defineProperties(a,i)},qb=a=>{yp(a,(s,n)=>{if(Vt(a)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=a[n];if(Vt(i)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bb=(a,s)=>{const n={},i=l=>{l.forEach(d=>{n[d]=!0})};return Zs(a)?i(a):i(String(a).split(s)),n},Hb=()=>{},Vb=(a,s)=>a!=null&&Number.isFinite(a=+a)?a:s;function Wb(a){return!!(a&&Vt(a.append)&&a[fp]==="FormData"&&a[al])}const Yb=a=>{const s=new Array(10),n=(i,l)=>{if(io(i)){if(s.indexOf(i)>=0)return;if(oo(i))return i;if(!("toJSON"in i)){s[l]=i;const d=Zs(i)?[]:{};return lo(i,(u,g)=>{const h=n(u,l+1);!Ws(h)&&(d[g]=h)}),s[l]=void 0,d}}return i};return n(a,0)},Qb=wr("AsyncFunction"),Xb=a=>a&&(io(a)||Vt(a))&&Vt(a.then)&&Vt(a.catch),vp=((a,s)=>a?setImmediate:s?((n,i)=>(os.addEventListener("message",({source:l,data:d})=>{l===os&&d===n&&i.length&&i.shift()()},!1),l=>{i.push(l),os.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vt(os.postMessage)),Kb=typeof queueMicrotask<"u"?queueMicrotask.bind(os):typeof process<"u"&&process.nextTick||vp,Jb=a=>a!=null&&Vt(a[al]),V={isArray:Zs,isArrayBuffer:gp,isBuffer:oo,isFormData:Nb,isArrayBufferView:gb,isString:pb,isNumber:pp,isBoolean:hb,isObject:io,isPlainObject:Oi,isEmptyObject:xb,isReadableStream:Sb,isRequest:Cb,isResponse:_b,isHeaders:Eb,isUndefined:Ws,isDate:yb,isFile:vb,isBlob:bb,isRegExp:Ub,isFunction:Vt,isStream:jb,isURLSearchParams:kb,isTypedArray:Lb,isFileList:wb,forEach:lo,merge:Sd,extend:Pb,trim:Tb,stripBOM:Ab,inherits:Mb,toFlatObject:Db,kindOf:sl,kindOfTest:wr,endsWith:Rb,toArray:Ob,forEachEntry:Ib,matchAll:$b,isHTMLForm:Fb,hasOwnProperty:Jf,hasOwnProp:Jf,reduceDescriptors:yp,freezeMethods:qb,toObjectSet:Bb,toCamelCase:zb,noop:Hb,toFiniteNumber:Vb,findKey:hp,global:os,isContextDefined:xp,isSpecCompliantForm:Wb,toJSONObject:Yb,isAsyncFn:Qb,isThenable:Xb,setImmediate:vp,asap:Kb,isIterable:Jb};function Oe(a,s,n,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}V.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const bp=Oe.prototype,wp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{wp[a]={value:a}});Object.defineProperties(Oe,wp);Object.defineProperty(bp,"isAxiosError",{value:!0});Oe.from=(a,s,n,i,l,d)=>{const u=Object.create(bp);V.toFlatObject(a,u,function(p){return p!==Error.prototype},v=>v!=="isAxiosError");const g=a&&a.message?a.message:"Error",h=s==null&&a?a.code:s;return Oe.call(u,g,h,n,i,l),a&&u.cause==null&&Object.defineProperty(u,"cause",{value:a,configurable:!0}),u.name=a&&a.name||"Error",d&&Object.assign(u,d),u};const Gb=null;function Cd(a){return V.isPlainObject(a)||V.isArray(a)}function jp(a){return V.endsWith(a,"[]")?a.slice(0,-2):a}function Gf(a,s,n){return a?a.concat(s).map(function(l,d){return l=jp(l),!n&&d?"["+l+"]":l}).join(n?".":""):s}function Zb(a){return V.isArray(a)&&!a.some(Cd)}const ew=V.toFlatObject(V,{},null,function(s){return/^is[A-Z]/.test(s)});function ol(a,s,n){if(!V.isObject(a))throw new TypeError("target must be an object");s=s||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!V.isUndefined(k[_])});const i=n.metaTokens,l=n.visitor||p,d=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(s);if(!V.isFunction(l))throw new TypeError("visitor must be a function");function v(S){if(S===null)return"";if(V.isDate(S))return S.toISOString();if(V.isBoolean(S))return S.toString();if(!h&&V.isBlob(S))throw new Oe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(S)||V.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,_,k){let O=S;if(S&&!k&&typeof S=="object"){if(V.endsWith(_,"{}"))_=i?_:_.slice(0,-2),S=JSON.stringify(S);else if(V.isArray(S)&&Zb(S)||(V.isFileList(S)||V.endsWith(_,"[]"))&&(O=V.toArray(S)))return _=jp(_),O.forEach(function(j,P){!(V.isUndefined(j)||j===null)&&s.append(u===!0?Gf([_],P,d):u===null?_:_+"[]",v(j))}),!1}return Cd(S)?!0:(s.append(Gf(k,_,d),v(S)),!1)}const x=[],w=Object.assign(ew,{defaultVisitor:p,convertValue:v,isVisitable:Cd});function D(S,_){if(!V.isUndefined(S)){if(x.indexOf(S)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(S),V.forEach(S,function(O,A){(!(V.isUndefined(O)||O===null)&&l.call(s,O,V.isString(A)?A.trim():A,_,w))===!0&&D(O,_?_.concat(A):[A])}),x.pop()}}if(!V.isObject(a))throw new TypeError("data must be an object");return D(a),s}function Zf(a){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(i){return s[i]})}function Xd(a,s){this._pairs=[],a&&ol(a,this,s)}const Np=Xd.prototype;Np.append=function(s,n){this._pairs.push([s,n])};Np.toString=function(s){const n=s?function(i){return s.call(this,i,Zf)}:Zf;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function tw(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kp(a,s,n){if(!s)return a;const i=n&&n.encode||tw;V.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let d;if(l?d=l(s,n):d=V.isURLSearchParams(s)?s.toString():new Xd(s,n).toString(i),d){const u=a.indexOf("#");u!==-1&&(a=a.slice(0,u)),a+=(a.indexOf("?")===-1?"?":"&")+d}return a}class eg{constructor(){this.handlers=[]}use(s,n,i){return this.handlers.push({fulfilled:s,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){V.forEach(this.handlers,function(i){i!==null&&s(i)})}}const Sp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rw=typeof URLSearchParams<"u"?URLSearchParams:Xd,aw=typeof FormData<"u"?FormData:null,sw=typeof Blob<"u"?Blob:null,nw={isBrowser:!0,classes:{URLSearchParams:rw,FormData:aw,Blob:sw},protocols:["http","https","file","blob","url","data"]},Kd=typeof window<"u"&&typeof document<"u",_d=typeof navigator=="object"&&navigator||void 0,ow=Kd&&(!_d||["ReactNative","NativeScript","NS"].indexOf(_d.product)<0),iw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lw=Kd&&window.location.href||"http://localhost",cw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kd,hasStandardBrowserEnv:ow,hasStandardBrowserWebWorkerEnv:iw,navigator:_d,origin:lw},Symbol.toStringTag,{value:"Module"})),Et={...cw,...nw};function dw(a,s){return ol(a,new Et.classes.URLSearchParams,{visitor:function(n,i,l,d){return Et.isNode&&V.isBuffer(n)?(this.append(i,n.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...s})}function uw(a){return V.matchAll(/\w+|\[(\w*)]/g,a).map(s=>s[0]==="[]"?"":s[1]||s[0])}function mw(a){const s={},n=Object.keys(a);let i;const l=n.length;let d;for(i=0;i<l;i++)d=n[i],s[d]=a[d];return s}function Cp(a){function s(n,i,l,d){let u=n[d++];if(u==="__proto__")return!0;const g=Number.isFinite(+u),h=d>=n.length;return u=!u&&V.isArray(l)?l.length:u,h?(V.hasOwnProp(l,u)?l[u]=[l[u],i]:l[u]=i,!g):((!l[u]||!V.isObject(l[u]))&&(l[u]=[]),s(n,i,l[u],d)&&V.isArray(l[u])&&(l[u]=mw(l[u])),!g)}if(V.isFormData(a)&&V.isFunction(a.entries)){const n={};return V.forEachEntry(a,(i,l)=>{s(uw(i),l,n,0)}),n}return null}function fw(a,s,n){if(V.isString(a))try{return(s||JSON.parse)(a),V.trim(a)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(a)}const co={transitional:Sp,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const i=n.getContentType()||"",l=i.indexOf("application/json")>-1,d=V.isObject(s);if(d&&V.isHTMLForm(s)&&(s=new FormData(s)),V.isFormData(s))return l?JSON.stringify(Cp(s)):s;if(V.isArrayBuffer(s)||V.isBuffer(s)||V.isStream(s)||V.isFile(s)||V.isBlob(s)||V.isReadableStream(s))return s;if(V.isArrayBufferView(s))return s.buffer;if(V.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let g;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return dw(s,this.formSerializer).toString();if((g=V.isFileList(s))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ol(g?{"files[]":s}:s,h&&new h,this.formSerializer)}}return d||l?(n.setContentType("application/json",!1),fw(s)):s}],transformResponse:[function(s){const n=this.transitional||co.transitional,i=n&&n.forcedJSONParsing,l=this.responseType==="json";if(V.isResponse(s)||V.isReadableStream(s))return s;if(s&&V.isString(s)&&(i&&!this.responseType||l)){const u=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(s,this.parseReviver)}catch(g){if(u)throw g.name==="SyntaxError"?Oe.from(g,Oe.ERR_BAD_RESPONSE,this,null,this.response):g}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],a=>{co.headers[a]={}});const gw=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pw=a=>{const s={};let n,i,l;return a&&a.split(`
`).forEach(function(u){l=u.indexOf(":"),n=u.substring(0,l).trim().toLowerCase(),i=u.substring(l+1).trim(),!(!n||s[n]&&gw[n])&&(n==="set-cookie"?s[n]?s[n].push(i):s[n]=[i]:s[n]=s[n]?s[n]+", "+i:i)}),s},tg=Symbol("internals");function Hn(a){return a&&String(a).trim().toLowerCase()}function Li(a){return a===!1||a==null?a:V.isArray(a)?a.map(Li):String(a)}function hw(a){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(a);)s[i[1]]=i[2];return s}const xw=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ld(a,s,n,i,l){if(V.isFunction(i))return i.call(this,s,n);if(l&&(s=n),!!V.isString(s)){if(V.isString(i))return s.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(s)}}function yw(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,i)=>n.toUpperCase()+i)}function vw(a,s){const n=V.toCamelCase(" "+s);["get","set","has"].forEach(i=>{Object.defineProperty(a,i+n,{value:function(l,d,u){return this[i].call(this,s,l,d,u)},configurable:!0})})}let Wt=class{constructor(s){s&&this.set(s)}set(s,n,i){const l=this;function d(g,h,v){const p=Hn(h);if(!p)throw new Error("header name must be a non-empty string");const x=V.findKey(l,p);(!x||l[x]===void 0||v===!0||v===void 0&&l[x]!==!1)&&(l[x||h]=Li(g))}const u=(g,h)=>V.forEach(g,(v,p)=>d(v,p,h));if(V.isPlainObject(s)||s instanceof this.constructor)u(s,n);else if(V.isString(s)&&(s=s.trim())&&!xw(s))u(pw(s),n);else if(V.isObject(s)&&V.isIterable(s)){let g={},h,v;for(const p of s){if(!V.isArray(p))throw TypeError("Object iterator must return a key-value pair");g[v=p[0]]=(h=g[v])?V.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}u(g,n)}else s!=null&&d(n,s,i);return this}get(s,n){if(s=Hn(s),s){const i=V.findKey(this,s);if(i){const l=this[i];if(!n)return l;if(n===!0)return hw(l);if(V.isFunction(n))return n.call(this,l,i);if(V.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=Hn(s),s){const i=V.findKey(this,s);return!!(i&&this[i]!==void 0&&(!n||ld(this,this[i],i,n)))}return!1}delete(s,n){const i=this;let l=!1;function d(u){if(u=Hn(u),u){const g=V.findKey(i,u);g&&(!n||ld(i,i[g],g,n))&&(delete i[g],l=!0)}}return V.isArray(s)?s.forEach(d):d(s),l}clear(s){const n=Object.keys(this);let i=n.length,l=!1;for(;i--;){const d=n[i];(!s||ld(this,this[d],d,s,!0))&&(delete this[d],l=!0)}return l}normalize(s){const n=this,i={};return V.forEach(this,(l,d)=>{const u=V.findKey(i,d);if(u){n[u]=Li(l),delete n[d];return}const g=s?yw(d):String(d).trim();g!==d&&delete n[d],n[g]=Li(l),i[g]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return V.forEach(this,(i,l)=>{i!=null&&i!==!1&&(n[l]=s&&V.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const i=new this(s);return n.forEach(l=>i.set(l)),i}static accessor(s){const i=(this[tg]=this[tg]={accessors:{}}).accessors,l=this.prototype;function d(u){const g=Hn(u);i[g]||(vw(l,u),i[g]=!0)}return V.isArray(s)?s.forEach(d):d(s),this}};Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Wt.prototype,({value:a},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>a,set(i){this[n]=i}}});V.freezeMethods(Wt);function cd(a,s){const n=this||co,i=s||n,l=Wt.from(i.headers);let d=i.data;return V.forEach(a,function(g){d=g.call(n,d,l.normalize(),s?s.status:void 0)}),l.normalize(),d}function _p(a){return!!(a&&a.__CANCEL__)}function en(a,s,n){Oe.call(this,a??"canceled",Oe.ERR_CANCELED,s,n),this.name="CanceledError"}V.inherits(en,Oe,{__CANCEL__:!0});function Ep(a,s,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?a(n):s(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bw(a){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}function ww(a,s){a=a||10;const n=new Array(a),i=new Array(a);let l=0,d=0,u;return s=s!==void 0?s:1e3,function(h){const v=Date.now(),p=i[d];u||(u=v),n[l]=h,i[l]=v;let x=d,w=0;for(;x!==l;)w+=n[x++],x=x%a;if(l=(l+1)%a,l===d&&(d=(d+1)%a),v-u<s)return;const D=p&&v-p;return D?Math.round(w*1e3/D):void 0}}function jw(a,s){let n=0,i=1e3/s,l,d;const u=(v,p=Date.now())=>{n=p,l=null,d&&(clearTimeout(d),d=null),a(...v)};return[(...v)=>{const p=Date.now(),x=p-n;x>=i?u(v,p):(l=v,d||(d=setTimeout(()=>{d=null,u(l)},i-x)))},()=>l&&u(l)]}const Wi=(a,s,n=3)=>{let i=0;const l=ww(50,250);return jw(d=>{const u=d.loaded,g=d.lengthComputable?d.total:void 0,h=u-i,v=l(h),p=u<=g;i=u;const x={loaded:u,total:g,progress:g?u/g:void 0,bytes:h,rate:v||void 0,estimated:v&&g&&p?(g-u)/v:void 0,event:d,lengthComputable:g!=null,[s?"download":"upload"]:!0};a(x)},n)},rg=(a,s)=>{const n=a!=null;return[i=>s[0]({lengthComputable:n,total:a,loaded:i}),s[1]]},ag=a=>(...s)=>V.asap(()=>a(...s)),Nw=Et.hasStandardBrowserEnv?((a,s)=>n=>(n=new URL(n,Et.origin),a.protocol===n.protocol&&a.host===n.host&&(s||a.port===n.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,kw=Et.hasStandardBrowserEnv?{write(a,s,n,i,l,d){const u=[a+"="+encodeURIComponent(s)];V.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),V.isString(i)&&u.push("path="+i),V.isString(l)&&u.push("domain="+l),d===!0&&u.push("secure"),document.cookie=u.join("; ")},read(a){const s=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sw(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Cw(a,s){return s?a.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):a}function Tp(a,s,n){let i=!Sw(s);return a&&(i||n==!1)?Cw(a,s):s}const sg=a=>a instanceof Wt?{...a}:a;function ms(a,s){s=s||{};const n={};function i(v,p,x,w){return V.isPlainObject(v)&&V.isPlainObject(p)?V.merge.call({caseless:w},v,p):V.isPlainObject(p)?V.merge({},p):V.isArray(p)?p.slice():p}function l(v,p,x,w){if(V.isUndefined(p)){if(!V.isUndefined(v))return i(void 0,v,x,w)}else return i(v,p,x,w)}function d(v,p){if(!V.isUndefined(p))return i(void 0,p)}function u(v,p){if(V.isUndefined(p)){if(!V.isUndefined(v))return i(void 0,v)}else return i(void 0,p)}function g(v,p,x){if(x in s)return i(v,p);if(x in a)return i(void 0,v)}const h={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:g,headers:(v,p,x)=>l(sg(v),sg(p),x,!0)};return V.forEach(Object.keys({...a,...s}),function(p){const x=h[p]||l,w=x(a[p],s[p],p);V.isUndefined(w)&&x!==g||(n[p]=w)}),n}const Pp=a=>{const s=ms({},a);let{data:n,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:d,headers:u,auth:g}=s;if(s.headers=u=Wt.from(u),s.url=kp(Tp(s.baseURL,s.url,s.allowAbsoluteUrls),a.params,a.paramsSerializer),g&&u.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),V.isFormData(n)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(V.isFunction(n.getHeaders)){const h=n.getHeaders(),v=["content-type","content-length"];Object.entries(h).forEach(([p,x])=>{v.includes(p.toLowerCase())&&u.set(p,x)})}}if(Et.hasStandardBrowserEnv&&(i&&V.isFunction(i)&&(i=i(s)),i||i!==!1&&Nw(s.url))){const h=l&&d&&kw.read(d);h&&u.set(l,h)}return s},_w=typeof XMLHttpRequest<"u",Ew=_w&&function(a){return new Promise(function(n,i){const l=Pp(a);let d=l.data;const u=Wt.from(l.headers).normalize();let{responseType:g,onUploadProgress:h,onDownloadProgress:v}=l,p,x,w,D,S;function _(){D&&D(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(p),l.signal&&l.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(l.method.toUpperCase(),l.url,!0),k.timeout=l.timeout;function O(){if(!k)return;const j=Wt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),X={data:!g||g==="text"||g==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:j,config:a,request:k};Ep(function(F){n(F),_()},function(F){i(F),_()},X),k=null}"onloadend"in k?k.onloadend=O:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(O)},k.onabort=function(){k&&(i(new Oe("Request aborted",Oe.ECONNABORTED,a,k)),k=null)},k.onerror=function(P){const X=P&&P.message?P.message:"Network Error",ae=new Oe(X,Oe.ERR_NETWORK,a,k);ae.event=P||null,i(ae),k=null},k.ontimeout=function(){let P=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const X=l.transitional||Sp;l.timeoutErrorMessage&&(P=l.timeoutErrorMessage),i(new Oe(P,X.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,a,k)),k=null},d===void 0&&u.setContentType(null),"setRequestHeader"in k&&V.forEach(u.toJSON(),function(P,X){k.setRequestHeader(X,P)}),V.isUndefined(l.withCredentials)||(k.withCredentials=!!l.withCredentials),g&&g!=="json"&&(k.responseType=l.responseType),v&&([w,S]=Wi(v,!0),k.addEventListener("progress",w)),h&&k.upload&&([x,D]=Wi(h),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",D)),(l.cancelToken||l.signal)&&(p=j=>{k&&(i(!j||j.type?new en(null,a,k):j),k.abort(),k=null)},l.cancelToken&&l.cancelToken.subscribe(p),l.signal&&(l.signal.aborted?p():l.signal.addEventListener("abort",p)));const A=bw(l.url);if(A&&Et.protocols.indexOf(A)===-1){i(new Oe("Unsupported protocol "+A+":",Oe.ERR_BAD_REQUEST,a));return}k.send(d||null)})},Tw=(a,s)=>{const{length:n}=a=a?a.filter(Boolean):[];if(s||n){let i=new AbortController,l;const d=function(v){if(!l){l=!0,g();const p=v instanceof Error?v:this.reason;i.abort(p instanceof Oe?p:new en(p instanceof Error?p.message:p))}};let u=s&&setTimeout(()=>{u=null,d(new Oe(`timeout ${s} of ms exceeded`,Oe.ETIMEDOUT))},s);const g=()=>{a&&(u&&clearTimeout(u),u=null,a.forEach(v=>{v.unsubscribe?v.unsubscribe(d):v.removeEventListener("abort",d)}),a=null)};a.forEach(v=>v.addEventListener("abort",d));const{signal:h}=i;return h.unsubscribe=()=>V.asap(g),h}},Pw=function*(a,s){let n=a.byteLength;if(n<s){yield a;return}let i=0,l;for(;i<n;)l=i+s,yield a.slice(i,l),i=l},Aw=async function*(a,s){for await(const n of Mw(a))yield*Pw(n,s)},Mw=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const s=a.getReader();try{for(;;){const{done:n,value:i}=await s.read();if(n)break;yield i}}finally{await s.cancel()}},ng=(a,s,n,i)=>{const l=Aw(a,s);let d=0,u,g=h=>{u||(u=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:v,value:p}=await l.next();if(v){g(),h.close();return}let x=p.byteLength;if(n){let w=d+=x;n(w)}h.enqueue(new Uint8Array(p))}catch(v){throw g(v),v}},cancel(h){return g(h),l.return()}},{highWaterMark:2})},og=64*1024,{isFunction:Ti}=V,Dw=(({Request:a,Response:s})=>({Request:a,Response:s}))(V.global),{ReadableStream:ig,TextEncoder:lg}=V.global,cg=(a,...s)=>{try{return!!a(...s)}catch{return!1}},Rw=a=>{a=V.merge.call({skipUndefined:!0},Dw,a);const{fetch:s,Request:n,Response:i}=a,l=s?Ti(s):typeof fetch=="function",d=Ti(n),u=Ti(i);if(!l)return!1;const g=l&&Ti(ig),h=l&&(typeof lg=="function"?(S=>_=>S.encode(_))(new lg):async S=>new Uint8Array(await new n(S).arrayBuffer())),v=d&&g&&cg(()=>{let S=!1;const _=new n(Et.origin,{body:new ig,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!_}),p=u&&g&&cg(()=>V.isReadableStream(new i("").body)),x={stream:p&&(S=>S.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!x[S]&&(x[S]=(_,k)=>{let O=_&&_[S];if(O)return O.call(_);throw new Oe(`Response type '${S}' is not supported`,Oe.ERR_NOT_SUPPORT,k)})});const w=async S=>{if(S==null)return 0;if(V.isBlob(S))return S.size;if(V.isSpecCompliantForm(S))return(await new n(Et.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(V.isArrayBufferView(S)||V.isArrayBuffer(S))return S.byteLength;if(V.isURLSearchParams(S)&&(S=S+""),V.isString(S))return(await h(S)).byteLength},D=async(S,_)=>{const k=V.toFiniteNumber(S.getContentLength());return k??w(_)};return async S=>{let{url:_,method:k,data:O,signal:A,cancelToken:j,timeout:P,onDownloadProgress:X,onUploadProgress:ae,responseType:F,headers:K,withCredentials:oe="same-origin",fetchOptions:W}=Pp(S),fe=s||fetch;F=F?(F+"").toLowerCase():"text";let he=Tw([A,j&&j.toAbortSignal()],P),ve=null;const Se=he&&he.unsubscribe&&(()=>{he.unsubscribe()});let Ce;try{if(ae&&v&&k!=="get"&&k!=="head"&&(Ce=await D(K,O))!==0){let C=new n(_,{method:"POST",body:O,duplex:"half"}),$;if(V.isFormData(O)&&($=C.headers.get("content-type"))&&K.setContentType($),C.body){const[re,ie]=rg(Ce,Wi(ag(ae)));O=ng(C.body,og,re,ie)}}V.isString(oe)||(oe=oe?"include":"omit");const ue=d&&"credentials"in n.prototype,me={...W,signal:he,method:k.toUpperCase(),headers:K.normalize().toJSON(),body:O,duplex:"half",credentials:ue?oe:void 0};ve=d&&new n(_,me);let Y=await(d?fe(ve,W):fe(_,me));const q=p&&(F==="stream"||F==="response");if(p&&(X||q&&Se)){const C={};["status","statusText","headers"].forEach(U=>{C[U]=Y[U]});const $=V.toFiniteNumber(Y.headers.get("content-length")),[re,ie]=X&&rg($,Wi(ag(X),!0))||[];Y=new i(ng(Y.body,og,re,()=>{ie&&ie(),Se&&Se()}),C)}F=F||"text";let Q=await x[V.findKey(x,F)||"text"](Y,S);return!q&&Se&&Se(),await new Promise((C,$)=>{Ep(C,$,{data:Q,headers:Wt.from(Y.headers),status:Y.status,statusText:Y.statusText,config:S,request:ve})})}catch(ue){throw Se&&Se(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,S,ve),{cause:ue.cause||ue}):Oe.from(ue,ue&&ue.code,S,ve)}}},Ow=new Map,Ap=a=>{let s=a?a.env:{};const{fetch:n,Request:i,Response:l}=s,d=[i,l,n];let u=d.length,g=u,h,v,p=Ow;for(;g--;)h=d[g],v=p.get(h),v===void 0&&p.set(h,v=g?new Map:Rw(s)),p=v;return v};Ap();const Ed={http:Gb,xhr:Ew,fetch:{get:Ap}};V.forEach(Ed,(a,s)=>{if(a){try{Object.defineProperty(a,"name",{value:s})}catch{}Object.defineProperty(a,"adapterName",{value:s})}});const dg=a=>`- ${a}`,Lw=a=>V.isFunction(a)||a===null||a===!1,Mp={getAdapter:(a,s)=>{a=V.isArray(a)?a:[a];const{length:n}=a;let i,l;const d={};for(let u=0;u<n;u++){i=a[u];let g;if(l=i,!Lw(i)&&(l=Ed[(g=String(i)).toLowerCase()],l===void 0))throw new Oe(`Unknown adapter '${g}'`);if(l&&(V.isFunction(l)||(l=l.get(s))))break;d[g||"#"+u]=l}if(!l){const u=Object.entries(d).map(([h,v])=>`adapter ${h} `+(v===!1?"is not supported by the environment":"is not available in the build"));let g=n?u.length>1?`since :
`+u.map(dg).join(`
`):" "+dg(u[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return l},adapters:Ed};function dd(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new en(null,a)}function ug(a){return dd(a),a.headers=Wt.from(a.headers),a.data=cd.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Mp.getAdapter(a.adapter||co.adapter,a)(a).then(function(i){return dd(a),i.data=cd.call(a,a.transformResponse,i),i.headers=Wt.from(i.headers),i},function(i){return _p(i)||(dd(a),i&&i.response&&(i.response.data=cd.call(a,a.transformResponse,i.response),i.response.headers=Wt.from(i.response.headers))),Promise.reject(i)})}const Dp="1.12.2",il={};["object","boolean","number","function","string","symbol"].forEach((a,s)=>{il[a]=function(i){return typeof i===a||"a"+(s<1?"n ":" ")+a}});const mg={};il.transitional=function(s,n,i){function l(d,u){return"[Axios v"+Dp+"] Transitional option '"+d+"'"+u+(i?". "+i:"")}return(d,u,g)=>{if(s===!1)throw new Oe(l(u," has been removed"+(n?" in "+n:"")),Oe.ERR_DEPRECATED);return n&&!mg[u]&&(mg[u]=!0,console.warn(l(u," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(d,u,g):!0}};il.spelling=function(s){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${s}`),!0)};function Iw(a,s,n){if(typeof a!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const i=Object.keys(a);let l=i.length;for(;l-- >0;){const d=i[l],u=s[d];if(u){const g=a[d],h=g===void 0||u(g,d,a);if(h!==!0)throw new Oe("option "+d+" must be "+h,Oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Oe("Unknown option "+d,Oe.ERR_BAD_OPTION)}}const Ii={assertOptions:Iw,validators:il},Tr=Ii.validators;let cs=class{constructor(s){this.defaults=s||{},this.interceptors={request:new eg,response:new eg}}async request(s,n){try{return await this._request(s,n)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const d=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=ms(this.defaults,n);const{transitional:i,paramsSerializer:l,headers:d}=n;i!==void 0&&Ii.assertOptions(i,{silentJSONParsing:Tr.transitional(Tr.boolean),forcedJSONParsing:Tr.transitional(Tr.boolean),clarifyTimeoutError:Tr.transitional(Tr.boolean)},!1),l!=null&&(V.isFunction(l)?n.paramsSerializer={serialize:l}:Ii.assertOptions(l,{encode:Tr.function,serialize:Tr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ii.assertOptions(n,{baseUrl:Tr.spelling("baseURL"),withXsrfToken:Tr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=d&&V.merge(d.common,d[n.method]);d&&V.forEach(["delete","get","head","post","put","patch","common"],S=>{delete d[S]}),n.headers=Wt.concat(u,d);const g=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(h=h&&_.synchronous,g.unshift(_.fulfilled,_.rejected))});const v=[];this.interceptors.response.forEach(function(_){v.push(_.fulfilled,_.rejected)});let p,x=0,w;if(!h){const S=[ug.bind(this),void 0];for(S.unshift(...g),S.push(...v),w=S.length,p=Promise.resolve(n);x<w;)p=p.then(S[x++],S[x++]);return p}w=g.length;let D=n;for(;x<w;){const S=g[x++],_=g[x++];try{D=S(D)}catch(k){_.call(this,k);break}}try{p=ug.call(this,D)}catch(S){return Promise.reject(S)}for(x=0,w=v.length;x<w;)p=p.then(v[x++],v[x++]);return p}getUri(s){s=ms(this.defaults,s);const n=Tp(s.baseURL,s.url,s.allowAbsoluteUrls);return kp(n,s.params,s.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(s){cs.prototype[s]=function(n,i){return this.request(ms(i||{},{method:s,url:n,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(s){function n(i){return function(d,u,g){return this.request(ms(g||{},{method:s,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}cs.prototype[s]=n(),cs.prototype[s+"Form"]=n(!0)});let $w=class Rp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(d){n=d});const i=this;this.promise.then(l=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](l);i._listeners=null}),this.promise.then=l=>{let d;const u=new Promise(g=>{i.subscribe(g),d=g}).then(l);return u.cancel=function(){i.unsubscribe(d)},u},s(function(d,u,g){i.reason||(i.reason=new en(d,u,g),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=i=>{s.abort(i)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new Rp(function(l){s=l}),cancel:s}}};function Fw(a){return function(n){return a.apply(null,n)}}function zw(a){return V.isObject(a)&&a.isAxiosError===!0}const Td={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Td).forEach(([a,s])=>{Td[s]=a});function Op(a){const s=new cs(a),n=mp(cs.prototype.request,s);return V.extend(n,cs.prototype,s,{allOwnKeys:!0}),V.extend(n,s,null,{allOwnKeys:!0}),n.create=function(l){return Op(ms(a,l))},n}const ut=Op(co);ut.Axios=cs;ut.CanceledError=en;ut.CancelToken=$w;ut.isCancel=_p;ut.VERSION=Dp;ut.toFormData=ol;ut.AxiosError=Oe;ut.Cancel=ut.CanceledError;ut.all=function(s){return Promise.all(s)};ut.spread=Fw;ut.isAxiosError=zw;ut.mergeConfig=ms;ut.AxiosHeaders=Wt;ut.formToJSON=a=>Cp(V.isHTMLForm(a)?new FormData(a):a);ut.getAdapter=Mp.getAdapter;ut.HttpStatusCode=Td;ut.default=ut;const{Axios:H2,AxiosError:V2,CanceledError:W2,isCancel:Y2,CancelToken:Q2,VERSION:X2,all:K2,Cancel:J2,isAxiosError:G2,spread:Z2,toFormData:ek,AxiosHeaders:tk,HttpStatusCode:rk,formToJSON:ak,getAdapter:sk,mergeConfig:nk}=ut;class Uw{accessToken=null;userData=null;REFRESH_KEY="refreshToken";LEGACY_ACCESS_KEYS=["authToken","token"];LEGACY_REFRESH_KEY="refreshToken";USER_KEY="authUser";migrated=!1;migrateLegacyStorage(){if(!this.migrated)try{for(const i of this.LEGACY_ACCESS_KEYS){const l=localStorage.getItem(i);l&&!this.accessToken&&(this.accessToken=l)}const s=localStorage.getItem(this.LEGACY_REFRESH_KEY);s&&!sessionStorage.getItem(this.REFRESH_KEY)&&sessionStorage.setItem(this.REFRESH_KEY,s);for(const i of this.LEGACY_ACCESS_KEYS)localStorage.removeItem(i);localStorage.removeItem(this.LEGACY_REFRESH_KEY);const n=localStorage.getItem(this.USER_KEY);if(n)try{this.userData=JSON.parse(n)}catch{}localStorage.removeItem(this.USER_KEY)}catch{}finally{this.migrated=!0}}setTokens(s,n){if(this.migrateLegacyStorage(),this.accessToken=s||null,n)try{sessionStorage.setItem(this.REFRESH_KEY,n)}catch{}}setUser(s){this.userData=s}getAccessToken(){return this.migrateLegacyStorage(),this.accessToken}getRefreshToken(){this.migrateLegacyStorage();try{return sessionStorage.getItem(this.REFRESH_KEY)}catch{return null}}getUser(){return this.userData||null}clear(){this.accessToken=null,this.userData=null,this.migrated=!1;try{sessionStorage.removeItem(this.REFRESH_KEY)}catch{}}snapshot(){return{accessToken:this.accessToken,refreshToken:this.getRefreshToken(),user:this.userData}}}const Mt=new Uw,Oa=Object.freeze(Object.defineProperty({__proto__:null,default:Mt,tokenStore:Mt},Symbol.toStringTag,{value:"Module"})),fg={debug:10,info:20,warn:30,error:40},qw=[/\b([A-Za-z0-9-_]{8,})\.([A-Za-z0-9-_]{8,})\.([A-Za-z0-9-_]{8,})\b/g,/\brefresh[_-]?token[a-z0-9]*=([A-Za-z0-9-_]+)/gi,/[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}/g],Bw=/\b(\d{3})[.]?(\d{3})[.]?(\d{3})[-]?(\d{2})\b/g;function Pd(a){if(a==null)return a;if(typeof a=="string"){let s=a;for(const n of qw)s=s.replace(n,"[REDACTED]");return s=s.replace(Bw,(n,i,l,d,u)=>`***CPF***${u}`),s}if(Array.isArray(a))return a.map(Pd);if(typeof a=="object"){const s={};for(const[n,i]of Object.entries(a))/token|password|secret|email/i.test(n)?s[n]="[REDACTED]":s[n]=Pd(i);return s}return a}class Hw{level;enabled;constructor(s={}){this.level=s.level||"debug",this.enabled=s.enabled!==!1}setLevel(s){this.level=s}disable(){this.enabled=!1}enable(){this.enabled=!0}shouldLog(s){return this.enabled&&fg[s]>=fg[this.level]}emit(s,n,i){if(!this.shouldLog(s))return;const l=new Date().toISOString(),d=i?Pd(i):void 0,u=`[${l}] ${s.toUpperCase()} ${n}`;s==="error"?console.error(u,d||""):s==="warn"?console.warn(u,d||""):s==="info"?console.info(u,d||""):console.debug(u,d||"")}debug(s,n){this.emit("debug",s,n)}info(s,n){this.emit("info",s,n)}warn(s,n){this.emit("warn",s,n)}error(s,n){this.emit("error",s,n)}}const nt=new Hw({level:"info"}),Ie=ut.create({baseURL:Fd,headers:{"Content-Type":"application/json",apikey:zi}});Ie.interceptors.request.use(async a=>{try{a.headers=a.headers||{};const s=a.headers;s.apikey||(s.apikey=zi);const n=(a.url||"").toLowerCase(),i=n.includes("/auth/v1/token")||n.includes("/auth/v1/signup"),l=Mt.getAccessToken();if(l&&!i)try{const d=l.split(".");if(d.length===3){const u=JSON.parse(atob(d[1])),g=Math.floor(Date.now()/1e3);u.exp&&u.exp<g?(nt.warn("token expirado detectado - removendo authorization"),Mt.clear()):s.Authorization=`Bearer ${l}`}else s.Authorization=`Bearer ${l}`}catch{s.Authorization=`Bearer ${l}`}}catch(s){nt.warn("request interceptor error",{error:s?.message})}return a},a=>Promise.reject(a));Ie.interceptors.response.use(a=>a,a=>{try{if(a?.response?.status===401){const i=(a.config||{}).headers||{},l=a?.response?.data?.message||a?.response?.data?.error||"Unauthorized";i.apikey?i.Authorization||nt.warn("401 missing bearer token",{msg:l}):nt.error("401 missing apikey",{msg:l})}}catch{}return Promise.reject(a)});class Vw{tokenKey="authToken";userKey="authUser";refreshTokenKey="refreshToken";async login(s){try{nt.debug("login attempt",{email:s.email}),nt.debug("login endpoint",{url:"/auth/v1/token?grant_type=password"});const n=await Ie.post("/auth/v1/token",s,{params:{grant_type:"password"}});nt.info("login success",{status:n.status});const i=n.data;return Mt.setTokens(i.access_token,i.refresh_token),Mt.setUser(i.user),nt.debug("tokens stored"),{success:!0,data:i}}catch(n){nt.error("login error",{error:n?.message});let i="Erro ao fazer login";if(n instanceof Error&&"response"in n){const d=n.response?.data;d?.error_code==="email_not_confirmed"?i="Email não confirmado. Verifique sua caixa de entrada ou configure o Supabase para não exigir confirmação.":d?.msg?i=d.msg:d?.message&&(i=d.message)}return{success:!1,error:i}}}async getUserInfo(){try{const n=(await Ie.get("/auth/v1/user")).data;let i={user:{id:n.id,email:n.email,email_confirmed_at:n.email_confirmed_at,created_at:n.created_at,last_sign_in_at:n.last_sign_in_at},roles:[],permissions:{}};try{const l=await Ie.get("/functions/v1/user-info");l.data&&(i=l.data)}catch{nt.warn("user-info edge function indisponível, usando dados básicos")}return{success:!0,data:i}}catch(s){return nt.error("erro ao obter user-info",{error:s?.message}),{success:!1,error:s instanceof Error&&"response"in s&&s.response?.data?.message||"Erro ao obter user-info"}}}async logout(){try{const s=await Ie.post("/auth/v1/logout");s.status!==204&&s.status!==200&&console.warn("Status inesperado no logout:",s.status)}catch(s){s?.response?.status===401?nt.info("logout 401 token inválido/expirado (tratado)"):nt.warn("erro logout servidor",{error:s?.message})}finally{this.clearLocalAuth();try{nt.debug("snapshot pós-logout")}catch{}}return{success:!0}}async getCurrentUser(){try{return{success:!0,data:(await Ie.get("/auth/v1/user")).data}}catch(s){return nt.error("erro ao obter usuário atual",{error:s?.message}),{success:!1,error:s instanceof Error&&"response"in s&&s.response?.data?.message||"Erro ao obter dados do usuário"}}}async getCurrentAuthUser(){return this.getCurrentUser()}getStoredToken(){return Mt.getAccessToken()}getStoredUser(){return Mt.getUser()}isAuthenticated(){return!!this.getStoredToken()}clearLocalAuth(){Mt.clear();try{localStorage.removeItem(this.tokenKey)}catch{}try{localStorage.removeItem(this.userKey)}catch{}try{localStorage.removeItem(this.refreshTokenKey)}catch{}}async refreshToken(){try{const s=Mt.getRefreshToken();if(!s)return{success:!1,error:"Refresh token não encontrado"};const n=`${Fd}/auth/v1/token?grant_type=refresh_token`,i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:zi,Authorization:`Bearer ${zi}`},body:JSON.stringify({refresh_token:s})});if(!i.ok){const d=await i.text();return nt.warn("refresh token falhou",{status:i.status,body:d}),this.clearLocalAuth(),{success:!1,error:"Erro ao renovar token"}}const l=await i.json();return Mt.setTokens(l.access_token,l.refresh_token),Mt.setUser(l.user),{success:!0,data:l}}catch(s){return nt.error("erro ao renovar token",{error:s?.message}),this.clearLocalAuth(),{success:!1,error:"Erro ao renovar token"}}}async checkIsDoctor(s){try{nt.debug("verificando se usuário é médico",{userId:s});const i=(await Ie.get("/rest/v1/doctors",{params:{user_id:`eq.${s}`,select:"*"}})).data;return Array.isArray(i)&&i.length>0?(nt.debug("usuario é médico",{doctorId:i[0].id}),{success:!0,data:{isDoctor:!0,doctorId:i[0].id,doctorData:i[0]}}):(nt.debug("usuario não é médico"),{success:!0,data:{isDoctor:!1}})}catch(n){return nt.error("erro ao verificar médico",{error:n?.message}),{success:!1,error:"Erro ao verificar credenciais de médico"}}}}const dr=new Vw,Yi=Object.freeze(Object.defineProperty({__proto__:null,authService:dr,default:dr},Symbol.toStringTag,{value:"Module"})),Ww={MAX_401_BEFORE_FORCED_LOGOUT:3};function Lp(a){if(typeof a=="string")return{message:a};const s=a,n=s?.response?.status,i=s?.response?.data||{},l=i.message||i.msg||i.error_description||i.error||i.hint||s.message||"Erro desconhecido",d=i.hint,u=i.details,g=d?`${l} (${d})`:u?`${l} (${u})`:l;return console.error("[HTTP] Erro capturado:",{status:n,message:g,code:i.code,details:i}),{status:n,message:g,code:i.code,details:i}}function gg(a,s){const n=Lp(a);if(n.status===401)try{const i=Mt.getAccessToken(),l=Ys(i),d=l.valid?{exp:l.payload?.exp,expired:l.expired}:{valid:!1};is+=1,nt.warn("401 response",{...d,count:is}),is>=Jw&&(nt.error("atingido limite de 401 consecutivos - forçando logout"),Mt.clear())}catch{}return{success:!1,error:n.message||s}}async function Yw(a,s){return ll("get",a,void 0,s,"Erro ao buscar dados")}async function Qw(a,s,n){return ll("post",a,s,n,"Erro ao criar")}async function Xw(a,s,n){return ll("patch",a,s,n,"Erro ao atualizar")}async function Kw(a,s){return ll("delete",a,void 0,s,"Erro ao deletar")}let Vn=null,is=0;const{MAX_401_BEFORE_FORCED_LOGOUT:Jw}=Ww;async function Gw(){if(Vn)return Vn;Vn=(async()=>Mt.getRefreshToken()?(await dr.refreshToken()).success:!1)();try{return await Vn}finally{Vn=null}}async function ll(a,s,n,i,l){const d={originalErr:null,attemptedRefresh:!1};for(let u=0;u<2;u++)try{let g;return a==="get"?g=await Ie.get(s,i):a==="post"?g=await Ie.post(s,n,i):a==="patch"?g=await Ie.patch(s,n,i):g=await Ie.delete(s,i),is>0&&(is=0),{success:!0,data:g.data}}catch(g){if(d.originalErr=d.originalErr||g,Lp(g).status===401&&!d.attemptedRefresh){d.attemptedRefresh=!0;try{if(await Gw()){is>0&&(is=0);continue}}catch{}}return gg(g,l)}return gg(d.originalErr,l)}const Re={get:Yw,post:Qw,patch:Xw,delete:Kw};function Wn(a){return{id:a.id,nome:a.full_name||a.nome||"",especialidade:a.specialty||a.especialidade||"",crm:a.crm||"",telefone:a.phone_mobile||a.telefone||"",email:a.email||"",status:a.active?"ativo":"inativo",created_at:a.created_at,updated_at:a.updated_at,crmUf:a.crm_uf,cpf:a.cpf,telefone2:a.phone2,cep:a.cep,rua:a.street,numero:a.number,complemento:a.complement,bairro:a.neighborhood,cidade:a.city,estado:a.state,dataNascimento:a.birth_date,rg:a.rg,active:a.active,createdBy:a.created_by,updatedBy:a.updated_by??null}}class Zw{async listarMedicos(s){try{let n=[];const i=[];let l=null;const d=[Me.DOCTORS];for(const h of d)try{const v={select:"*"};s?.status&&(v.active=s.status==="ativo"?"eq.true":"eq.false"),s?.especialidade&&(v.specialty=`ilike.%${s.especialidade}%`);const p=await Re.get(h,{params:v});if(i.push(h),p.success&&p.data){const x=Array.isArray(p.data)?p.data:[p.data];if(x.length){n=x.map(Wn);break}}else p.error&&(l=p.error)}catch(v){l=v;const p=v;i.push(`${h} (erro${p?.response?.status?` status=${p.response.status}`:""})`)}const u=n.filter(h=>!(s?.status&&h.status!==s.status||s?.especialidade&&!h.especialidade.toLowerCase().includes(s.especialidade.toLowerCase()))),g=u.length;return n.length||(console.warn(`[MedicoService] Nenhum médico retornado. Tentados: ${i.join(" -> ")}`),l&&console.debug("[MedicoService] Último erro:",l)),{success:!0,data:{data:u,total:g,page:1,per_page:g},message:i.length?`Endpoints: ${i.join(" | ")}`:void 0}}catch(n){const i=n;return i?.response?.status===404?(console.warn("Endpoint /rest/v1/doctors não encontrado."),{success:!0,data:{data:[],total:0,page:1,per_page:0}}):i?.response?.status===401?(console.warn("Não autorizado. Verifique o token JWT."),{success:!1,error:"Não autorizado. Verifique o token JWT."}):(console.error("Erro ao listar médicos:",n),{success:!1,error:i?.response?.data?.message||"Erro ao listar médicos"})}}async criarMedico(s){const n={full_name:s.nome,email:s.email,crm:s.crm,crm_uf:s.crmUf,specialty:s.especialidade,phone_mobile:s.telefone,phone2:s.telefone2,cpf:s.cpf,cep:s.cep,street:s.rua,number:s.numero,complement:s.complemento,neighborhood:s.bairro,city:s.cidade,state:s.estado,birth_date:s.dataNascimento,rg:s.rg,active:(s.status||"ativo")==="ativo"};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]==="")&&delete n[i]});try{const i=await Re.post(Me.DOCTORS,n,{headers:{Prefer:"return=representation"}});if(!i.success||!i.data)return{success:!1,error:i.error||"Erro ao criar médico"};const l=i.data,d=Array.isArray(l)?l[0]:l,u=Wn(d);return u.status||(u.status=s.status||"ativo"),{success:!0,data:u}}catch(i){return console.error("Falha ao criar médico na API remota.",i),{success:!1,error:"Erro ao criar médico"}}}async buscarMedicoPorId(s){try{try{const l=await Re.get(`${Me.DOCTORS}/${s}`);if(l.success&&l.data){const d=Array.isArray(l.data)?l.data[0]:l.data;if(d&&d.id)return{success:!0,data:Wn(d)}}}catch{}const n=await Re.get(Me.DOCTORS,{params:{id:`eq.${s}`,select:"*"}});if(!n.success||!n.data)return{success:!1,error:n.error||"Médico não encontrado"};const i=Array.isArray(n.data)?n.data:[n.data];return!Array.isArray(i)||!i.length?{success:!1,error:"Médico não encontrado"}:{success:!0,data:Wn(i[0])}}catch(n){return console.error("Erro ao buscar médico:",n),{success:!1,error:n instanceof Error&&"response"in n&&n.response?.data?.message||"Erro ao buscar médico"}}}async atualizarMedico(s,n){try{const i={};n.nome!==void 0&&(i.full_name=n.nome),n.email!==void 0&&(i.email=n.email),n.crm!==void 0&&(i.crm=n.crm),n.crmUf!==void 0&&(i.crm_uf=n.crmUf),n.cpf!==void 0&&(i.cpf=n.cpf),n.especialidade!==void 0&&(i.specialty=n.especialidade),n.telefone!==void 0&&(i.phone_mobile=n.telefone),n.telefone2!==void 0&&(i.phone2=n.telefone2),n.cep!==void 0&&(i.cep=n.cep),n.rua!==void 0&&(i.street=n.rua),n.numero!==void 0&&(i.number=n.numero),n.complemento!==void 0&&(i.complement=n.complemento),n.bairro!==void 0&&(i.neighborhood=n.bairro),n.cidade!==void 0&&(i.city=n.cidade),n.estado!==void 0&&(i.state=n.estado),n.dataNascimento!==void 0&&(i.birth_date=n.dataNascimento),n.rg!==void 0&&(i.rg=n.rg),n.status!==void 0&&(i.active=n.status==="ativo"),Object.keys(i).forEach(u=>{i[u]===void 0&&delete i[u]});const l=await Re.patch(`${Me.DOCTORS}?id=eq.${s}`,i,{headers:{Prefer:"return=representation"}});let d;return l.success&&l.data&&(d=(Array.isArray(l.data)?l.data:[l.data])[0]),d?{success:!0,data:Wn(d)}:{success:!1,error:"Falha ao atualizar médico"}}catch(i){return console.error("Erro ao atualizar médico:",i),{success:!1,error:i instanceof Error&&"response"in i&&i.response?.data?.message||"Erro ao atualizar médico"}}}async deletarMedico(s){try{let n=!1;try{n=(await Re.delete(`${Me.DOCTORS}/${s}`)).success}catch{}return n||(n=(await Re.delete(Me.DOCTORS,{params:{id:`eq.${s}`}})).success),n?{success:!0}:{success:!1,error:"Falha ao deletar médico"}}catch(n){const i=n;let l="Erro ao deletar médico";const d=i.response?.status;return d===401?l="Não autorizado (token inválido ou expirado)":d===403?l="Acesso negado (sem permissão)":d===404?l="Médico não encontrado":i.response?.data?.message&&(l=i.response.data.message),console.error("Erro ao deletar médico:",n),{success:!1,error:l}}}async loginMedico(s,n){try{const i=await this.listarMedicos();if(!i.success||!i.data)return{success:!1,error:"Erro ao verificar dados do médico"};const l=i.data.data.find(d=>d.email===s);return l?l.status!=="ativo"?{success:!1,error:"Médico inativo"}:{success:!0,data:l}:{success:!1,error:"Email não encontrado"}}catch(i){return console.error("Erro no login do médico:",i),{success:!1,error:"Erro ao fazer login"}}}}const vr=new Zw,Ip=y.createContext(void 0),Pr="appSession",e1=({children:a})=>{const[s,n]=y.useState(null),[i,l]=y.useState(!0);y.useEffect(()=>{console.log("[AuthContext] 🔄 ESTADO MUDOU:",{user:s?{id:s.id,nome:s.nome,role:s.role}:null,loading:i,isAuthenticated:!!s,timestamp:new Date().toISOString()})},[s,i]),y.useEffect(()=>{if(!i&&!s){console.log("[AuthContext] 🔍 User é null mas loading false, verificando localStorage...");const O=localStorage.getItem(Pr);if(O)try{const A=JSON.parse(O);A?.user?.role&&(console.log("[AuthContext] 🔧 RECUPERANDO sessão perdida:",A.user.nome),n(A.user),A.token&&jt(()=>Promise.resolve().then(()=>Oa),void 0).then(j=>{j.default.setTokens(A.token,A.refreshToken)}))}catch(A){console.error("[AuthContext] Erro ao recuperar sessão:",A)}}},[s,i]),y.useEffect(()=>{const O=A=>{A.key===Pr&&console.log("[AuthContext] 📢 localStorage MUDOU externamente!",{oldValue:A.oldValue?"TINHA DADOS":"VAZIO",newValue:A.newValue?"TEM DADOS":"VAZIO",url:A.url})};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),y.useEffect(()=>{console.log("[AuthContext] 🚀 INICIANDO RESTAURAÇÃO DE SESSÃO (mount)"),console.log("[AuthContext] 🔍 Verificando TODOS os itens no localStorage:");for(let A=0;A<localStorage.length;A++){const j=localStorage.key(A);if(j){const P=localStorage.getItem(j);console.log(`  - ${j}: ${P?.substring(0,50)}...`)}}(async()=>{try{let A=localStorage.getItem(Pr);if(console.log("[AuthContext] localStorage raw:",A?"EXISTE":"VAZIO"),A||(console.log("[AuthContext] 🔍 localStorage vazio, tentando sessionStorage..."),A=sessionStorage.getItem(Pr),console.log("[AuthContext] sessionStorage raw:",A?"EXISTE":"VAZIO"),A&&(console.log("[AuthContext] 🔄 Restaurando do sessionStorage para localStorage"),localStorage.setItem(Pr,A))),A&&console.log("[AuthContext] Conteúdo completo:",A.substring(0,100)+"..."),A){const j=JSON.parse(A);j?.user?.role?(console.log("[AuthContext] ✅ Restaurando sessão:",{nome:j.user.nome,role:j.user.role,hasToken:!!j.token}),j.token?(console.log("[AuthContext] Restaurando tokens no tokenStore"),(await jt(async()=>{const{default:X}=await Promise.resolve().then(()=>Oa);return{default:X}},void 0)).default.setTokens(j.token,j.refreshToken)):(console.warn("[AuthContext] Sessão encontrada mas sem token. Verificando tokenStore..."),(await jt(async()=>{const{default:ae}=await Promise.resolve().then(()=>Oa);return{default:ae}},void 0)).default.getAccessToken()?console.log("[AuthContext] Token encontrado no tokenStore, mantendo sessão"):console.warn("[AuthContext] ⚠️ Nenhum token encontrado. Sessão pode estar inválida.")),console.log("[AuthContext] 📝 Chamando setUser com:",j.user.nome),n(j.user)):console.log("[AuthContext] ⚠️ Sessão parseada mas sem user.role válido")}else console.log("[AuthContext] ℹ️ Nenhuma sessão salva encontrada no localStorage")}catch(A){console.error("[AuthContext] ❌ Erro ao restaurar sessão:",A)}finally{console.log("[AuthContext] 🏁 Finalizando restauração, setLoading(false)"),l(!1)}})()},[]);const d=y.useCallback(O=>{try{console.log("[AuthContext] 💾 SALVANDO sessão no localStorage E sessionStorage:",{user:O.user.nome,role:O.user.role,hasToken:!!O.token});const A=JSON.stringify(O);localStorage.setItem(Pr,A),sessionStorage.setItem(Pr,A),console.log("[AuthContext] ✅ Sessão salva com sucesso em ambos storages!")}catch(A){console.error("[AuthContext] ❌ ERRO ao salvar sessão:",A)}},[]),u=y.useCallback(()=>{try{console.log("[AuthContext] 🗑️ REMOVENDO sessão do localStorage E sessionStorage"),localStorage.removeItem(Pr),sessionStorage.removeItem(Pr),console.log("[AuthContext] ✅ Sessão removida com sucesso de ambos storages!")}catch(O){console.error("[AuthContext] ❌ ERRO ao remover sessão:",O)}},[]),g=O=>O&&{medico:"medico",doctor:"medico",secretaria:"secretaria",assistant:"secretaria",paciente:"paciente",patient:"paciente",user:"paciente",admin:"admin",gestor:"gestor",manager:"gestor"}[O.toLowerCase()]||void 0,h=O=>{const A=["admin","gestor","medico","secretaria","paciente"];for(const j of A)if(O.includes(j))return j;return O[0]||"paciente"},v=Ue.useCallback(O=>{console.log("[buildSessionUser] info recebido:",JSON.stringify(O,null,2));const A=(O.roles||[]).map(g).filter(Boolean);console.log("[buildSessionUser] roles normalizadas:",A);const j=O.permissions||{},P=h(A.length?A:[g((O.roles||[])[0])||"paciente"]);console.log("[buildSessionUser] primaryRole escolhida:",P);const X={id:O.user?.id||"",nome:O.profile?.full_name||O.user?.email?.split("@")[0]||"Usuário",email:O.user?.email,role:P,roles:A,permissions:j};return console.log("[buildSessionUser] SessionUser final:",X),P==="medico"?{...X,role:"medico"}:P==="secretaria"?{...X,role:"secretaria"}:P==="admin"?{...X,role:"admin"}:P==="gestor"?{...X,role:"gestor"}:{...X,role:"paciente"}},[]),p=y.useCallback(async(O,A)=>{if(O==="secretaria@clinica.com"&&A==="secretaria123"){const j={id:"sec-1",nome:"Secretária",email:O,role:"secretaria",roles:["secretaria"],permissions:{}};return n(j),d({user:j,savedAt:new Date().toISOString()}),M.success("Login realizado"),!0}return M.error("Credenciais inválidas"),!1},[d]),x=y.useCallback(async(O,A)=>{const j=await vr.loginMedico(O,A);if(!j.success||!j.data)return M.error(j.error||"Erro ao autenticar médico"),!1;const P=j.data,X={id:P.id,nome:P.nome,email:P.email,role:"medico",crm:P.crm,especialidade:P.especialidade,roles:["medico"],permissions:{}};return n(X),d({user:X,savedAt:new Date().toISOString()}),M.success(`Bem-vindo(a) Dr(a). ${P.nome}`),!0},[d]),w=y.useCallback(async(O,A)=>{console.log("[AuthContext] Iniciando login para:",O);const j=await dr.login({email:O,password:A});if(console.log("[AuthContext] Resposta login:",j),!j.success||!j.data)return console.error("[AuthContext] Login falhou:",j.error),M.error(j.error||"Falha no login"),!1;console.log("[AuthContext] Token recebido, buscando user-info...");const P=await dr.getUserInfo();if(console.log("[AuthContext] Resposta user-info:",P),!P.success||!P.data)return console.error("[AuthContext] Falha ao obter user-info:",P.error),M.error(P.error||"Falha ao obter user-info"),!1;const X=v(P.data);return console.log("[AuthContext] Usuário da sessão criado:",X),n(X),d({user:X,savedAt:new Date().toISOString(),token:j.data.access_token,refreshToken:j.data.refresh_token}),console.log("[AuthContext] Login completo!"),M.success("Login realizado"),!0},[d,v]),D=y.useCallback(async O=>{console.log("[AuthContext] loginPaciente chamado com:",O);const A={id:O.id,nome:O.nome,email:O.email,role:"paciente",pacienteId:O.id,roles:["paciente"],permissions:{}};console.log("[AuthContext] Usuário criado:",A),n(A),d({user:A,savedAt:new Date().toISOString()});try{const j={_id:O.id,nome:O.nome,email:O.email??"",cpf:"",telefone:""};localStorage.setItem("pacienteLogado",JSON.stringify(j))}catch{}return console.log("[AuthContext] Usuário persistido no localStorage"),M.success(`Bem-vindo(a), ${O.nome}`),!0},[d]),S=y.useCallback(async()=>{console.log("[AuthContext] Iniciando logout...");try{const O=await dr.logout();!O.success&&O.error?(console.warn("[AuthContext] Falha no logout remoto:",O.error),M.error(`Falha no logout remoto: ${O.error}`)):console.log("[AuthContext] Logout remoto bem-sucedido")}catch(O){console.warn("[AuthContext] Erro inesperado ao executar logout remoto",O)}finally{console.log("[AuthContext] Limpando estado local..."),n(null),u(),dr.clearLocalAuth();try{localStorage.removeItem("pacienteLogado")}catch{}console.log("[AuthContext] Logout completo - usuário removido do estado")}},[u]),_=y.useCallback(async()=>{try{const O=localStorage.getItem(Pr);if(!O)return;const A=JSON.parse(O);if(!A?.user?.role)return;n(A.user)}catch{}},[]),k=y.useMemo(()=>({user:s,role:s?.role??null,roles:s?.roles||(s?.role?[s.role]:[]),permissions:s?.permissions||{},isAuthenticated:!!s,loading:i,loginSecretaria:p,loginMedico:x,loginComEmailSenha:w,loginPaciente:D,logout:S,refreshSession:_}),[s,i,p,x,w,D,S,_]);return t.jsx(Ip.Provider,{value:k,children:a})};function tr(){const a=y.useContext(Ip);if(!a)throw new Error("useAuth deve ser usado dentro de AuthProvider");return a}const t1={common:{skipToContent:"Pular para o conteúdo",loading:"Carregando...",error:"Erro",retry:"Tentar novamente",cancel:"Cancelar",confirm:"Confirmar",close:"Fechar",save:"Salvar",edit:"Editar",delete:"Excluir",search:"Pesquisar",filter:"Filtrar",viewAll:"Ver todas",noData:"Nenhum dado disponível"},header:{logo:"MediConnect",subtitle:"Sistema de Agendamento",home:"Início",login:"Entrar",logout:"Sair",notAuthenticated:"Não autenticado",profile:"Perfil",selectProfile:"Selecione seu perfil"},profiles:{patient:"Paciente",doctor:"Médico",secretary:"Secretária",patientDescription:"Agendar e acompanhar consultas",doctorDescription:"Gerenciar consultas e pacientes",secretaryDescription:"Cadastros e agendamentos"},home:{hero:{title:"Sistema de Agendamento Médico",subtitle:"Conectando pacientes e profissionais de saúde com eficiência e segurança",ctaPrimary:"Agendar consulta",ctaSecondary:"Ver próximas consultas"},metrics:{totalPatients:"Total de Pacientes",totalPatientsDescription:"Número total de pacientes cadastrados no sistema",activeDoctors:"Médicos Ativos",activeDoctorsDescription:"Profissionais disponíveis para atendimento",todayAppointments:"Consultas Hoje",todayAppointmentsDescription:"Consultas agendadas para hoje",pendingAppointments:"Pendentes",pendingAppointmentsDescription:"Consultas agendadas ou confirmadas aguardando realização"},emptyStates:{noPatients:"Nenhum paciente cadastrado",noDoctors:"Nenhum médico cadastrado",noAppointments:"Nenhuma consulta agendada",registerPatient:"Cadastrar paciente",inviteDoctor:"Convidar médico",scheduleAppointment:"Agendar consulta"},actionCards:{scheduleAppointment:{title:"Agendar Consulta",description:"Agende consultas médicas de forma rápida e prática",cta:"Acessar Agendamento",ctaAriaLabel:"Ir para página de agendamento de consultas"},doctorPanel:{title:"Painel do Médico",description:"Gerencie consultas, horários e prontuários",cta:"Acessar Painel",ctaAriaLabel:"Ir para painel do médico"},patientManagement:{title:"Gestão de Pacientes",description:"Cadastre e gerencie informações de pacientes",cta:"Acessar Cadastro",ctaAriaLabel:"Ir para área de cadastro de pacientes"}},upcomingConsultations:{title:"Próximas Consultas",empty:"Nenhuma consulta agendada",viewAll:"Ver todas as consultas",date:"Data",time:"Horário",patient:"Paciente",doctor:"Médico",status:"Status",statusScheduled:"Agendada",statusConfirmed:"Confirmada",statusCompleted:"Realizada",statusCanceled:"Cancelada",statusMissed:"Faltou"},errorLoadingStats:"Erro ao carregar estatísticas"},accessibility:{reducedMotion:"Preferência por movimento reduzido detectada",highContrast:"Alto contraste",largeText:"Texto aumentado",darkMode:"Modo escuro"}},r1={common:{skipToContent:"Skip to content",loading:"Loading...",error:"Error",retry:"Try again",cancel:"Cancel",confirm:"Confirm",close:"Close",save:"Save",edit:"Edit",delete:"Delete",search:"Search",filter:"Filter",viewAll:"View all",noData:"No data available"},header:{logo:"MediConnect",subtitle:"Appointment System",home:"Home",login:"Login",logout:"Logout",notAuthenticated:"Not authenticated",profile:"Profile",selectProfile:"Select your profile"},profiles:{patient:"Patient",doctor:"Doctor",secretary:"Secretary",patientDescription:"Schedule and track appointments",doctorDescription:"Manage appointments and patients",secretaryDescription:"Registration and scheduling"},home:{hero:{title:"Medical Appointment System",subtitle:"Connecting patients and healthcare professionals efficiently and securely",ctaPrimary:"Schedule appointment",ctaSecondary:"View upcoming appointments"},metrics:{totalPatients:"Total Patients",totalPatientsDescription:"Total number of patients registered in the system",activeDoctors:"Active Doctors",activeDoctorsDescription:"Professionals available for care",todayAppointments:"Today's Appointments",todayAppointmentsDescription:"Appointments scheduled for today",pendingAppointments:"Pending",pendingAppointmentsDescription:"Scheduled or confirmed appointments awaiting completion"},emptyStates:{noPatients:"No patients registered",noDoctors:"No doctors registered",noAppointments:"No appointments scheduled",registerPatient:"Register patient",inviteDoctor:"Invite doctor",scheduleAppointment:"Schedule appointment"},actionCards:{scheduleAppointment:{title:"Schedule Appointment",description:"Book medical appointments quickly and easily",cta:"Go to Scheduling",ctaAriaLabel:"Go to appointment scheduling page"},doctorPanel:{title:"Doctor Panel",description:"Manage appointments, schedules and records",cta:"Access Panel",ctaAriaLabel:"Go to doctor panel"},patientManagement:{title:"Patient Management",description:"Register and manage patient information",cta:"Access Registration",ctaAriaLabel:"Go to patient registration area"}},upcomingConsultations:{title:"Upcoming Appointments",empty:"No appointments scheduled",viewAll:"View all appointments",date:"Date",time:"Time",patient:"Patient",doctor:"Doctor",status:"Status",statusScheduled:"Scheduled",statusConfirmed:"Confirmed",statusCompleted:"Completed",statusCanceled:"Canceled",statusMissed:"Missed"},errorLoadingStats:"Error loading statistics"},accessibility:{reducedMotion:"Reduced motion preference detected",highContrast:"High contrast",largeText:"Large text",darkMode:"Dark mode"}},ud={"pt-BR":t1,"en-US":r1};class a1{currentLocale="pt-BR";constructor(){navigator.language.startsWith("en")&&(this.currentLocale="en-US");const n=localStorage.getItem("mediconnect_locale");n&&ud[n]&&(this.currentLocale=n)}t(s){const n=s.split(".");let i=ud[this.currentLocale];for(const l of n)if(typeof i=="object"&&i&&l in i)i=i[l];else return console.warn(`Translation key not found: ${s}`),s;return typeof i=="string"?i:s}setLocale(s){ud[s]&&(this.currentLocale=s,localStorage.setItem("mediconnect_locale",s),document.documentElement.lang=s)}getLocale(){return this.currentLocale}formatDate(s){const n=typeof s=="string"?new Date(s):s;return new Intl.DateTimeFormat(this.currentLocale,{day:"2-digit",month:"2-digit",year:"numeric"}).format(n)}formatTime(s){const n=typeof s=="string"?new Date(s):s;return new Intl.DateTimeFormat(this.currentLocale,{hour:"2-digit",minute:"2-digit"}).format(n)}formatDateTime(s){const n=typeof s=="string"?new Date(s):s;return new Intl.DateTimeFormat(this.currentLocale,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(n)}}const Pe=new a1;class s1{enabled;constructor(){this.enabled=!0,this.initDataLayer()}initDataLayer(){typeof window<"u"&&!window.dataLayer&&(window.dataLayer=[])}trackEvent(s,n,i,l){if(!this.enabled)return;const d={event:"custom_event",category:s,action:n,label:i,value:l,timestamp:new Date().toISOString()};typeof window<"u"&&window.dataLayer&&window.dataLayer.push(d)}trackCTA(s,n){this.trackEvent("CTA","click",`${s} -> ${n}`)}trackProfileChange(s,n){this.trackEvent("Profile","change",`${s||"none"} -> ${n}`)}trackNavigation(s,n){this.trackEvent("Navigation","page_view",`${s} -> ${n}`)}trackError(s,n){this.trackEvent("Error",s,n)}disable(){this.enabled=!1}enable(){this.enabled=!0}}const Ad=new s1,pg=[{type:"patient",icon:Bs,label:Pe.t("profiles.patient"),description:Pe.t("profiles.patientDescription"),path:"/paciente",color:"text-blue-600",bgColor:"bg-blue-50 hover:bg-blue-100"},{type:"doctor",icon:Da,label:Pe.t("profiles.doctor"),description:Pe.t("profiles.doctorDescription"),path:"/login-medico",color:"text-indigo-600",bgColor:"bg-indigo-50 hover:bg-indigo-100"},{type:"secretary",icon:lp,label:Pe.t("profiles.secretary"),description:Pe.t("profiles.secretaryDescription"),path:"/login-secretaria",color:"text-green-600",bgColor:"bg-green-50 hover:bg-green-100"}],hg=()=>{const[a,s]=y.useState(null),[n,i]=y.useState(!1),l=Nt(),d=y.useRef(null),{isAuthenticated:u,user:g}=tr();y.useEffect(()=>{const x=localStorage.getItem("mediconnect_selected_profile");x&&s(x)},[]),y.useEffect(()=>{const x=w=>{d.current&&!d.current.contains(w.target)&&i(!1)};return n&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[n]);const h=x=>{const w=a;s(x.type),i(!1),x.type&&localStorage.setItem("mediconnect_selected_profile",x.type),Ad.trackProfileChange(w,x.type||"none");let D=x.path;if(u&&g){switch(g.role){case"paciente":x.type==="patient"&&(D="/acompanhamento");break;case"medico":x.type==="doctor"&&(D="/painel-medico");break;case"secretaria":x.type==="secretary"&&(D="/painel-secretaria");break;case"admin":x.type==="secretary"?D="/painel-secretaria":x.type==="doctor"?D="/painel-medico":x.type==="patient"&&(D="/acompanhamento");break}console.log(`🔀 ProfileSelector: Usuário autenticado (${g.role}), redirecionando para ${D}`)}else console.log(`🔀 ProfileSelector: Usuário NÃO autenticado, redirecionando para ${D}`);l(D)},p=pg.find(x=>x.type===a);return t.jsxs("div",{className:"relative",ref:d,children:[t.jsxs("button",{onClick:()=>i(!n),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p?`${p.bgColor} ${p.color}`:"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"aria-expanded":n,"aria-haspopup":"true","aria-label":Pe.t("header.selectProfile"),children:[p?t.jsxs(t.Fragment,{children:[t.jsx(p.icon,{className:"w-4 h-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden md:inline",children:p.label})]}):t.jsxs(t.Fragment,{children:[t.jsx(Bs,{className:"w-4 h-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden md:inline",children:Pe.t("header.profile")})]}),t.jsx(Vd,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,"aria-hidden":"true"})]}),n&&t.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-50 animate-in fade-in slide-in-from-top-2 duration-200",role:"menu","aria-orientation":"vertical",children:t.jsxs("div",{className:"p-2",children:[t.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:Pe.t("header.selectProfile")}),pg.map(x=>t.jsxs("button",{onClick:()=>h(x),className:`w-full flex items-start gap-3 px-3 py-3 rounded-lg transition-colors text-left focus:outline-none focus:ring-2 focus:ring-blue-500 ${x.type===a?`${x.bgColor} ${x.color}`:"hover:bg-gray-50 text-gray-700"}`,role:"menuitem","aria-label":`Selecionar perfil ${x.label}`,children:[t.jsx("div",{className:`p-2 rounded-lg ${x.type===a?"bg-white":x.bgColor}`,children:t.jsx(x.icon,{className:`w-5 h-5 ${x.color}`,"aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-sm",children:x.label}),t.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:x.description})]}),x.type===a&&t.jsx("div",{className:"flex-shrink-0 pt-1",children:t.jsx("svg",{className:`w-5 h-5 ${x.color}`,fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},x.type))]})})]})},n1="/mediconnect/assets/logo-Cml-GZFh.PNG",o1=()=>{const{user:a,logout:s,role:n,isAuthenticated:i}=tr(),l={secretaria:"Secretaria",medico:"Médico",paciente:"Paciente",admin:"Administrador",gestor:"Gestor"};return t.jsxs("header",{className:"bg-white shadow-lg border-b border-gray-200",children:[t.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:outline-none",children:Pe.t("common.skipToContent")}),t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsxs(Fs,{to:"/",className:"flex items-center space-x-3 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg",children:[t.jsx("img",{src:n1,alt:Pe.t("header.logo"),className:"h-14 w-14 rounded-lg object-contain shadow-sm"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:Pe.t("header.logo")}),t.jsx("p",{className:"text-xs text-gray-500",children:Pe.t("header.subtitle")})]})]}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-2","aria-label":"Navegação principal",children:[t.jsxs(Fs,{to:"/",className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[t.jsx(Qf,{className:"w-4 h-4","aria-hidden":"true"}),t.jsx("span",{children:Pe.t("header.home")})]}),t.jsx(hg,{}),i&&(n==="admin"||n==="gestor")&&t.jsx(Fs,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:text-purple-600 hover:bg-purple-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:t.jsx("span",{children:"Painel Admin"})})]}),t.jsx("div",{className:"hidden md:flex items-center space-x-3",children:i&&a?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-right leading-tight min-w-0 flex-shrink",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 truncate max-w-[120px]",title:a.nome,children:a.nome.split(" ").slice(0,2).join(" ")}),t.jsx("p",{className:"text-xs text-gray-500 whitespace-nowrap",children:n?l[n]||n:""})]}),t.jsxs("button",{onClick:s,className:"inline-flex items-center px-3 py-2 text-sm font-medium rounded-md bg-gray-100 hover:bg-gray-200 hover:scale-105 active:scale-95 text-gray-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex-shrink-0","aria-label":Pe.t("header.logout"),children:[t.jsx(Zn,{className:"w-4 h-4 mr-1","aria-hidden":"true"}),t.jsx("span",{className:"hidden lg:inline",children:Pe.t("header.logout")}),t.jsx("span",{className:"lg:hidden",children:"Sair"})]})]}):t.jsxs(Fs,{to:"/paciente",className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md bg-gradient-to-r from-blue-700 to-blue-400 hover:from-blue-800 hover:to-blue-500 hover:scale-105 active:scale-95 text-white transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm hover:shadow-md","aria-label":Pe.t("header.login"),children:[t.jsx(Xf,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),Pe.t("header.login")]})}),t.jsx("div",{className:"md:hidden",children:t.jsx("button",{className:"text-gray-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded p-2","aria-label":"Menu de navegação",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),t.jsx("div",{className:"md:hidden border-t border-gray-200 py-3",children:t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsxs(Fs,{to:"/",className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx(Qf,{className:"w-4 h-4","aria-hidden":"true"}),t.jsx("span",{children:Pe.t("header.home")})]}),t.jsx("div",{className:"px-3 py-2",children:t.jsx(hg,{})}),t.jsx("div",{className:"mt-4 flex items-center justify-between bg-gray-50 px-3 py-2 rounded-md",children:i&&a?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex-1 mr-3 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",title:a.nome,children:a.nome.split(" ").slice(0,2).join(" ")}),t.jsx("p",{className:"text-xs text-gray-500",children:n?l[n]||n:""})]}),t.jsxs("button",{onClick:s,className:"inline-flex items-center px-3 py-2 text-xs font-medium rounded bg-gray-200 text-gray-700 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 flex-shrink-0","aria-label":Pe.t("header.logout"),children:[t.jsx(Zn,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:"Sair"})]})]}):t.jsxs(Fs,{to:"/paciente",className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded bg-gradient-to-r from-blue-700 to-blue-400 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx(Xf,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),Pe.t("header.login")]})})]})})]})]})},$p="accessibility-prefs",$i={fontSize:100,highContrast:!1,darkMode:!1,textToSpeech:!1,dyslexicFont:!1,lineSpacing:!1,reducedMotion:!1,lowBlueLight:!1,focusMode:!1};function i1(){try{const a=localStorage.getItem($p);if(!a)return $i;const s=JSON.parse(a);return{...$i,...s}}catch{return $i}}function l1(){const[a,s]=y.useState(()=>i1()),n=y.useRef(!1);y.useEffect(()=>{n.current||(n.current=!0);try{localStorage.setItem($p,JSON.stringify(a))}catch{}},[a]),y.useEffect(()=>{const d=document.documentElement;d.style.fontSize=`${a.fontSize}%`;const u=(g,h)=>{g?d.classList.add(h):d.classList.remove(h)};u(a.highContrast,"high-contrast"),u(a.darkMode,"dark"),u(a.dyslexicFont,"dyslexic-font"),u(a.lineSpacing,"line-spacing"),u(a.reducedMotion,"reduced-motion"),u(a.lowBlueLight,"low-blue-light"),u(a.focusMode,"focus-mode")},[a]);const i=y.useCallback(d=>{s(u=>({...u,...d}))},[]),l=y.useCallback(()=>s($i),[]);return{prefs:a,update:i,reset:l}}const xg="a11y-menu-title",yg="a11y-menu-desc",c1=()=>{typeof window<"u"&&console.log("[AccessibilityMenu] render");const[a,s]=y.useState(!1),{prefs:n,update:i,reset:l}=l1(),[d,u]=y.useState(!1),g=y.useRef(null),h=y.useRef(null),v=y.useRef(null);y.useEffect(()=>{u(n.textToSpeech)},[n.textToSpeech]),y.useEffect(()=>{if(typeof window>"u"||typeof window.speechSynthesis>"u"||import.meta.vitest||!d)return;const k=O=>{const A=O.target;if(!A)return;const j=A.innerText?.trim();if(j&&j.length<=180&&window.speechSynthesis){window.speechSynthesis.cancel();const P=new SpeechSynthesisUtterance(j);P.lang="pt-BR",P.rate=.95,window.speechSynthesis.speak(P)}};return document.addEventListener("mouseover",k),()=>document.removeEventListener("mouseover",k)},[d]),y.useEffect(()=>{const k=O=>{O.altKey&&(O.key==="a"||O.key==="A")&&(O.preventDefault(),s(A=>!A)),O.key==="Escape"&&a&&s(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[a]),y.useEffect(()=>{a?(g.current=document.querySelector('button[aria-label="Menu de Acessibilidade"]'),setTimeout(()=>h.current?.focus(),10)):g.current?.focus?.()},[a]);const p=y.useCallback(k=>{if(a&&k.key==="Tab"&&v.current){const O=v.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),A=Array.from(O).filter(ae=>!ae.hasAttribute("disabled"));if(!A.length)return;const j=A[0],P=A[A.length-1],X=document.activeElement;k.shiftKey?X===j&&(k.preventDefault(),P.focus()):X===P&&(k.preventDefault(),j.focus())}},[a]),x=()=>i({fontSize:Math.min(160,n.fontSize+10)}),w=()=>i({fontSize:Math.max(80,n.fontSize-10)}),D=k=>i({[k]:!n[k]}),S=()=>{window.speechSynthesis&&window.speechSynthesis.cancel(),l()},_=k=>t.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600 dark:text-blue-300",children:k});return t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>s(k=>!k),className:"fixed bottom-6 right-6 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 hover:scale-110 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500","aria-label":"Menu de Acessibilidade",title:"Abrir menu de acessibilidade","data-testid":"a11y-menu-trigger",children:t.jsx(Yf,{className:"w-6 h-6"})}),a&&t.jsxs("div",{ref:v,role:"dialog","aria-modal":"true","aria-labelledby":xg,"aria-describedby":yg,className:"fixed bottom-24 right-6 z-50 bg-white dark:bg-slate-800 rounded-lg shadow-2xl w-80 border-2 border-blue-600 transition-all duration-300 animate-slideIn focus:outline-none max-h-[calc(100vh-7rem)]",onKeyDown:p,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Yf,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{id:xg,className:"font-bold text-lg text-gray-900 dark:text-white",children:"Acessibilidade"})]}),t.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500","aria-label":"Fechar menu",children:t.jsx(Gr,{className:"w-5 h-5"})})]}),t.jsx("p",{id:yg,className:"sr-only",children:"Ajustes visuais e funcionais para leitura, contraste e foco."}),t.jsxs("div",{className:"space-y-5 overflow-y-auto p-6 pt-4",style:{maxHeight:"calc(100vh - 15rem)",scrollbarWidth:"thin",scrollbarColor:"#3b82f6 #e5e7eb"},children:[t.jsxs("div",{ref:h,tabIndex:-1,children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tamanho da Fonte: ",n.fontSize,"%"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:w,className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",disabled:n.fontSize<=80,"aria-label":"Diminuir fonte",children:t.jsx(Mv,{className:"w-4 h-4"})}),t.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all",style:{width:`${(n.fontSize-80)/80*100}%`}})}),t.jsx("button",{onClick:x,className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",disabled:n.fontSize>=160,"aria-label":"Aumentar fonte",children:t.jsx(cr,{className:"w-4 h-4"})})]})]}),_("Temas"),t.jsx(Ea,{label:"Modo Escuro",active:n.darkMode,onClick:()=>D("darkMode"),icon:n.darkMode?t.jsx(Rv,{className:"w-4 h-4 text-blue-400"}):t.jsx(Xv,{className:"w-4 h-4 text-yellow-500"}),description:n.darkMode?"Tema escuro ativo":"Tema claro ativo"}),t.jsx(Ea,{label:"Alto Contraste",active:n.highContrast,onClick:()=>D("highContrast"),description:n.highContrast?"Contraste máximo":"Contraste padrão"}),t.jsx(Ea,{label:"Filtro Amarelo (Luz Azul)",active:n.lowBlueLight,onClick:()=>D("lowBlueLight"),description:"Reduz luz azul para conforto visual"}),_("Leitura & Foco"),t.jsx(Ea,{label:"Fonte Disléxica",active:n.dyslexicFont,onClick:()=>D("dyslexicFont"),description:"Fonte alternativa para facilitar leitura"}),t.jsx(Ea,{label:"Espaçamento de Linha",active:n.lineSpacing,onClick:()=>D("lineSpacing"),description:"Aumenta o espaçamento entre linhas"}),t.jsx(Ea,{label:"Modo Foco",active:n.focusMode,onClick:()=>D("focusMode"),description:"Atenua elementos não focados"}),t.jsx(Ea,{label:"Reduzir Movimento",active:n.reducedMotion,onClick:()=>D("reducedMotion"),description:"Remove animações não essenciais"}),t.jsx(Ea,{label:"Leitura de Texto",active:n.textToSpeech,onClick:()=>D("textToSpeech"),icon:t.jsx(cb,{className:"w-4 h-4"}),description:"Ler conteúdo ao passar mouse (beta)"}),t.jsx("button",{onClick:S,className:"w-full mt-2 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Resetar Configurações"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center pt-2",children:"Atalho: Alt + A | ESC fecha"})]})]})]})},Ea=({label:a,active:s,onClick:n,description:i,icon:l})=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[l,a]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:n,className:"a11y-toggle-button relative inline-flex h-7 w-14 items-center rounded-full focus:outline-none a11y-toggle-track "+(s?" ring-offset-0":" opacity-90 hover:opacity-100"),"data-active":s,"aria-pressed":s,"aria-label":a,type:"button",children:t.jsx("span",{className:"a11y-toggle-thumb inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform "+(s?"translate-x-8":"translate-x-1")})}),t.jsx("span",{className:"a11y-toggle-status-label select-none text-xs font-medium text-gray-600 dark:text-gray-400 min-w-[2rem] text-center",children:s?"ON":"OFF"})]})]}),i&&t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i})]}),Pi=({roles:a,redirectTo:s="/"})=>{const{isAuthenticated:n,role:i,loading:l,user:d}=tr(),u=Ks();console.log("[ProtectedRoute] VERIFICAÇÃO COMPLETA",{path:u.pathname,isAuthenticated:n,role:i,loading:l,requiredRoles:a,user:d?{id:d.id,nome:d.nome,email:d.email}:null,timestamp:new Date().toISOString()});try{const g=localStorage.getItem("appSession");console.log("[ProtectedRoute] localStorage appSession:",g?JSON.parse(g):null)}catch(g){console.error("[ProtectedRoute] Erro ao ler localStorage:",g)}if(l)return console.log("[ProtectedRoute] ⏳ Ainda carregando sessão..."),t.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"Verificando sessão..."});if(!n)return console.log("[ProtectedRoute] ❌ NÃO AUTENTICADO! User:",d,"Redirecionando para:",s),t.jsx(hd,{to:s,state:{from:u},replace:!0});if(console.log("[ProtectedRoute] ✅ Autenticado! Verificando roles..."),i==="admin")return console.log("[ProtectedRoute] Admin detectado, permitindo acesso"),t.jsx(Uf,{});if(a&&a.length>0){const g=i==="user"?"paciente":i,h=a.map(v=>v==="user"?"paciente":v);if(!g||!h.includes(g))return console.log("[ProtectedRoute] Role não permitida, redirecionando para:",s),t.jsx(hd,{to:s,replace:!0})}return console.log("[ProtectedRoute] Acesso permitido"),t.jsx(Uf,{})},d1=new Set(["true","1","yes","sim","vip","ativo"]),ss=a=>{if(typeof a=="boolean")return a;if(typeof a=="number")return a===1;if(typeof a=="string"){const s=a.trim().toLowerCase();return d1.has(s)}return!1},u1=a=>{if(ss(a.vip)||ss(a.is_vip)||ss(a.vip_status)||ss(a.categoria)||ss(a.category))return!0;const s=a.tags;return Array.isArray(s)?s.some(n=>typeof n=="string"?ss(n):n&&typeof n=="object"&&"name"in n?ss(n.name):!1):!1};function cl(a){return{id:a.id||"",nome:a.full_name||a.nome||"",socialName:a.social_name??void 0,email:a.email,telefone:a.phone_mobile||a.phone,dataNascimento:a.birth_date||a.data_nascimento,sexo:a.sex??void 0,tipoSanguineo:a.blood_type??void 0,pesoKg:a.weight_kg??a.peso??void 0,alturaM:a.height_m??a.altura??void 0,imc:a.bmi??void 0,endereco:{rua:a.street??void 0,numero:a.number??void 0,complemento:a.complement??void 0,bairro:a.neighborhood??void 0,cidade:a.city??void 0,estado:a.state??void 0,cep:a.cep??void 0},cpf:a.cpf,created_at:a.created_at,updated_at:a.updated_at,created_by:a.created_by,convenio:a.convenio,numeroCarteirinha:a.numeroCarteirinha||a.numero_carteirinha,observacoes:a.observacoes||null,vip:u1(a),avatar_url:a.avatar_url}}async function Fa(a){const s=a?.page??1;try{const n=[];let i=[];if(a?.userId)try{const{listAssignments:u}=await jt(async()=>{const{listAssignments:h}=await import("./patientAssignmentService-D9cRc9o4.js");return{listAssignments:h}},[]),g=await u({userId:a.userId,role:"medico"});if(g.success&&g.data){const h=g.data.map(v=>v.patientId).filter(v=>!!v);if(console.log(`[PacienteService] Encontradas ${h.length} atribuições para médico ${a.userId}`),h.length>0){const v=h.map(async x=>{try{const w=await Re.get(`${Me.PATIENTS}?id=eq.${x}`,{params:{select:"*"}});if(w.success&&w.data){const D=w.data;return(Array.isArray(D)?D:D.data||[])[0]}}catch(w){console.error(`Erro ao buscar paciente ${x}:`,w)}return null});i=(await Promise.all(v)).filter(x=>x!==null),console.log(`[PacienteService] ${i.length} pacientes carregados com sucesso`)}else return console.warn(`[PacienteService] Médico ${a.userId} não tem pacientes atribuídos`),{data:[],total:0,page:1,per_page:0}}}catch(u){console.error("Erro ao buscar pacientes por atribuição:",u)}if(i.length===0){const u=[Me.PATIENTS];for(const g of u)try{const h=await Re.get(g,{params:{select:"*"}});if(n.push(g),h.success&&h.data){const v=h.data;if(i=Array.isArray(v)?v:v.data||[],i.length)break}}catch(h){const v=h;n.push(`${g} (erro${v?.response?.status?` status=${v.response.status}`:""})`)}}let l=i.map(cl);if(a?.search){const u=a.search.toLowerCase();l=l.filter(g=>g.nome.toLowerCase().includes(u)||g.cpf?.includes(u)||g.email?.toLowerCase().includes(u))}const d=l.length;return!d&&!a?.userId&&console.warn(`[PacienteService] Nenhum paciente retornado. Tentados: ${n.join(" -> ")}`),{data:l,total:d,page:s,per_page:d}}catch(n){return console.error("Falha ao obter pacientes remotamente.",n),{data:[],total:0,page:1,per_page:0}}}async function dl(a){if(!a)return{success:!1,error:"ID é obrigatório"};try{let s;try{const n=await Re.get(`${Me.PATIENTS}/${encodeURIComponent(a)}`);n.success&&n.data&&(s=Array.isArray(n.data)?n.data[0]:n.data)}catch{}if(!s){const n=await Re.get(Me.PATIENTS,{params:{id:`eq.${a}`,select:"*"}});n.success&&n.data&&(Array.isArray(n.data)?s=n.data[0]:s=n.data)}return s?{success:!0,data:cl(s)}:{success:!1,error:"Paciente não encontrado"}}catch(s){const n=s;let i="Erro ao buscar paciente";return n.response?.status===404?i="Paciente não encontrado":n.response?.status===401?i="Não autorizado":n.response?.data?.message&&(i=n.response.data.message),console.error(i,s),{success:!1,error:i}}}async function uo(a){const s=(a.cpf||"").replace(/\D/g,"").slice(0,11);let n=(a.telefone||"").replace(/\D/g,"");n.length>15&&(n=n.slice(0,15));const i=a.endereco?{...a.endereco,cep:a.endereco.cep?.replace(/\D/g,"")}:void 0,l=typeof a.pesoKg=="number"&&a.pesoKg>0&&a.pesoKg<500?a.pesoKg:void 0,d=typeof a.alturaM=="number"&&a.alturaM>0&&a.alturaM<3?a.alturaM:void 0;if(!a.nome?.trim())return{success:!1,error:"Nome é obrigatório"};if(!s)return{success:!1,error:"CPF é obrigatório"};if(!a.email?.trim())return{success:!1,error:"Email é obrigatório"};if(!n)return{success:!1,error:"Telefone é obrigatório"};const u=x=>({full_name:a.nome,cpf:x,email:a.email,phone_mobile:n,birth_date:a.dataNascimento,social_name:a.socialName,sex:a.sexo,blood_type:a.tipoSanguineo,weight_kg:l,height_m:d,street:i?.rua,number:i?.numero,complement:i?.complemento,neighborhood:i?.bairro,city:i?.cidade,state:i?.estado,cep:i?.cep});let g=u(s);const h=()=>{Object.keys(g).forEach(x=>{const w=g[x];(w===void 0||w==="")&&delete g[x]})};h();const v=async()=>{const x=await Re.post(Me.PATIENTS,g,{headers:{Prefer:"return=representation"}});if(x.success&&x.data){const w=Array.isArray(x.data)?x.data[0]:x.data;return{success:!0,data:cl(w)}}return{success:!1,error:x.error||"Erro ao criar paciente"}},p=async x=>{if(/numeric field overflow/i.test(x)&&s.length===11){g=u(s.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")),h();let w=await v();if(w.success)return w;const D=["weight_kg","height_m","blood_type","cep","number"];for(const S of D)if(S in g&&(delete g[S],w=await v(),w.success))return w;return w}return{success:!1,error:x}};try{let x=await v();return!x.success&&/numeric field overflow/i.test(x.error||"")&&(x=await p(x.error||"numeric field overflow")),x}catch(x){const w=x;let D="Erro ao criar paciente";return w.response?.status===401?D="Não autorizado":w.response?.status===400?D=w.response.data?.message||"Dados inválidos":w.response?.data?.message&&(D=w.response.data.message),/numeric field overflow/i.test(D)?await p(D):{success:!1,error:D}}}async function mo(a,s){if(!a)return{success:!1,error:"ID é obrigatório"};const n=(s.cpf||"").replace(/\D/g,""),i=(s.telefone||"").replace(/\D/g,""),l=s.endereco?{...s.endereco,cep:s.endereco.cep?.replace(/\D/g,"")}:void 0,d={full_name:s.nome,cpf:n,email:s.email,phone_mobile:i,birth_date:s.dataNascimento,social_name:s.socialName,sex:s.sexo,blood_type:s.tipoSanguineo,weight_kg:s.pesoKg,height_m:s.alturaM,street:l?.rua,number:l?.numero,complement:l?.complemento,neighborhood:l?.bairro,city:l?.cidade,state:l?.estado,cep:l?.cep};Object.keys(d).forEach(u=>{const g=d[u];(g===void 0||g==="")&&delete d[u]});try{const u=await Re.patch(`${Me.PATIENTS}?id=eq.${a}`,d,{headers:{Prefer:"return=representation"}});if(!u.success||!u.data)return{success:!1,error:u.error||"Paciente não retornado"};const g=Array.isArray(u.data)?u.data[0]:u.data;return g?{success:!0,data:cl(g)}:{success:!1,error:"Paciente não retornado"}}catch(u){const g=u;let h="Erro ao atualizar paciente";return g.response?.status===404?h="Paciente não encontrado":g.response?.status===401?h="Não autorizado":g.response?.data?.message&&(h=g.response.data.message),console.error(h,u),{success:!1,error:h}}}async function fo(a){if(!a)return{success:!1,error:"ID é obrigatório"};try{console.log("[deletePatient] Tentando deletar paciente:",a),console.log("[deletePatient] Endpoint:",`${Me.PATIENTS}?id=eq.${encodeURIComponent(a)}`);const s=await Re.delete(`${Me.PATIENTS}?id=eq.${encodeURIComponent(a)}`,{headers:{Prefer:"return=minimal"}});return console.log("[deletePatient] Resposta:",s),s.success?(console.log("[deletePatient] Paciente deletado com sucesso"),{success:!0}):(console.error("[deletePatient] Falha ao deletar:",s.error),{success:!1,error:s.error||"Falha ao deletar paciente"})}catch(s){const n=s;let i="Erro ao deletar paciente";const l=n.response?.status,d=n.response?.data;return console.error("[deletePatient] Erro capturado:",{status:l,message:d?.message,hint:d?.hint,details:d?.details,error:d?.error,fullError:s}),l===404?i="Paciente não encontrado":l===401?i="Não autorizado - faça login novamente":l===403?i="Acesso negado - você não tem permissão para excluir pacientes":l===406?i="Formato de requisição inválido":d?.error?i=d.error:d?.message?i=d.message:d?.hint&&(i=`${i}: ${d.hint}`),console.error("[deletePatient]",i,s),{success:!1,error:i}}}async function Fp(a,s){const n=new FormData;n.append("foto",s);const i=await Re.post(`/auth/v1/pacientes/${encodeURIComponent(a)}/foto`,n,{headers:{"Content-Type":"multipart/form-data"}});if(i.success&&i.data){const l=i.data,d=l.data,u=d||l;return{foto_url:u.foto_url,thumbnail_url:u.thumbnail_url}}throw new Error(i.error||"Falha no upload de foto")}async function zp(a){const s=await Re.delete(`/auth/v1/pacientes/${encodeURIComponent(a)}/foto`);if(!s.success)throw new Error(s.error||"Falha ao remover foto")}async function Jd(a){const s=await Re.get(`/auth/v1/pacientes/${encodeURIComponent(a)}/anexos`);if(!s.success)return[];const i=Array.isArray(s.data)?s.data:s.data?.data||s.data?.list||[];return Array.isArray(i)?i:[]}async function Gd(a,s){const n=new FormData;n.append("arquivo",s);const i=await Re.post(`/auth/v1/pacientes/${encodeURIComponent(a)}/anexos`,n,{headers:{"Content-Type":"multipart/form-data"}});if(!i.success)throw new Error(i.error||"Falha ao adicionar anexo");if(!i.data)throw new Error("Resposta inválida do servidor");return i.data.data||i.data}async function Zd(a,s){const n=await Re.delete(`/pacientes/${encodeURIComponent(a)}/anexos/${encodeURIComponent(s)}`);if(!n.success)throw new Error(n.error||"Falha ao remover anexo")}async function Up(a){const s=await Re.post("/pacientes/validar-cpf",{cpf:a});if(!s.success||!s.data)return{valido:!1,existe:!1,paciente_id:null};const n=s.data.data||s.data;return{valido:!!n.valido,existe:!!n.existe,paciente_id:n.paciente_id??null}}async function to(a){const s=(a||"").replace(/\D/g,"");if(s.length!==8)return null;const n=await fetch(`https://viacep.com.br/ws/${s}/json/`);if(!n.ok)return null;const i=await n.json();return i.erro?null:{cep:i.cep,rua:i.logradouro,bairro:i.bairro,cidade:i.localidade,estado:i.uf}}const eu={listPatients:Fa,getPatientById:dl,createPatient:uo,updatePatient:mo,deletePatient:fo,uploadPatientPhoto:Fp,removePatientPhoto:zp,listPatientAttachments:Jd,addPatientAttachment:Gd,removePatientAttachment:Zd,validateCPF:Up,buscarEnderecoViaCEP:to},Qi=Object.freeze(Object.defineProperty({__proto__:null,addPatientAttachment:Gd,buscarEnderecoViaCEP:to,createPatient:uo,default:eu,deletePatient:fo,getPatientById:dl,listPatientAttachments:Jd,listPatients:Fa,removePatientAttachment:Zd,removePatientPhoto:zp,updatePatient:mo,uploadPatientPhoto:Fp,validateCPF:Up},Symbol.toStringTag,{value:"Module"}));class m1{async enviarSMS(s){try{return{success:!0,data:(await Ie.post(Me.SMS,s)).data}}catch(n){return console.error("Erro ao enviar SMS:",n),{success:!1,error:n instanceof Error&&"response"in n&&n.response?.data?.message||"Erro ao enviar SMS"}}}async enviarLembreteConsulta(s,n,i,l){const d=`Lembrete: Você tem uma consulta agendada com Dr(a). ${i} em ${l}. Paciente: ${n}. Para reagendar, entre em contato.`;return this.enviarSMS({telefone:s,mensagem:d,tipo:"lembrete"})}async enviarConfirmacaoConsulta(s,n,i,l){const d=`Consulta confirmada! Dr(a). ${i} - ${l}. Paciente: ${n}. Chegue 15min antes.`;return this.enviarSMS({telefone:s,mensagem:d,tipo:"confirmacao"})}async enviarCancelamentoConsulta(s,n,i,l,d){const u=d?` Motivo: ${d}`:"",g=`Consulta cancelada: Dr(a). ${i} - ${l}. Paciente: ${n}.${u} Entre em contato para reagendar.`;return this.enviarSMS({telefone:s,mensagem:g,tipo:"cancelamento"})}}const md=new m1;class f1{async listarConsultas(s){try{return{success:!0,data:(await Ie.get("/rest/v1/consultations",{params:s})).data}}catch(n){return console.error("Erro ao listar consultas:",n),{success:!1,error:n instanceof Error&&"response"in n&&n.response?.data?.message||"Erro ao listar consultas"}}}async criarConsulta(s){try{return{success:!0,data:(await Ie.post("/rest/v1/consultations",{...s,status:"agendada"})).data}}catch(n){return console.error("Erro ao criar consulta:",n),{success:!1,error:n instanceof Error&&"response"in n&&n.response?.data?.message||"Erro ao criar consulta"}}}async buscarConsultaPorId(s){try{return{success:!0,data:(await Ie.get(`/rest/v1/consultations/${s}`)).data}}catch(n){return console.error("Erro ao buscar consulta:",n),{success:!1,error:n instanceof Error&&"response"in n&&n.response?.data?.message||"Erro ao buscar consulta"}}}async atualizarConsulta(s,n){try{return{success:!0,data:(await Ie.patch(`/rest/v1/consultations/${s}`,n)).data}}catch(i){return console.error("Erro ao atualizar consulta:",i),{success:!1,error:i instanceof Error&&"response"in i&&i.response?.data?.message||"Erro ao atualizar consulta"}}}async deletarConsulta(s){try{return await Ie.delete(`/rest/v1/consultations/${s}`),{success:!0}}catch(n){return console.error("Erro ao deletar consulta:",n),{success:!1,error:n instanceof Error&&"response"in n&&n.response?.data?.message||"Erro ao deletar consulta"}}}async confirmarConsulta(s,n,i,l,d){const u=await this.atualizarConsulta(s,{status:"confirmada"});return u.success&&n&&i&&l&&d&&await md.enviarConfirmacaoConsulta(n,i,l,d),u}async cancelarConsulta(s,n,i,l,d,u){const g=await this.atualizarConsulta(s,{status:"cancelada"});return g.success&&i&&l&&d&&u&&await md.enviarCancelamentoConsulta(i,l,d,u,n),g}async enviarLembreteConsulta(s,n,i,l,d){try{const u=await md.enviarLembreteConsulta(n,i,l,d);return u.success?{success:!0}:{success:!1,error:u.error}}catch(u){return console.error("Erro ao enviar lembrete:",u),{success:!1,error:"Erro ao enviar lembrete"}}}async marcarComoRealizada(s,n){return this.atualizarConsulta(s,{status:"realizada",observacoes:n})}async marcarComoFaltou(s){return this.atualizarConsulta(s,{status:"faltou"})}}const Md=new f1,g1=()=>t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",role:"status","aria-label":"Carregando métrica",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"ml-4 flex-1",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})]})}),p1=({title:a,onRetry:s})=>t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 border-red-200",role:"alert","aria-live":"polite",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:t.jsx(no,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{className:"ml-4 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:a}),t.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Erro ao carregar"}),s&&t.jsx("button",{onClick:s,className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded px-2 py-1","aria-label":"Tentar carregar novamente",children:"Tentar novamente"})]})]})}),h1=({title:a,icon:s,iconColor:n,iconBgColor:i,emptyAction:l})=>t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 border-gray-100",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`p-3 ${i} rounded-full`,children:t.jsx(s,{className:`w-6 h-6 ${n}`})}),t.jsxs("div",{className:"ml-4 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:a}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),t.jsx("button",{onClick:l.onClick,className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded px-2 py-1 transition-colors","aria-label":l.label,children:l.label})]})]})}),Ai=({title:a,value:s,icon:n,iconColor:i,iconBgColor:l,description:d,loading:u=!1,error:g=!1,emptyAction:h,ariaLabel:v})=>u?t.jsx(g1,{}):g?t.jsx(p1,{title:a}):(typeof s=="number"?s:parseInt(String(s),10)||0)===0&&h?t.jsx(h1,{title:a,icon:n,iconColor:i,iconBgColor:l,emptyAction:h}):t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow group",role:"region","aria-label":v||a,children:t.jsxs("div",{className:"flex items-center relative",children:[t.jsx("div",{className:`p-3 ${l} rounded-full group-hover:scale-110 transition-transform`,children:t.jsx(n,{className:`w-6 h-6 ${i}`,"aria-hidden":"true"})}),t.jsxs("div",{className:"ml-4 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:a}),t.jsxs("div",{className:"relative group/tooltip",children:[t.jsx("button",{className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-full p-0.5","aria-label":`Informações sobre ${a}`,type:"button",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"absolute z-10 invisible group-hover/tooltip:visible opacity-0 group-hover/tooltip:opacity-100 transition-opacity bg-gray-900 text-white text-xs rounded-lg py-2 px-3 bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-48 pointer-events-none",role:"tooltip",children:[d,t.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:t.jsx("div",{className:"border-4 border-transparent border-t-gray-900"})})]})]})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 tabular-nums","aria-live":"polite",children:s})]})]})}),x1=()=>{const[a,s]=y.useState({totalPacientes:0,totalMedicos:0,consultasHoje:0,consultasPendentes:0}),[n,i]=y.useState(!0),[l,d]=y.useState(!1),u=Nt();y.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0),d(!1);const[v,p,x]=await Promise.all([Fa().catch(()=>({data:[]})),vr.listarMedicos().catch(()=>({data:{data:[]}})),Md.listarConsultas().catch(()=>({data:{data:[]}}))]),w=new Date().toISOString().split("T")[0],D=x.data?.data||[],S=D.filter(O=>O.data_hora?.startsWith(w)).length||0,_=D.filter(O=>O.status==="agendada"||O.status==="confirmada").length||0,k=p.data?.data||[];s({totalPacientes:v.data?.length||0,totalMedicos:k.length||0,consultasHoje:S,consultasPendentes:_})}catch(v){console.error("Erro ao carregar estatísticas:",v),d(!0),Ad.trackError("stats_load_error",String(v))}finally{i(!1)}},h=(v,p)=>{Ad.trackCTA(v,p),u(p)};return t.jsxs("div",{className:"space-y-8",id:"main-content",children:[t.jsxs("div",{className:"relative text-center py-8 md:py-12 lg:py-16 bg-gradient-to-r from-blue-800 via-blue-600 to-blue-500 text-white rounded-xl shadow-lg overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("defs",{children:t.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:t.jsx("circle",{cx:"20",cy:"20",r:"1",fill:"white"})})}),t.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),t.jsxs("div",{className:"relative z-10 px-4 max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-3 md:mb-4",children:Pe.t("home.hero.title")}),t.jsx("p",{className:"text-base md:text-lg lg:text-xl opacity-95 mb-6 md:mb-8 max-w-2xl mx-auto",children:Pe.t("home.hero.subtitle")}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center items-center",children:[t.jsxs("button",{onClick:()=>h("Agendar consulta","/paciente"),className:"group w-full sm:w-auto inline-flex items-center justify-center px-6 md:px-8 py-3 md:py-4 bg-white text-blue-700 rounded-lg font-semibold hover:bg-blue-50 hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80 focus-visible:ring-offset-blue-600","aria-label":Pe.t("home.actionCards.scheduleAppointment.ctaAriaLabel"),children:[t.jsx(Dt,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform","aria-hidden":"true"}),Pe.t("home.hero.ctaPrimary"),t.jsx(op,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform","aria-hidden":"true"})]}),t.jsxs("button",{onClick:()=>h("Ver próximas consultas","/consultas"),className:"group w-full sm:w-auto inline-flex items-center justify-center px-6 md:px-8 py-3 md:py-4 bg-blue-700 text-white rounded-lg font-semibold hover:bg-blue-800 hover:shadow-xl hover:scale-105 active:scale-95 border-2 border-white/20 transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80 focus-visible:ring-offset-blue-600","aria-label":"Ver lista de próximas consultas",children:[t.jsx(br,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),Pe.t("home.hero.ctaSecondary")]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",role:"region","aria-label":"Estatísticas do sistema",children:[t.jsx(Ai,{title:Pe.t("home.metrics.totalPatients"),value:a.totalPacientes,icon:Hs,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",description:Pe.t("home.metrics.totalPatientsDescription"),loading:n,error:l,ariaLabel:`${Pe.t("home.metrics.totalPatients")}: ${a.totalPacientes}`}),t.jsx(Ai,{title:Pe.t("home.metrics.activeDoctors"),value:a.totalMedicos,icon:kd,iconColor:"text-green-500",iconBgColor:"bg-green-50",description:Pe.t("home.metrics.activeDoctorsDescription"),loading:n,error:l,ariaLabel:`${Pe.t("home.metrics.activeDoctors")}: ${a.totalMedicos}`}),t.jsx(Ai,{title:Pe.t("home.metrics.todayAppointments"),value:a.consultasHoje,icon:Dt,iconColor:"text-yellow-500",iconBgColor:"bg-yellow-50",description:Pe.t("home.metrics.todayAppointmentsDescription"),loading:n,error:l,ariaLabel:`${Pe.t("home.metrics.todayAppointments")}: ${a.consultasHoje}`}),t.jsx(Ai,{title:Pe.t("home.metrics.pendingAppointments"),value:a.consultasPendentes,icon:br,iconColor:"text-purple-500",iconBgColor:"bg-purple-50",description:Pe.t("home.metrics.pendingAppointmentsDescription"),loading:n,error:l,ariaLabel:`${Pe.t("home.metrics.pendingAppointments")}: ${a.consultasPendentes}`})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",role:"region","aria-label":"Ações rápidas",children:[t.jsx(fd,{icon:Dt,iconColor:"text-blue-600",iconBgColor:"bg-gradient-to-br from-blue-700 to-blue-400",title:Pe.t("home.actionCards.scheduleAppointment.title"),description:Pe.t("home.actionCards.scheduleAppointment.description"),ctaLabel:Pe.t("home.actionCards.scheduleAppointment.cta"),ctaAriaLabel:Pe.t("home.actionCards.scheduleAppointment.ctaAriaLabel"),onAction:()=>h("Card Agendar","/paciente")}),t.jsx(fd,{icon:kd,iconColor:"text-indigo-600",iconBgColor:"bg-gradient-to-br from-indigo-600 to-indigo-400",title:Pe.t("home.actionCards.doctorPanel.title"),description:Pe.t("home.actionCards.doctorPanel.description"),ctaLabel:Pe.t("home.actionCards.doctorPanel.cta"),ctaAriaLabel:Pe.t("home.actionCards.doctorPanel.ctaAriaLabel"),onAction:()=>h("Card Médico","/login-medico")}),t.jsx(fd,{icon:Hs,iconColor:"text-green-600",iconBgColor:"bg-gradient-to-br from-green-600 to-green-400",title:Pe.t("home.actionCards.patientManagement.title"),description:Pe.t("home.actionCards.patientManagement.description"),ctaLabel:Pe.t("home.actionCards.patientManagement.cta"),ctaAriaLabel:Pe.t("home.actionCards.patientManagement.ctaAriaLabel"),onAction:()=>h("Card Secretaria","/login-secretaria")})]})]})},fd=({icon:a,iconBgColor:s,title:n,description:i,ctaLabel:l,ctaAriaLabel:d,onAction:u})=>t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5 md:p-6 hover:shadow-xl transition-all duration-200 group border border-gray-100 focus-within:ring-2 focus-within:ring-blue-500/50 focus-within:ring-offset-2",children:[t.jsx("div",{className:`w-12 h-12 ${s} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:t.jsx(a,{className:"w-6 h-6 text-white","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:n}),t.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:i}),t.jsxs("button",{onClick:u,className:"w-full inline-flex items-center justify-center px-4 py-2.5 bg-gradient-to-r from-blue-700 to-blue-400 hover:from-blue-800 hover:to-blue-500 hover:scale-105 active:scale-95 text-white rounded-lg font-medium transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80 group-hover:shadow-lg","aria-label":d,children:[l,t.jsx(op,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform","aria-hidden":"true"})]})]}),y1=()=>{const[a,s]=y.useState({email:"",senha:""}),[n,i]=y.useState(!1),[l,d]=y.useState(!1),[u,g]=y.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",cpf:"",dataNascimento:"",convenio:"",altura:"",peso:"",cep:"",logradouro:"",bairro:"",cidade:"",estado:""}),h=async _=>{if(!(!_||_.replace(/\D/g,"").length<8))try{const O=await(await fetch(`https://viacep.com.br/ws/${_.replace(/\D/g,"")}/json/`)).json();if(O.erro){M.error("CEP não encontrado");return}g(A=>({...A,logradouro:O.logradouro||"",bairro:O.bairro||"",cidade:O.localidade||"",estado:O.uf||""}))}catch{M.error("Erro ao buscar CEP")}},v=Nt(),{loginPaciente:p}=tr(),x={email:"guilhermesilvagomes1020@gmail.com",senha:"guilherme123",nome:"Guilherme Silva Gomes",id:"guilhermesilvagomes1020@gmail.com"},w=async _=>{_.preventDefault(),i(!0);try{console.log("[LoginPaciente] Fazendo login com email:",a.email);const O=await(await jt(async()=>{const{default:K}=await Promise.resolve().then(()=>Yi);return{default:K}},void 0)).default.login({email:a.email,password:a.senha});if(!O.success){console.log("[LoginPaciente] Erro no login:",O.error),M.error(O.error||"Email ou senha incorretos"),i(!1);return}console.log("[LoginPaciente] Login bem-sucedido!",O.data);const A=(await jt(async()=>{const{default:K}=await Promise.resolve().then(()=>Oa);return{default:K}},void 0)).default,j=A.getAccessToken(),P=A.getRefreshToken();if(console.log("[LoginPaciente] Token salvo:",j?"SIM":"NÃO"),console.log("[LoginPaciente] Refresh token salvo:",P?"SIM":"NÃO"),!j){console.error("[LoginPaciente] Token não foi salvo! Dados do login:",O.data),M.error("Erro ao salvar credenciais de autenticação"),i(!1);return}const{listPatients:X}=await jt(async()=>{const{listPatients:K}=await Promise.resolve().then(()=>Qi);return{listPatients:K}},void 0),ae=await X({search:a.email});console.log("[LoginPaciente] Resultado da busca de pacientes:",ae);const F=ae.data?.[0];F?(console.log("[LoginPaciente] Paciente encontrado:",{id:F.id,nome:F.nome,email:F.email}),await p({id:F.id,nome:F.nome,email:F.email})?(console.log("[LoginPaciente] Navegando para /acompanhamento"),v("/acompanhamento")):(console.error("[LoginPaciente] loginPaciente retornou false"),M.error("Erro ao processar login"))):(console.log("[LoginPaciente] Paciente não encontrado na lista"),M.error("Dados do paciente não encontrados. Entre em contato com o suporte."))}catch(k){console.error("[LoginPaciente] Erro no login:",k),M.error("Erro ao fazer login. Tente novamente.")}finally{i(!1)}},D=async _=>{_.preventDefault(),v("/cadastro-paciente")},S=async()=>{const _=a.email.trim(),k=a.senha;console.log("[LoginPaciente] Login local - tentando com API primeiro"),i(!0);try{const A=await(await jt(async()=>{const{default:K}=await Promise.resolve().then(()=>Yi);return{default:K}},void 0)).default.login({email:_,password:k});if(!A.success){if(console.log("[LoginPaciente] Login via API falhou, usando modo local sem token"),console.log("[LoginPaciente] Erro:",A.error),_!==x.email||k!==x.senha){M.error("Credenciais inválidas"),i(!1);return}M("⚠️ Modo local ativo: algumas funcionalidades podem não funcionar sem API",{icon:"⚠️",duration:5e3}),await p({id:x.id,nome:x.nome,email:x.email})?v("/acompanhamento"):M.error("Não foi possível iniciar a sessão local"),i(!1);return}console.log("[LoginPaciente] Login via API bem-sucedido!");const P=(await jt(async()=>{const{default:K}=await Promise.resolve().then(()=>Oa);return{default:K}},void 0)).default.getAccessToken();console.log("[LoginPaciente] Token salvo:",P?"SIM":"NÃO");const{listPatients:X}=await jt(async()=>{const{listPatients:K}=await Promise.resolve().then(()=>Qi);return{listPatients:K}},void 0),F=(await X({search:_})).data?.[0];F?(console.log("[LoginPaciente] Paciente encontrado na API:",F.nome),await p({id:F.id,nome:F.nome,email:F.email})?v("/acompanhamento"):M.error("Erro ao processar login")):(console.log("[LoginPaciente] Paciente não encontrado na API, usando dados locais"),await p({id:_,nome:_.split("@")[0],email:_})?v("/acompanhamento"):M.error("Erro ao processar login"))}catch(O){console.error("[LoginPaciente] Erro no login:",O),M.error("Erro ao fazer login")}finally{i(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white dark:from-gray-900 dark:to-gray-950 flex items-center justify-center p-4 transition-colors",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-700 to-blue-400 dark:from-blue-800 dark:to-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md",children:t.jsx(Bs,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:l?"Criar Conta":"Área do Paciente"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l?"Preencha seus dados para criar sua conta":"Faça login para acompanhar suas consultas"})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 border border-transparent dark:border-gray-700 transition-colors","aria-live":"polite",children:l?t.jsxs("form",{onSubmit:D,className:"space-y-4",noValidate:!0,children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_nome",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome Completo"}),t.jsx("input",{id:"cad_nome",type:"text",value:u.nome,onChange:_=>g(k=>({...k,nome:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"name"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_cpf",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CPF"}),t.jsx("input",{id:"cad_cpf",type:"text",value:u.cpf,onChange:_=>g(k=>({...k,cpf:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"000.000.000-00",required:!0,inputMode:"numeric",pattern:"^\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}$|^\\d{11}$"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_cep",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CEP"}),t.jsx("input",{id:"cad_cep",type:"text",value:u.cep,onChange:_=>g(k=>({...k,cep:_.target.value})),onBlur:()=>h(u.cep),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"00000-000",required:!0,inputMode:"numeric",pattern:"^\\d{5}-?\\d{3}$",autoComplete:"postal-code"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_logradouro",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logradouro"}),t.jsx("input",{id:"cad_logradouro",type:"text",value:u.logradouro,onChange:_=>g(k=>({...k,logradouro:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"address-line1"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_bairro",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bairro"}),t.jsx("input",{id:"cad_bairro",type:"text",value:u.bairro,onChange:_=>g(k=>({...k,bairro:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"address-line2"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_cidade",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cidade"}),t.jsx("input",{id:"cad_cidade",type:"text",value:u.cidade,onChange:_=>g(k=>({...k,cidade:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"address-level2"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_estado",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),t.jsx("input",{id:"cad_estado",type:"text",value:u.estado,onChange:_=>g(k=>({...k,estado:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"address-level1"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),t.jsx("input",{id:"cad_email",type:"email",value:u.email,onChange:_=>g(k=>({...k,email:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"email"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_senha",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha"}),t.jsx("input",{id:"cad_senha",type:"password",value:u.senha,onChange:_=>g(k=>({...k,senha:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",minLength:6,required:!0,autoComplete:"new-password"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_confirma_senha",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar Senha"}),t.jsx("input",{id:"cad_confirma_senha",type:"password",value:u.confirmarSenha,onChange:_=>g(k=>({...k,confirmarSenha:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"new-password","aria-invalid":u.confirmarSenha!==""&&u.confirmarSenha!==u.senha,"aria-describedby":u.confirmarSenha!==""&&u.confirmarSenha!==u.senha?"cad_senha_help":void 0}),u.confirmarSenha!==""&&u.confirmarSenha!==u.senha&&t.jsx("p",{id:"cad_senha_help",className:"mt-1 text-xs text-red-400",children:"As senhas não coincidem."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_telefone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),t.jsx("input",{id:"cad_telefone",type:"tel",value:u.telefone,onChange:_=>g(k=>({...k,telefone:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"(11) 99999-9999",required:!0,inputMode:"numeric",pattern:"^\\(?\\d{2}\\)?\\s?9?\\d{4}-?\\d{4}$",autoComplete:"tel"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_data_nasc",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Nascimento"}),t.jsx("input",{id:"cad_data_nasc",type:"date",value:u.dataNascimento,onChange:_=>g(k=>({...k,dataNascimento:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",required:!0,autoComplete:"bday"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_convenio",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Convênio"}),t.jsxs("select",{id:"cad_convenio",value:u.convenio,onChange:_=>g(k=>({...k,convenio:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",children:[t.jsx("option",{value:"",children:"Selecione"}),t.jsx("option",{value:"Particular",children:"Particular"}),t.jsx("option",{value:"Unimed",children:"Unimed"}),t.jsx("option",{value:"Bradesco Saúde",children:"Bradesco Saúde"}),t.jsx("option",{value:"SulAmérica",children:"SulAmérica"}),t.jsx("option",{value:"Amil",children:"Amil"}),t.jsx("option",{value:"NotreDame",children:"NotreDame"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_altura",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Altura (cm)"}),t.jsx("input",{id:"cad_altura",type:"number",value:u.altura,onChange:_=>g(k=>({...k,altura:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"170",min:"50",max:"250"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cad_peso",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Peso (kg)"}),t.jsx("input",{id:"cad_peso",type:"number",value:u.peso,onChange:_=>g(k=>({...k,peso:_.target.value})),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"70",min:"20",max:"300",step:"0.1"})]})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Voltar"}),t.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-gradient-to-r from-blue-700 to-blue-400 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-800 hover:to-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:n?"Cadastrando...":"Cadastrar"})]})]}):t.jsxs("form",{onSubmit:w,className:"space-y-6",noValidate:!0,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"login_email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"login_email",type:"email",value:a.email,onChange:_=>s(k=>({...k,email:_.target.value})),className:"form-input pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"seu@email.com",required:!0,autoComplete:"email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"login_password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"login_password",type:"password",value:a.senha,onChange:_=>s(k=>({...k,senha:_.target.value})),className:"form-input pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"Sua senha",required:!0,autoComplete:"current-password"})]})]}),t.jsx("button",{type:"button",onClick:S,disabled:n,className:"w-full bg-gradient-to-r from-blue-700 to-blue-400 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-800 hover:to-blue-500 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:n?"Entrando...":"Entrar"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 text-center",children:[t.jsx("strong",{children:x.email})," /"," ",t.jsx("strong",{children:x.senha})]})]})})]})})},v1=()=>{const[a,s]=y.useState({email:"",senha:""}),[n,i]=y.useState(!1),l=Nt(),{loginComEmailSenha:d}=tr(),u={email:"secretaria.mediconnect@gmail.com",senha:"secretaria@mediconnect"},g=async h=>{h.preventDefault(),i(!0);try{console.log("[LoginSecretaria] Fazendo login com email:",a.email);const p=await(await jt(async()=>{const{default:S}=await Promise.resolve().then(()=>Yi);return{default:S}},void 0)).default.login({email:a.email,password:a.senha});if(!p.success){console.log("[LoginSecretaria] Erro no login:",p.error),M.error(p.error||"Email ou senha incorretos"),i(!1);return}console.log("[LoginSecretaria] Login bem-sucedido!",p.data);const w=(await jt(async()=>{const{default:S}=await Promise.resolve().then(()=>Oa);return{default:S}},void 0)).default.getAccessToken();if(console.log("[LoginSecretaria] Token salvo:",w?"SIM":"NÃO"),!w){console.error("[LoginSecretaria] Token não foi salvo!"),M.error("Erro ao salvar credenciais de autenticação"),i(!1);return}await d(a.email,a.senha)?(console.log("[LoginSecretaria] Navegando para /painel-secretaria"),M.success("Login realizado com sucesso!"),l("/painel-secretaria")):(console.error("[LoginSecretaria] loginComEmailSenha retornou false"),M.error("Erro ao processar login"))}catch(v){console.error("[LoginSecretaria] Erro no login:",v),M.error("Erro ao fazer login. Tente novamente.")}finally{i(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white dark:from-gray-900 dark:to-gray-950 flex items-center justify-center p-4 transition-colors",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-400 dark:from-green-700 dark:to-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md",children:t.jsx(lp,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Área da Secretaria"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Faça login para acessar o sistema de gestão"})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 border border-transparent dark:border-gray-700 transition-colors","aria-live":"polite",children:t.jsxs("form",{onSubmit:g,className:"space-y-6",noValidate:!0,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"sec_email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"sec_email",type:"email",value:a.email,onChange:h=>s(v=>({...v,email:h.target.value})),className:"form-input pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"seu@email.com",required:!0,autoComplete:"email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"sec_password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"sec_password",type:"password",value:a.senha,onChange:h=>s(v=>({...v,senha:h.target.value})),className:"form-input pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"Sua senha",required:!0,autoComplete:"current-password"})]})]}),t.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-green-600 to-green-400 text-white py-3 px-4 rounded-lg font-medium hover:from-green-700 hover:to-green-500 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2",children:n?"Entrando...":"Entrar"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 text-center",children:[t.jsx("strong",{children:u.email})," /"," ",t.jsx("strong",{children:u.senha})]})]})})]})})},b1=()=>{const[a,s]=y.useState({email:"",senha:""}),[n,i]=y.useState(!1),l=Nt(),{loginComEmailSenha:d}=tr(),u={email:"fernando.pirichowski@souunit.com.br",senha:"fernando"},g=async h=>{h.preventDefault(),i(!0);try{console.log("[LoginMedico] Fazendo login com email:",a.email);const p=await(await jt(async()=>{const{default:S}=await Promise.resolve().then(()=>Yi);return{default:S}},void 0)).default.login({email:a.email,password:a.senha});if(!p.success){console.log("[LoginMedico] Erro no login:",p.error),M.error(p.error||"Email ou senha incorretos"),i(!1);return}console.log("[LoginMedico] Login bem-sucedido!",p.data);const w=(await jt(async()=>{const{default:S}=await Promise.resolve().then(()=>Oa);return{default:S}},void 0)).default.getAccessToken();if(console.log("[LoginMedico] Token salvo:",w?"SIM":"NÃO"),!w){console.error("[LoginMedico] Token não foi salvo!"),M.error("Erro ao salvar credenciais de autenticação"),i(!1);return}await d(a.email,a.senha)?(console.log("[LoginMedico] Navegando para /painel-medico"),M.success("Login realizado com sucesso!"),l("/painel-medico")):(console.error("[LoginMedico] loginComEmailSenha retornou false"),M.error("Erro ao processar login"))}catch(v){console.error("[LoginMedico] Erro no login:",v),M.error("Erro ao fazer login. Tente novamente.")}finally{i(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white dark:from-gray-900 dark:to-gray-950 flex items-center justify-center p-4 transition-colors",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-400 dark:from-indigo-700 dark:to-indigo-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md",children:t.jsx(Da,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Área do Médico"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Faça login para acessar seu painel médico"})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 border border-transparent dark:border-gray-700 transition-colors","aria-live":"polite",children:t.jsxs("form",{onSubmit:g,className:"space-y-6",noValidate:!0,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"med_email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"med_email",type:"email",value:a.email,onChange:h=>s(v=>({...v,email:h.target.value})),className:"form-input pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"seu@email.com",required:!0,autoComplete:"email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"med_password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"med_password",type:"password",value:a.senha,onChange:h=>s(v=>({...v,senha:h.target.value})),className:"form-input pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-100",placeholder:"Sua senha",required:!0,autoComplete:"current-password"})]})]}),t.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-indigo-600 to-indigo-400 text-white py-3 px-4 rounded-lg font-medium hover:from-indigo-700 hover:to-indigo-500 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2",children:n?"Entrando...":"Entrar"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 text-center",children:[t.jsx("strong",{children:u.email})," /"," ",t.jsx("strong",{children:u.senha})]})]})})]})})};class w1{async listarTodas(){try{const s=await Ie.get(Me.CONSULTATIONS,{params:{select:"*"}});return{success:!0,data:(Array.isArray(s.data)?s.data:s.data?.data||[]).map(this.mapConsulta)}}catch(s){return console.error("Erro ao listar todas as consultas:",s),{success:!1,error:"Erro ao listar todas as consultas"}}}async listarPorPaciente(s,n){try{const i={patient_id:`eq.${s}`};n?.limit&&(i.limit=String(n.limit)),n?.sort&&(i.order=`dataHora.${n.sort}`);const l=await Ie.get(Me.CONSULTATIONS,{params:i});return{success:!0,data:(Array.isArray(l.data)?l.data:l.data?.data||[]).map(this.mapConsulta)}}catch(i){return console.error("Erro ao listar consultas por paciente:",i),{success:!1,error:"Erro ao listar consultas"}}}async listarPorMedico(s,n){try{const i={doctor_id:`eq.${s}`};n?.status&&(i.status=`eq.${n.status}`),n?.dateFrom&&(i.dataHora=`gte.${n.dateFrom}`),n?.dateTo&&(i.dataHora=`lte.${n.dateTo}`),n?.limit&&(i.limit=String(n.limit));const l=await Ie.get(Me.CONSULTATIONS,{params:i});return{success:!0,data:(Array.isArray(l.data)?l.data:l.data?.data||[]).map(this.mapConsulta)}}catch(i){return console.error("Erro ao listar consultas por médico:",i),{success:!1,error:"Erro ao listar consultas"}}}async criar(s){try{const n=await Ie.post(Me.CONSULTATIONS,s);return{success:!0,data:this.mapConsulta(n.data)}}catch(n){return console.error("Erro ao criar consulta:",n),{success:!1,error:"Erro ao criar consulta"}}}async atualizar(s,n){try{const i=await Ie.patch(`${Me.CONSULTATIONS}/${s}`,n);return{success:!0,data:this.mapConsulta(i.data)}}catch(i){return console.error("Erro ao atualizar consulta:",i),{success:!1,error:"Erro ao atualizar consulta"}}}async deletar(s){try{return await Ie.delete(`${Me.CONSULTATIONS}/${s}`),{success:!0}}catch(n){return console.error("Erro ao deletar consulta:",n),{success:!1,error:"Erro ao deletar consulta"}}}async obterUltimaPorPaciente(s){try{const n=await this.listarPorPaciente(s,{limit:10});return!n.success||!n.data?{success:!0,data:null}:{success:!0,data:[...n.data].sort((l,d)=>d.dataHora.localeCompare(l.dataHora))[0]||null}}catch{return{success:!1,error:"Erro ao obter última consulta"}}}async obterProximaPorPaciente(s){try{const n=new Date().toISOString(),i=await this.listarPorPaciente(s,{limit:50});if(!i.success||!i.data)return{success:!0,data:null};const l=i.data.filter(d=>d.dataHora>=n);return l.sort((d,u)=>d.dataHora.localeCompare(u.dataHora)),{success:!0,data:l[0]||null}}catch{return{success:!1,error:"Erro ao obter próxima consulta"}}}mapConsulta(s){return{id:s.id||s._id||s.Id||s.consultaId||Math.random().toString(36).slice(2,11),pacienteId:s.pacienteId||s.patient_id||s.paciente||"",medicoId:s.medicoId||s.doctor_id||s.medico||"",dataHora:s.dataHora||s.data_hora||s.date||new Date().toISOString(),status:s.status||"agendada",tipo:s.tipo||s.tipoConsulta||s.type||void 0,motivo:s.motivo||s.motivoConsulta||void 0,observacoes:s.observacoes||s.notes||void 0,valorPago:s.valorPago??s.valor_pago??void 0,formaPagamento:s.formaPagamento||s.payment_method||void 0,created_at:s.created_at,updated_at:s.updated_at}}}const ro=new w1;function ul(a){return{id:a.id||"",patientId:a.patient_id,orderNumber:a.order_number,exam:a.exam??null,diagnosis:a.diagnosis??null,conclusion:a.conclusion??null,cidCode:a.cid_code??null,contentHtml:a.content_html??null,contentJson:a.content_json??null,status:a.status,requestedBy:a.requested_by??null,dueAt:a.due_at??null,hideDate:a.hide_date??null,hideSignature:a.hide_signature??null,createdAt:a.created_at,updatedAt:a.updated_at,createdBy:a.created_by}}async function j1(a){const s={select:"*"};a?.patientId&&(s.patient_id=`eq.${a.patientId}`),a?.status&&(s.status=`eq.${a.status}`);const n=await Re.get(Me.REPORTS,{params:s});if(!n.success)return{success:!1,error:n.error};const i=Array.isArray(n.data)?n.data:n.data?.data;return{success:!0,data:(Array.isArray(i)?i:[]).map(ul)}}async function N1(a){if(!a.patientId?.trim())return{success:!1,error:"patientId é obrigatório"};if(!a.orderNumber?.trim())return{success:!1,error:"orderNumber é obrigatório"};const s={patient_id:a.patientId,order_number:a.orderNumber,exam:a.exam,diagnosis:a.diagnosis,conclusion:a.conclusion,cid_code:a.cidCode,content_html:a.contentHtml,content_json:a.contentJson,status:a.status,requested_by:a.requestedBy,due_at:a.dueAt,hide_date:a.hideDate,hide_signature:a.hideSignature};Object.keys(s).forEach(d=>{(s[d]===void 0||s[d]==="")&&delete s[d]});const n=await Re.post(Me.REPORTS,s,{headers:{Prefer:"return=representation"}});if(!n.success)return{success:!1,error:n.error};const i=n.data,l=Array.isArray(i)?i[0]:i;return l?{success:!0,data:ul(l)}:{success:!1,error:"Resposta inesperada da API"}}async function k1(a){if(!a)return{success:!1,error:"ID é obrigatório"};const s=await Re.get(`${Me.REPORTS}/${encodeURIComponent(a)}`);let n;if(s.success&&s.data)n=s.data;else{const i=await Re.get(Me.REPORTS,{params:{id:`eq.${a}`,select:"*"}});if(i.success){const l=i.data,d=Array.isArray(l)?l:l&&typeof l=="object"?l.data:void 0;n=Array.isArray(d)?d[0]:void 0}else return{success:!1,error:s.error||i.error||"Erro ao buscar relatório"}}return!n||typeof n!="object"?{success:!1,error:"Relatório não encontrado"}:{success:!0,data:ul(n)}}async function S1(a,s){if(!a)return{success:!1,error:"ID é obrigatório"};if(!s.patientId?.trim())return{success:!1,error:"patientId é obrigatório"};if(!s.orderNumber?.trim())return{success:!1,error:"orderNumber é obrigatório"};const n={patient_id:s.patientId,order_number:s.orderNumber,exam:s.exam,diagnosis:s.diagnosis,conclusion:s.conclusion,cid_code:s.cidCode,content_html:s.contentHtml,content_json:s.contentJson,status:s.status,requested_by:s.requestedBy,due_at:s.dueAt,hide_date:s.hideDate,hide_signature:s.hideSignature};Object.keys(n).forEach(u=>{(n[u]===void 0||n[u]==="")&&delete n[u]});const i=await Re.patch(`${Me.REPORTS}?id=eq.${encodeURIComponent(a)}`,n,{headers:{Prefer:"return=representation"}});if(!i.success)return{success:!1,error:i.error};const l=i.data,d=Array.isArray(l)?l[0]:l;return d?{success:!0,data:ul(d)}:{success:!1,error:"Relatório não retornado"}}const vg={listReports:j1,createReport:N1,getReportById:k1,updateReport:S1};class C1{async getAvailableSlots(s){try{const n=await Re.post(Me.AVAILABLE_SLOTS,s);return n.success&&n.data?{success:!0,data:n.data}:{success:!1,error:n.error||"Erro ao buscar horários disponíveis"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async listAppointments(s){try{const n={};s?.select&&(n.select=s.select),s?.doctor_id&&(n.doctor_id=`eq.${s.doctor_id}`),s?.patient_id&&(n.patient_id=`eq.${s.patient_id}`),s?.status&&(n.status=`eq.${s.status}`),s?.scheduled_at&&(n.scheduled_at=s.scheduled_at),s?.order&&(n.order=s.order),s?.limit&&(n.limit=String(s.limit)),s?.offset&&(n.offset=String(s.offset)),n.select||(n.select="*"),n.order||(n.order="scheduled_at.desc"),n.limit||(n.limit="100");const i=await Re.get(Me.APPOINTMENTS,{params:n});return i.success&&i.data?{success:!0,data:Array.isArray(i.data)?i.data:[i.data]}:{success:!1,error:i.error||"Erro ao listar agendamentos"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async createAppointment(s){try{const n=dr.getStoredUser();if(!n?.id)return{success:!1,error:"Usuário não autenticado"};const i={...s,created_by:n.id},l=await Re.post(Me.APPOINTMENTS,i,{headers:{Prefer:"return=representation"}});return l.success&&l.data?{success:!0,data:Array.isArray(l.data)?l.data[0]:l.data,message:"Agendamento criado com sucesso"}:{success:!1,error:l.error||"Erro ao criar agendamento"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async getAppointmentById(s){try{const n=await Re.get(`${Me.APPOINTMENTS}?id=eq.${s}&select=*`);if(n.success&&n.data){const i=Array.isArray(n.data)?n.data:[n.data];if(i.length>0)return{success:!0,data:i[0]}}return{success:!1,error:"Agendamento não encontrado"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async updateAppointment(s,n){try{const i=await Re.patch(`${Me.APPOINTMENTS}?id=eq.${s}`,n,{headers:{Prefer:"return=representation"}});return i.success&&i.data?{success:!0,data:Array.isArray(i.data)?i.data[0]:i.data,message:"Agendamento atualizado com sucesso"}:{success:!1,error:i.error||"Erro ao atualizar agendamento"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Erro desconhecido"}}}async deleteAppointment(s){try{const n=await Re.delete(`${Me.APPOINTMENTS}?id=eq.${s}`);return n.success?{success:!0,data:void 0,message:"Agendamento deletado com sucesso"}:{success:!1,error:n.error||"Erro ao deletar agendamento"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}confirmAppointment(s){return this.updateAppointment(s,{status:"confirmed"})}checkInAppointment(s){return this.updateAppointment(s,{status:"checked_in",checked_in_at:new Date().toISOString()})}startAppointment(s){return this.updateAppointment(s,{status:"in_progress"})}completeAppointment(s,n){return this.updateAppointment(s,{status:"completed",completed_at:new Date().toISOString(),notes:n})}cancelAppointment(s,n){return this.updateAppointment(s,{status:"cancelled",cancelled_at:new Date().toISOString(),cancellation_reason:n})}markAsNoShow(s){return this.updateAppointment(s,{status:"no_show"})}listDoctorAppointments(s,n){return this.listAppointments({...n,doctor_id:s})}listPatientAppointments(s,n){return this.listAppointments({...n,patient_id:s})}listTodayAppointments(s){const n=new Date().toISOString().split("T")[0];return this.listAppointments({doctor_id:s,scheduled_at:`gte.${n}T00:00:00`,order:"scheduled_at.asc"})}listUpcomingPatientAppointments(s){const n=new Date().toISOString();return this.listAppointments({patient_id:s,scheduled_at:`gte.${n}`,order:"scheduled_at.asc",limit:10})}}const ds=new C1,_1={segunda:"monday",terca:"tuesday",quarta:"wednesday",quinta:"thursday",sexta:"friday",sabado:"saturday",domingo:"sunday"},E1={monday:"segunda",tuesday:"terca",wednesday:"quarta",thursday:"quinta",friday:"sexta",saturday:"sabado",sunday:"domingo"};function bg(a){return _1[a]}function gd(a){return E1[a]}class T1{async listAvailability(s){try{const n={};s?.select&&(n.select=s.select),s?.doctor_id&&(n.doctor_id=`eq.${s.doctor_id}`),s?.active!==void 0&&(n.active=`eq.${s.active}`),n.select||(n.select="*");const i=await Re.get(Me.DOCTOR_AVAILABILITY,{params:n});return i.success&&i.data?{success:!0,data:(Array.isArray(i.data)?i.data:[i.data]).map(u=>u.weekday?{...u,weekday:gd(u.weekday)}:u)}:{success:!1,error:i.error||"Erro ao listar disponibilidades"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async createAvailability(s){try{console.log("[AvailabilityService] Criando disponibilidade (PT-BR):",s);const n=dr.getStoredUser();if(!n?.id)return{success:!1,error:"Usuário não autenticado"};const i={...s,weekday:bg(s.weekday),created_by:n.id};console.log("[AvailabilityService] Payload convertido (EN):",i),console.log("[AvailabilityService] Endpoint:",Me.DOCTOR_AVAILABILITY);const l=await Re.post(Me.DOCTOR_AVAILABILITY,i,{headers:{Prefer:"return=representation"}});if(console.log("[AvailabilityService] Resposta:",l),l.success&&l.data){const d=Array.isArray(l.data)?l.data[0]:l.data;return d.weekday&&(d.weekday=gd(d.weekday)),{success:!0,data:d,message:"Disponibilidade criada com sucesso"}}return{success:!1,error:l.error||"Erro ao criar disponibilidade"}}catch(n){return console.error("[AvailabilityService] Exceção:",n),{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async updateAvailability(s,n){try{const i=n.weekday?{...n,weekday:bg(n.weekday)}:n,l=await Re.patch(`${Me.DOCTOR_AVAILABILITY}?id=eq.${s}`,i,{headers:{Prefer:"return=representation"}});if(l.success&&l.data){const d=Array.isArray(l.data)?l.data[0]:l.data;return d.weekday&&(d.weekday=gd(d.weekday)),{success:!0,data:d,message:"Disponibilidade atualizada com sucesso"}}return{success:!1,error:l.error||"Erro ao atualizar disponibilidade"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Erro desconhecido"}}}async deleteAvailability(s){try{const n=await Re.delete(`${Me.DOCTOR_AVAILABILITY}?id=eq.${s}`);return n.success?{success:!0,data:void 0,message:"Disponibilidade deletada com sucesso"}:{success:!1,error:n.error||"Erro ao deletar disponibilidade"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async listDoctorActiveAvailability(s){return this.listAvailability({doctor_id:s,active:!0})}activateAvailability(s){return this.updateAvailability(s,{active:!0})}deactivateAvailability(s){return this.updateAvailability(s,{active:!1})}async createWeekSchedule(s,n,i,l,d=30,u="presencial"){const g=[],h=[];for(const v of n){const p=await this.createAvailability({doctor_id:s,weekday:v,start_time:i,end_time:l,slot_minutes:d,appointment_type:u,active:!0});p.success&&p.data?g.push(p.data):h.push(`${v}: ${p.error}`)}return h.length?{success:!1,error:`Erros: ${h.join(", ")}`}:{success:!0,data:g,message:"Horários da semana criados com sucesso"}}async getDoctorAvailabilityForDay(s,n){const i=await this.listAvailability({doctor_id:s,active:!0});return!i.success||!i.data?i:{success:!0,data:i.data.filter(l=>l.weekday===n)}}async isDoctorAvailableOnDay(s,n){const i=await this.getDoctorAvailabilityForDay(s,n);return!!(i.success&&i.data&&i.data.length>0)}async getDoctorScheduleSummary(s){const n=await this.listDoctorActiveAvailability(s);if(!n.success||!n.data)return{success:!1,error:"Erro ao buscar horários"};const i={segunda:[],terca:[],quarta:[],quinta:[],sexta:[],sabado:[],domingo:[]};return n.data.forEach(l=>{l.weekday&&l.start_time&&l.end_time&&i[l.weekday].push({start:l.start_time,end:l.end_time,type:l.appointment_type||"presencial"})}),{success:!0,data:i}}async getAvailability(s){try{const n=await this.listAvailability({doctor_id:s});if(!n.success||!n.data)return{success:!1,error:n.error||"Nenhuma disponibilidade"};const i=n.data[0];if(i&&i.domingo!==void 0)return{success:!0,data:n.data};const d={domingo:{ativo:!1,horarios:[]},segunda:{ativo:!1,horarios:[]},terca:{ativo:!1,horarios:[]},quarta:{ativo:!1,horarios:[]},quinta:{ativo:!1,horarios:[]},sexta:{ativo:!1,horarios:[]},sabado:{ativo:!1,horarios:[]}};return n.data.forEach(u=>{const g=u.weekday;if(!g)return;const h={ativo:u.active??u.ativo??!0,horarios:[{inicio:u.start_time||u.inicio||"",fim:u.end_time||u.fim||"",ativo:u.active??u.ativo??!0}]};d[g]=h}),{success:!0,data:[d]}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}}const Jr=new T1;function wg(a){const s=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return`${s}-${n}-${i}`}class P1{async listExceptions(s){try{const n={};s?.select&&(n.select=s.select),s?.doctor_id&&(n.doctor_id=`eq.${s.doctor_id}`),s?.date&&(n.date=`eq.${s.date}`),n.select||(n.select="*");const i=await Re.get(Me.DOCTOR_EXCEPTIONS,{params:n});return i.success&&i.data?{success:!0,data:Array.isArray(i.data)?i.data:[i.data]}:{success:!1,error:i.error||"Erro ao listar exceções"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async createException(s){try{const n=dr.getStoredUser();if(!n?.id)return{success:!1,error:"Usuário não autenticado"};const i={...s,created_by:n.id},l=await Re.post(Me.DOCTOR_EXCEPTIONS,i,{headers:{Prefer:"return=representation"}});return l.success&&l.data?{success:!0,data:Array.isArray(l.data)?l.data[0]:l.data,message:"Exceção criada com sucesso"}:{success:!1,error:l.error||"Erro ao criar exceção"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async deleteException(s){try{const n=await Re.delete(`${Me.DOCTOR_EXCEPTIONS}?id=eq.${s}`);return n.success?{success:!0,data:void 0,message:"Exceção deletada com sucesso"}:{success:!1,error:n.error||"Erro ao deletar exceção"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}blockFullDay(s,n,i){return this.createException({doctor_id:s,date:n,kind:"bloqueio",reason:i})}blockTimeSlot(s,n,i,l,d){return this.createException({doctor_id:s,date:n,start_time:i,end_time:l,kind:"bloqueio",reason:d})}async blockVacation(s,n,i,l="Férias"){const d=new Date(n),u=new Date(i),g=[],h=[];for(let v=new Date(d);v<=u;v.setDate(v.getDate()+1)){const p=wg(v),x=await this.blockFullDay(s,p,l);x.success&&x.data?g.push(x.data):h.push(`${p}: ${x.error}`)}return h.length?{success:!1,error:`Erros ao bloquear férias: ${h.join(", ")}`}:{success:!0,data:g,message:`${g.length} dia(s) bloqueado(s)`}}releaseFullDay(s,n,i){return this.createException({doctor_id:s,date:n,kind:"liberacao",reason:i})}releaseTimeSlot(s,n,i,l,d){return this.createException({doctor_id:s,date:n,start_time:i,end_time:l,kind:"liberacao",reason:d})}async listDoctorBlocks(s){const n=await this.listExceptions({doctor_id:s});return!n.success||!n.data?n:{success:!0,data:n.data.filter(i=>i.kind==="bloqueio")}}async listDoctorReleases(s){const n=await this.listExceptions({doctor_id:s});return!n.success||!n.data?n:{success:!0,data:n.data.filter(i=>i.kind==="liberacao")}}async isDayBlocked(s,n){const i=await this.listExceptions({doctor_id:s,date:n});return!i.success||!i.data?!1:i.data.some(l=>l.kind==="bloqueio")}async isTimeSlotBlocked(s,n,i){const l=await this.listExceptions({doctor_id:s,date:n});if(!l.success||!l.data)return!1;for(const d of l.data)if(d.kind==="bloqueio"&&(!d.start_time&&!d.end_time||d.start_time&&d.end_time&&i>=d.start_time&&i<=d.end_time))return!0;return!1}async getFutureExceptions(s){const n=await this.listExceptions({doctor_id:s});if(!n.success||!n.data)return n;const i=wg(new Date);return{success:!0,data:n.data.filter(l=>l.date&&l.date>=i)}}async getMonthExceptionsSummary(s,n,i){const l=await this.listExceptions({doctor_id:s});if(!l.success||!l.data)return{success:!1,error:"Erro ao buscar exceções"};const d=`${n}-${String(i).padStart(2,"0")}`,u=l.data.filter(v=>v.date&&v.date.startsWith(d)),g=u.filter(v=>v.kind==="bloqueio"),h=u.filter(v=>v.kind==="liberacao");return{success:!0,data:{blocks:g,releases:h,totalBlocks:g.length,totalReleases:h.length}}}async deleteExceptionsInRange(s,n,i){const l=await this.listExceptions({doctor_id:s});if(!l.success||!l.data)return{success:!1,error:"Erro ao buscar exceções"};const d=l.data.filter(h=>h.date&&h.date>=n&&h.date<=i);let u=0;const g=[];for(const h of d){if(!h.id)continue;const v=await this.deleteException(h.id);v.success?u++:g.push(`${h.date}: ${v.error}`)}return g.length?{success:!1,error:`Erros ao deletar: ${g.join(", ")}`}:{success:!0,data:{deletedCount:u},message:`${u} exceção(ões) deletada(s)`}}}const Us=new P1,qp=({doctorId:a,date:s,onSelect:n,appointment_type:i})=>{const[l,d]=y.useState([]),[u,g]=y.useState(!1),h=y.useMemo(()=>{if(!s)return null;const v=new Date(`${s}T00:00:00Z`).toISOString(),p=new Date(`${s}T23:59:59Z`).toISOString();return{start:v,end:p}},[s]);return y.useEffect(()=>{async function v(){if(!a||!h)return;g(!0);const p=await ds.getAvailableSlots({doctor_id:a,start_date:h.start,end_date:h.end,appointment_type:i});if(g(!1),p.success&&p.data){const x=p.data.slots.filter(w=>w.available).map(w=>w.datetime.slice(11,16));d(x)}else M.error(p.error||"Erro ao buscar horários")}v()},[a,s,i]),!s||!a?null:u?t.jsx("div",{className:"text-sm text-gray-500",children:"Carregando horários..."}):l.length?t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:l.map(v=>t.jsx("button",{onClick:()=>n(v),className:"px-3 py-2 rounded bg-blue-50 hover:bg-blue-100 text-blue-700 text-sm",children:v},v))}):t.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum horário disponível para a data selecionada."})};function Xi(a){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Xi(a)}function La(a){if(a===null||a===!0||a===!1)return NaN;var s=Number(a);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}function Tt(a,s){if(s.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+s.length+" present")}function jr(a){Tt(1,arguments);var s=Object.prototype.toString.call(a);return a instanceof Date||Xi(a)==="object"&&s==="[object Date]"?new Date(a.getTime()):typeof a=="number"||s==="[object Number]"?new Date(a):((typeof a=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bp(a,s){Tt(2,arguments);var n=jr(a),i=La(s);return isNaN(i)?new Date(NaN):(i&&n.setDate(n.getDate()+i),n)}function A1(a,s){Tt(2,arguments);var n=jr(a).getTime(),i=La(s);return new Date(n+i)}var M1={};function ml(){return M1}function D1(a){var s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return s.setUTCFullYear(a.getFullYear()),a.getTime()-s.getTime()}function R1(a){return Tt(1,arguments),a instanceof Date||Xi(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function O1(a){if(Tt(1,arguments),!R1(a)&&typeof a!="number")return!1;var s=jr(a);return!isNaN(Number(s))}function L1(a,s){Tt(2,arguments);var n=La(s);return A1(a,-n)}var I1=864e5;function $1(a){Tt(1,arguments);var s=jr(a),n=s.getTime();s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0);var i=s.getTime(),l=n-i;return Math.floor(l/I1)+1}function Ki(a){Tt(1,arguments);var s=1,n=jr(a),i=n.getUTCDay(),l=(i<s?7:0)+i-s;return n.setUTCDate(n.getUTCDate()-l),n.setUTCHours(0,0,0,0),n}function Hp(a){Tt(1,arguments);var s=jr(a),n=s.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var l=Ki(i),d=new Date(0);d.setUTCFullYear(n,0,4),d.setUTCHours(0,0,0,0);var u=Ki(d);return s.getTime()>=l.getTime()?n+1:s.getTime()>=u.getTime()?n:n-1}function F1(a){Tt(1,arguments);var s=Hp(a),n=new Date(0);n.setUTCFullYear(s,0,4),n.setUTCHours(0,0,0,0);var i=Ki(n);return i}var z1=6048e5;function U1(a){Tt(1,arguments);var s=jr(a),n=Ki(s).getTime()-F1(s).getTime();return Math.round(n/z1)+1}function Ji(a,s){var n,i,l,d,u,g,h,v;Tt(1,arguments);var p=ml(),x=La((n=(i=(l=(d=s?.weekStartsOn)!==null&&d!==void 0?d:s==null||(u=s.locale)===null||u===void 0||(g=u.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&l!==void 0?l:p.weekStartsOn)!==null&&i!==void 0?i:(h=p.locale)===null||h===void 0||(v=h.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&n!==void 0?n:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=jr(a),D=w.getUTCDay(),S=(D<x?7:0)+D-x;return w.setUTCDate(w.getUTCDate()-S),w.setUTCHours(0,0,0,0),w}function Vp(a,s){var n,i,l,d,u,g,h,v;Tt(1,arguments);var p=jr(a),x=p.getUTCFullYear(),w=ml(),D=La((n=(i=(l=(d=s?.firstWeekContainsDate)!==null&&d!==void 0?d:s==null||(u=s.locale)===null||u===void 0||(g=u.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:w.firstWeekContainsDate)!==null&&i!==void 0?i:(h=w.locale)===null||h===void 0||(v=h.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(x+1,0,D),S.setUTCHours(0,0,0,0);var _=Ji(S,s),k=new Date(0);k.setUTCFullYear(x,0,D),k.setUTCHours(0,0,0,0);var O=Ji(k,s);return p.getTime()>=_.getTime()?x+1:p.getTime()>=O.getTime()?x:x-1}function q1(a,s){var n,i,l,d,u,g,h,v;Tt(1,arguments);var p=ml(),x=La((n=(i=(l=(d=s?.firstWeekContainsDate)!==null&&d!==void 0?d:s==null||(u=s.locale)===null||u===void 0||(g=u.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:p.firstWeekContainsDate)!==null&&i!==void 0?i:(h=p.locale)===null||h===void 0||(v=h.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&n!==void 0?n:1),w=Vp(a,s),D=new Date(0);D.setUTCFullYear(w,0,x),D.setUTCHours(0,0,0,0);var S=Ji(D,s);return S}var B1=6048e5;function H1(a,s){Tt(1,arguments);var n=jr(a),i=Ji(n,s).getTime()-q1(n,s).getTime();return Math.round(i/B1)+1}function Be(a,s){for(var n=a<0?"-":"",i=Math.abs(a).toString();i.length<s;)i="0"+i;return n+i}var Ta={y:function(s,n){var i=s.getUTCFullYear(),l=i>0?i:1-i;return Be(n==="yy"?l%100:l,n.length)},M:function(s,n){var i=s.getUTCMonth();return n==="M"?String(i+1):Be(i+1,2)},d:function(s,n){return Be(s.getUTCDate(),n.length)},a:function(s,n){var i=s.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(s,n){return Be(s.getUTCHours()%12||12,n.length)},H:function(s,n){return Be(s.getUTCHours(),n.length)},m:function(s,n){return Be(s.getUTCMinutes(),n.length)},s:function(s,n){return Be(s.getUTCSeconds(),n.length)},S:function(s,n){var i=n.length,l=s.getUTCMilliseconds(),d=Math.floor(l*Math.pow(10,i-3));return Be(d,n.length)}},zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V1={G:function(s,n,i){var l=s.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(l,{width:"abbreviated"});case"GGGGG":return i.era(l,{width:"narrow"});case"GGGG":default:return i.era(l,{width:"wide"})}},y:function(s,n,i){if(n==="yo"){var l=s.getUTCFullYear(),d=l>0?l:1-l;return i.ordinalNumber(d,{unit:"year"})}return Ta.y(s,n)},Y:function(s,n,i,l){var d=Vp(s,l),u=d>0?d:1-d;if(n==="YY"){var g=u%100;return Be(g,2)}return n==="Yo"?i.ordinalNumber(u,{unit:"year"}):Be(u,n.length)},R:function(s,n){var i=Hp(s);return Be(i,n.length)},u:function(s,n){var i=s.getUTCFullYear();return Be(i,n.length)},Q:function(s,n,i){var l=Math.ceil((s.getUTCMonth()+1)/3);switch(n){case"Q":return String(l);case"QQ":return Be(l,2);case"Qo":return i.ordinalNumber(l,{unit:"quarter"});case"QQQ":return i.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(l,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(l,{width:"wide",context:"formatting"})}},q:function(s,n,i){var l=Math.ceil((s.getUTCMonth()+1)/3);switch(n){case"q":return String(l);case"qq":return Be(l,2);case"qo":return i.ordinalNumber(l,{unit:"quarter"});case"qqq":return i.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(l,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(l,{width:"wide",context:"standalone"})}},M:function(s,n,i){var l=s.getUTCMonth();switch(n){case"M":case"MM":return Ta.M(s,n);case"Mo":return i.ordinalNumber(l+1,{unit:"month"});case"MMM":return i.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(l,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(l,{width:"wide",context:"formatting"})}},L:function(s,n,i){var l=s.getUTCMonth();switch(n){case"L":return String(l+1);case"LL":return Be(l+1,2);case"Lo":return i.ordinalNumber(l+1,{unit:"month"});case"LLL":return i.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(l,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(l,{width:"wide",context:"standalone"})}},w:function(s,n,i,l){var d=H1(s,l);return n==="wo"?i.ordinalNumber(d,{unit:"week"}):Be(d,n.length)},I:function(s,n,i){var l=U1(s);return n==="Io"?i.ordinalNumber(l,{unit:"week"}):Be(l,n.length)},d:function(s,n,i){return n==="do"?i.ordinalNumber(s.getUTCDate(),{unit:"date"}):Ta.d(s,n)},D:function(s,n,i){var l=$1(s);return n==="Do"?i.ordinalNumber(l,{unit:"dayOfYear"}):Be(l,n.length)},E:function(s,n,i){var l=s.getUTCDay();switch(n){case"E":case"EE":case"EEE":return i.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(l,{width:"short",context:"formatting"});case"EEEE":default:return i.day(l,{width:"wide",context:"formatting"})}},e:function(s,n,i,l){var d=s.getUTCDay(),u=(d-l.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Be(u,2);case"eo":return i.ordinalNumber(u,{unit:"day"});case"eee":return i.day(d,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(d,{width:"short",context:"formatting"});case"eeee":default:return i.day(d,{width:"wide",context:"formatting"})}},c:function(s,n,i,l){var d=s.getUTCDay(),u=(d-l.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Be(u,n.length);case"co":return i.ordinalNumber(u,{unit:"day"});case"ccc":return i.day(d,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(d,{width:"narrow",context:"standalone"});case"cccccc":return i.day(d,{width:"short",context:"standalone"});case"cccc":default:return i.day(d,{width:"wide",context:"standalone"})}},i:function(s,n,i){var l=s.getUTCDay(),d=l===0?7:l;switch(n){case"i":return String(d);case"ii":return Be(d,n.length);case"io":return i.ordinalNumber(d,{unit:"day"});case"iii":return i.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(l,{width:"short",context:"formatting"});case"iiii":default:return i.day(l,{width:"wide",context:"formatting"})}},a:function(s,n,i){var l=s.getUTCHours(),d=l/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(s,n,i){var l=s.getUTCHours(),d;switch(l===12?d=zs.noon:l===0?d=zs.midnight:d=l/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(s,n,i){var l=s.getUTCHours(),d;switch(l>=17?d=zs.evening:l>=12?d=zs.afternoon:l>=4?d=zs.morning:d=zs.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(s,n,i){if(n==="ho"){var l=s.getUTCHours()%12;return l===0&&(l=12),i.ordinalNumber(l,{unit:"hour"})}return Ta.h(s,n)},H:function(s,n,i){return n==="Ho"?i.ordinalNumber(s.getUTCHours(),{unit:"hour"}):Ta.H(s,n)},K:function(s,n,i){var l=s.getUTCHours()%12;return n==="Ko"?i.ordinalNumber(l,{unit:"hour"}):Be(l,n.length)},k:function(s,n,i){var l=s.getUTCHours();return l===0&&(l=24),n==="ko"?i.ordinalNumber(l,{unit:"hour"}):Be(l,n.length)},m:function(s,n,i){return n==="mo"?i.ordinalNumber(s.getUTCMinutes(),{unit:"minute"}):Ta.m(s,n)},s:function(s,n,i){return n==="so"?i.ordinalNumber(s.getUTCSeconds(),{unit:"second"}):Ta.s(s,n)},S:function(s,n){return Ta.S(s,n)},X:function(s,n,i,l){var d=l._originalDate||s,u=d.getTimezoneOffset();if(u===0)return"Z";switch(n){case"X":return Ng(u);case"XXXX":case"XX":return ns(u);case"XXXXX":case"XXX":default:return ns(u,":")}},x:function(s,n,i,l){var d=l._originalDate||s,u=d.getTimezoneOffset();switch(n){case"x":return Ng(u);case"xxxx":case"xx":return ns(u);case"xxxxx":case"xxx":default:return ns(u,":")}},O:function(s,n,i,l){var d=l._originalDate||s,u=d.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+jg(u,":");case"OOOO":default:return"GMT"+ns(u,":")}},z:function(s,n,i,l){var d=l._originalDate||s,u=d.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+jg(u,":");case"zzzz":default:return"GMT"+ns(u,":")}},t:function(s,n,i,l){var d=l._originalDate||s,u=Math.floor(d.getTime()/1e3);return Be(u,n.length)},T:function(s,n,i,l){var d=l._originalDate||s,u=d.getTime();return Be(u,n.length)}};function jg(a,s){var n=a>0?"-":"+",i=Math.abs(a),l=Math.floor(i/60),d=i%60;if(d===0)return n+String(l);var u=s;return n+String(l)+u+Be(d,2)}function Ng(a,s){if(a%60===0){var n=a>0?"-":"+";return n+Be(Math.abs(a)/60,2)}return ns(a,s)}function ns(a,s){var n=s||"",i=a>0?"-":"+",l=Math.abs(a),d=Be(Math.floor(l/60),2),u=Be(l%60,2);return i+d+n+u}var kg=function(s,n){switch(s){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Wp=function(s,n){switch(s){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},W1=function(s,n){var i=s.match(/(P+)(p+)?/)||[],l=i[1],d=i[2];if(!d)return kg(s,n);var u;switch(l){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",kg(l,n)).replace("{{time}}",Wp(d,n))},Y1={p:Wp,P:W1},Q1=["D","DD"],X1=["YY","YYYY"];function K1(a){return Q1.indexOf(a)!==-1}function J1(a){return X1.indexOf(a)!==-1}function Sg(a,s,n){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(s,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(s,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(s,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(s,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var G1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z1=function(s,n,i){var l,d=G1[s];return typeof d=="string"?l=d:n===1?l=d.one:l=d.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+l:l+" ago":l};function qs(a){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=s.width?String(s.width):a.defaultWidth,i=a.formats[n]||a.formats[a.defaultWidth];return i}}var ej={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aj={date:qs({formats:ej,defaultWidth:"full"}),time:qs({formats:tj,defaultWidth:"full"}),dateTime:qs({formats:rj,defaultWidth:"full"})},sj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nj=function(s,n,i,l){return sj[s]};function Dr(a){return function(s,n){var i=n!=null&&n.context?String(n.context):"standalone",l;if(i==="formatting"&&a.formattingValues){var d=a.defaultFormattingWidth||a.defaultWidth,u=n!=null&&n.width?String(n.width):d;l=a.formattingValues[u]||a.formattingValues[d]}else{var g=a.defaultWidth,h=n!=null&&n.width?String(n.width):a.defaultWidth;l=a.values[h]||a.values[g]}var v=a.argumentCallback?a.argumentCallback(s):s;return l[v]}}var oj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ij={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mj=function(s,n){var i=Number(s),l=i%100;if(l>20||l<10)switch(l%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},fj={ordinalNumber:mj,era:Dr({values:oj,defaultWidth:"wide"}),quarter:Dr({values:ij,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:Dr({values:lj,defaultWidth:"wide"}),day:Dr({values:cj,defaultWidth:"wide"}),dayPeriod:Dr({values:dj,defaultWidth:"wide",formattingValues:uj,defaultFormattingWidth:"wide"})};function Rr(a){return function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,l=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],d=s.match(l);if(!d)return null;var u=d[0],g=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],h=Array.isArray(g)?pj(g,function(x){return x.test(u)}):gj(g,function(x){return x.test(u)}),v;v=a.valueCallback?a.valueCallback(h):h,v=n.valueCallback?n.valueCallback(v):v;var p=s.slice(u.length);return{value:v,rest:p}}}function gj(a,s){for(var n in a)if(a.hasOwnProperty(n)&&s(a[n]))return n}function pj(a,s){for(var n=0;n<a.length;n++)if(s(a[n]))return n}function Yp(a){return function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.match(a.matchPattern);if(!i)return null;var l=i[0],d=s.match(a.parsePattern);if(!d)return null;var u=a.valueCallback?a.valueCallback(d[0]):d[0];u=n.valueCallback?n.valueCallback(u):u;var g=s.slice(l.length);return{value:u,rest:g}}}var hj=/^(\d+)(th|st|nd|rd)?/i,xj=/\d+/i,yj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vj={any:[/^b/i,/^(a|c)/i]},bj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wj={any:[/1/i,/2/i,/3/i,/4/i]},jj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_j={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ej={ordinalNumber:Yp({matchPattern:hj,parsePattern:xj,valueCallback:function(s){return parseInt(s,10)}}),era:Rr({matchPatterns:yj,defaultMatchWidth:"wide",parsePatterns:vj,defaultParseWidth:"any"}),quarter:Rr({matchPatterns:bj,defaultMatchWidth:"wide",parsePatterns:wj,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:Rr({matchPatterns:jj,defaultMatchWidth:"wide",parsePatterns:Nj,defaultParseWidth:"any"}),day:Rr({matchPatterns:kj,defaultMatchWidth:"wide",parsePatterns:Sj,defaultParseWidth:"any"}),dayPeriod:Rr({matchPatterns:Cj,defaultMatchWidth:"any",parsePatterns:_j,defaultParseWidth:"any"})},Tj={code:"en-US",formatDistance:Z1,formatLong:aj,formatRelative:nj,localize:fj,match:Ej,options:{weekStartsOn:0,firstWeekContainsDate:1}},Pj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Aj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mj=/^'([^]*?)'?$/,Dj=/''/g,Rj=/[a-zA-Z]/;function it(a,s,n){var i,l,d,u,g,h,v,p,x,w,D,S,_,k,O,A,j,P;Tt(2,arguments);var X=String(s),ae=ml(),F=(i=(l=n?.locale)!==null&&l!==void 0?l:ae.locale)!==null&&i!==void 0?i:Tj,K=La((d=(u=(g=(h=n?.firstWeekContainsDate)!==null&&h!==void 0?h:n==null||(v=n.locale)===null||v===void 0||(p=v.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&g!==void 0?g:ae.firstWeekContainsDate)!==null&&u!==void 0?u:(x=ae.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var oe=La((D=(S=(_=(k=n?.weekStartsOn)!==null&&k!==void 0?k:n==null||(O=n.locale)===null||O===void 0||(A=O.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&_!==void 0?_:ae.weekStartsOn)!==null&&S!==void 0?S:(j=ae.locale)===null||j===void 0||(P=j.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&D!==void 0?D:0);if(!(oe>=0&&oe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var W=jr(a);if(!O1(W))throw new RangeError("Invalid time value");var fe=D1(W),he=L1(W,fe),ve={firstWeekContainsDate:K,weekStartsOn:oe,locale:F,_originalDate:W},Se=X.match(Aj).map(function(Ce){var ue=Ce[0];if(ue==="p"||ue==="P"){var me=Y1[ue];return me(Ce,F.formatLong)}return Ce}).join("").match(Pj).map(function(Ce){if(Ce==="''")return"'";var ue=Ce[0];if(ue==="'")return Oj(Ce);var me=V1[ue];if(me)return!(n!=null&&n.useAdditionalWeekYearTokens)&&J1(Ce)&&Sg(Ce,s,String(a)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&K1(Ce)&&Sg(Ce,s,String(a)),me(he,Ce,F.localize,ve);if(ue.match(Rj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ue+"`");return Ce}).join("");return Se}function Oj(a){var s=a.match(Mj);return s?s[1].replace(Dj,"'"):a}var Lj={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Ij=function(s,n,i){var l,d=Lj[s];return typeof d=="string"?l=d:n===1?l=d.one:l=d.other.replace("{{count}}",String(n)),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"em "+l:"há "+l:l},$j={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Fj={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zj={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uj={date:qs({formats:$j,defaultWidth:"full"}),time:qs({formats:Fj,defaultWidth:"full"}),dateTime:qs({formats:zj,defaultWidth:"full"})},qj={lastWeek:function(s){var n=s.getUTCDay(),i=n===0||n===6?"último":"última";return"'"+i+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Bj=function(s,n,i,l){var d=qj[s];return typeof d=="function"?d(n):d},Hj={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Vj={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Wj={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Yj={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Qj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Xj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Kj=function(s,n){var i=Number(s);return n?.unit==="week"?i+"ª":i+"º"},Jj={ordinalNumber:Kj,era:Dr({values:Hj,defaultWidth:"wide"}),quarter:Dr({values:Vj,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:Dr({values:Wj,defaultWidth:"wide"}),day:Dr({values:Yj,defaultWidth:"wide"}),dayPeriod:Dr({values:Qj,defaultWidth:"wide",formattingValues:Xj,defaultFormattingWidth:"wide"})},Gj=/^(\d+)[ºªo]?/i,Zj=/\d+/i,eN={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},tN={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},rN={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},aN={any:[/1/i,/2/i,/3/i,/4/i]},sN={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},nN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},oN={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},iN={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},lN={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},cN={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},dN={ordinalNumber:Yp({matchPattern:Gj,parsePattern:Zj,valueCallback:function(s){return parseInt(s,10)}}),era:Rr({matchPatterns:eN,defaultMatchWidth:"wide",parsePatterns:tN,defaultParseWidth:"any"}),quarter:Rr({matchPatterns:rN,defaultMatchWidth:"wide",parsePatterns:aN,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:Rr({matchPatterns:sN,defaultMatchWidth:"wide",parsePatterns:nN,defaultParseWidth:"any"}),day:Rr({matchPatterns:oN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),dayPeriod:Rr({matchPatterns:lN,defaultMatchWidth:"any",parsePatterns:cN,defaultParseWidth:"any"})},Zr={code:"pt-BR",formatDistance:Ij,formatLong:Uj,formatRelative:Bj,localize:Jj,match:dN,options:{weekStartsOn:0,firstWeekContainsDate:1}};const uN=()=>{const[a,s]=y.useState([]),[n,i]=y.useState(null),[l,d]=y.useState(!1),[u,g]=y.useState(1),[h,v]=y.useState({medicoId:"",data:"",horario:"",tipoConsulta:"primeira-vez",motivoConsulta:"",observacoes:""}),p=Nt();y.useEffect(()=>{const j=localStorage.getItem("pacienteLogado");if(!j){console.log("[AgendamentoPaciente] Paciente não logado, redirecionando..."),p("/paciente");return}try{const P=JSON.parse(j);console.log("[AgendamentoPaciente] Paciente logado:",P),i(P),x()}catch(P){console.error("[AgendamentoPaciente] Erro ao carregar dados do paciente:",P),p("/paciente")}},[p]);const x=async()=>{try{console.log("[AgendamentoPaciente] Iniciando busca de médicos...");const P=(await jt(async()=>{const{default:K}=await Promise.resolve().then(()=>Oa);return{default:K}},void 0)).default.getAccessToken();console.log("[AgendamentoPaciente] Token disponível:",P?"SIM":"NÃO"),P||console.warn("[AgendamentoPaciente] Nenhum token encontrado - requisição pode falhar");const X=await vr.listarMedicos({status:"ativo"});if(console.log("[AgendamentoPaciente] Resposta da API:",X),!X.success){console.error("[AgendamentoPaciente] Erro na resposta:",X.error),M.error(X.error||"Erro ao carregar médicos");return}const ae=X.data?.data||[];console.log("[AgendamentoPaciente] Médicos recebidos:",ae.length,ae);const F=ae.map(K=>({_id:K.id||Math.random().toString(36).slice(2,9),nome:K.nome||"",especialidade:K.especialidade||"",valorConsulta:0,horarioAtendimento:{}}));console.log("[AgendamentoPaciente] Médicos mapeados:",F),s(F),F.length===0&&(X.error&&X.error.includes("404")?M.error("⚠️ Tabela de médicos não existe no banco de dados. Configure o Supabase primeiro.",{duration:6e3}):M.error("Nenhum médico ativo encontrado. Por favor, cadastre médicos primeiro."))}catch(j){console.error("[AgendamentoPaciente] Erro ao carregar médicos:",j),M.error("Erro ao carregar lista de médicos")}},w=j=>{v(P=>({...P,medicoId:j,data:"",horario:""}))},D=j=>{v(P=>({...P,data:j,horario:""}))},S=async()=>{if(n)try{d(!0);const j=new Date(`${h.data}T${h.horario}:00.000Z`);await ds.createAppointment({patient_id:n._id,doctor_id:h.medicoId,scheduled_at:j.toISOString(),appointment_type:"presencial",chief_complaint:h.motivoConsulta}),M.success("Consulta agendada com sucesso!"),g(4)}catch(j){console.error("Erro ao agendar consulta:",j),M.error("Erro ao agendar consulta. Tente novamente.")}finally{d(!1)}},_=()=>{v({medicoId:"",data:"",horario:"",tipoConsulta:"primeira-vez",motivoConsulta:"",observacoes:""}),g(1)},k=()=>{localStorage.removeItem("pacienteLogado"),p("/paciente")},O=()=>{const j=[];for(let P=1;P<=7;P++){const X=Bp(new Date,P);j.push({valor:it(X,"yyyy-MM-dd"),label:it(X,"EEEE, dd/MM",{locale:Zr})})}return j},A=a.find(j=>j._id===h.medicoId);return n?u===4?t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[t.jsx(Bi,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Consulta Agendada com Sucesso!"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 text-left",children:[t.jsx("h3",{className:"font-semibold mb-3",children:"Detalhes do Agendamento:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Paciente:"})," ",n.nome]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Médico:"})," ",A?.nome]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Especialidade:"})," ",A?.especialidade]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Data:"})," ",it(new Date(h.data),"dd/MM/yyyy",{locale:Zr})]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Horário:"})," ",h.horario]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Tipo:"})," ",h.tipoConsulta]}),h.motivoConsulta&&t.jsxs("p",{children:[t.jsx("strong",{children:"Motivo:"})," ",h.motivoConsulta]})]})]}),t.jsx("button",{onClick:_,className:"btn-primary",children:"Fazer Novo Agendamento"})]})}):t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-700 to-blue-500 rounded-xl p-6 mb-8 text-white shadow",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Bem-vindo(a), ",n.nome,"!"]}),t.jsx("p",{className:"opacity-90",children:"Agende sua consulta médica"})]}),t.jsxs("button",{onClick:k,className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/70",children:[t.jsx(Zn,{className:"w-4 h-4"}),t.jsx("span",{children:"Sair"})]})]})}),t.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3].map(j=>t.jsxs(Ue.Fragment,{children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=j?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:j}),j<3&&t.jsx("div",{className:`w-16 h-1 ${u>j?"bg-blue-600":"bg-gray-300"}`})]},j))}),t.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200 p-6",children:[u===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[t.jsx(Bs,{className:"w-5 h-5 mr-2"}),"Selecione o Médico"]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Médico/Especialidade"}),t.jsxs("select",{value:h.medicoId,onChange:j=>w(j.target.value),className:"form-input",required:!0,children:[t.jsx("option",{value:"",children:"Selecione um médico"}),a.map(j=>t.jsxs("option",{value:j._id,children:[j.nome," - ",j.especialidade," (R$"," ",j.valorConsulta,")"]},j._id))]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>g(2),disabled:!h.medicoId,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Próximo"})})]}),u===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[t.jsx(Dt,{className:"w-5 h-5 mr-2"}),"Selecione Data e Horário"]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data da Consulta"}),t.jsxs("select",{value:h.data,onChange:j=>D(j.target.value),className:"form-input",required:!0,children:[t.jsx("option",{value:"",children:"Selecione uma data"}),O().map(j=>t.jsx("option",{value:j.valor,children:j.label},j.valor))]})]}),h.data&&h.medicoId&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horários Disponíveis"}),t.jsx(qp,{doctorId:h.medicoId,date:h.data,onSelect:j=>v(P=>({...P,horario:j}))})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:()=>g(1),className:"btn-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",children:"Voltar"}),t.jsx("button",{onClick:()=>g(3),disabled:!h.horario,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Próximo"})]})]}),u===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[t.jsx(Js,{className:"w-5 h-5 mr-2"}),"Informações da Consulta"]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Consulta"}),t.jsxs("select",{value:h.tipoConsulta,onChange:j=>v(P=>({...P,tipoConsulta:j.target.value})),className:"form-input",children:[t.jsx("option",{value:"primeira-vez",children:"Primeira Consulta"}),t.jsx("option",{value:"retorno",children:"Retorno"}),t.jsx("option",{value:"urgencia",children:"Urgência"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo da Consulta"}),t.jsx("textarea",{value:h.motivoConsulta,onChange:j=>v(P=>({...P,motivoConsulta:j.target.value})),className:"form-input",rows:3,placeholder:"Descreva brevemente o motivo da consulta"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações (opcional)"}),t.jsx("textarea",{value:h.observacoes,onChange:j=>v(P=>({...P,observacoes:j.target.value})),className:"form-input",rows:2,placeholder:"Informações adicionais relevantes"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("h3",{className:"font-semibold mb-3",children:"Resumo do Agendamento:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Paciente:"})," ",n.nome]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Médico:"})," ",A?.nome]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Data:"})," ",it(new Date(h.data),"dd/MM/yyyy",{locale:Zr})]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Horário:"})," ",h.horario]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Valor:"})," R$ ",A?.valorConsulta]})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:()=>g(2),className:"btn-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",children:"Voltar"}),t.jsx("button",{onClick:S,disabled:l,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:l?"Agendando...":"Confirmar Agendamento"})]})]})]})]}):t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})},Ar="consultasLocais";class mN{getConsultas(s){try{const n=localStorage.getItem(Ar);return n?JSON.parse(n).filter(l=>l.pacienteId===s):[]}catch(n){return console.error("Erro ao carregar consultas locais:",n),[]}}saveConsulta(s){try{const n=localStorage.getItem(Ar),i=n?JSON.parse(n):[],l={...s,id:`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return i.push(l),localStorage.setItem(Ar,JSON.stringify(i)),l}catch(n){throw console.error("Erro ao salvar consulta local:",n),new Error("Erro ao salvar consulta")}}updateStatus(s,n){try{const i=localStorage.getItem(Ar);if(!i)return!1;const l=JSON.parse(i),d=l.findIndex(u=>u.id===s);return d===-1?!1:(l[d].status=n,localStorage.setItem(Ar,JSON.stringify(l)),!0)}catch(i){return console.error("Erro ao atualizar status da consulta:",i),!1}}deleteConsulta(s){try{const n=localStorage.getItem(Ar);if(!n)return!1;const l=JSON.parse(n).filter(d=>d.id!==s);return localStorage.setItem(Ar,JSON.stringify(l)),!0}catch(n){return console.error("Erro ao deletar consulta:",n),!1}}getConsulta(s){try{const n=localStorage.getItem(Ar);return n&&JSON.parse(n).find(l=>l.id===s)||null}catch(n){return console.error("Erro ao buscar consulta:",n),null}}clearConsultas(s){try{const n=localStorage.getItem(Ar);if(!n)return;const l=JSON.parse(n).filter(d=>d.pacienteId!==s);localStorage.setItem(Ar,JSON.stringify(l))}catch(n){console.error("Erro ao limpar consultas:",n)}}}const Dd=new mN;function fN({medico:a}){const[s,n]=y.useState(null),[i,l]=y.useState(""),[d,u]=y.useState(""),[g,h]=y.useState(!1),v=async()=>{try{if(!a||!s){M.error("Selecione um médico e uma data válida.");return}const p="default",x=it(s,"yyyy-MM-dd")+"T"+i+":00";Dd.saveConsulta({medicoId:a.id,medicoNome:a.nome,especialidade:a.especialidade,dataHora:x,tipo:"presencial",motivo:d.trim(),status:"agendada",valorConsulta:a.valorConsulta||0,pacienteId:p}),await new Promise(w=>setTimeout(w,1500)),M.success("Consulta agendada com sucesso!"),n(null),l(""),u("")}catch(p){console.error("Erro ao agendar consulta:",p),M.error("Erro ao agendar consulta. Tente novamente.")}finally{h(!1)}};return t.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Agendar Consulta"}),a?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{children:"Data:"}),t.jsxs("select",{value:s?.toISOString()||"",onChange:p=>n(p.target.value?new Date(p.target.value):null),children:[t.jsx("option",{value:"",children:"Selecione uma data"}),Array.from({length:30},(p,x)=>{const w=Bp(new Date,x+1);return w.getDay()===0?null:t.jsx("option",{value:w.toISOString(),children:w.toLocaleDateString()},w.toISOString())})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{children:"Horário:"}),t.jsx("input",{value:i,onChange:p=>l(p.target.value),placeholder:"Ex: 09:00"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{children:"Motivo:"}),t.jsx("input",{value:d,onChange:p=>u(p.target.value),placeholder:"Motivo da consulta"})]}),t.jsx("button",{onClick:v,disabled:g,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Agendar"})]}):t.jsx("div",{className:"text-red-600",children:"Médico não encontrado."})]})}const gN=()=>{const{user:a,roles:s=[],logout:n}=tr(),i=Nt(),[l,d]=y.useState("dashboard"),[u,g]=y.useState([]),[h,v]=y.useState([]),[p,x]=y.useState(!0),[w,D]=y.useState(""),[S,_]=y.useState(!0),[k,O]=y.useState(""),A=a?.id||"",j=a?.nome||"Paciente";y.useEffect(()=>{const U=a?.role==="paciente"||s.includes("paciente");(!a||!U)&&i("/paciente")},[a,s,i]);const P=y.useCallback(async()=>{if(A){_(!0),x(!0);try{const U=await Md.listarConsultas({paciente_id:A}),le=await vr.listarMedicos({});le.success&&le.data&&v(le.data.data),x(!1);let de=[];U.success&&U.data&&(de=(Array.isArray(U.data)?U.data:U.data.data||[]).map(et=>({_id:et._id||et.id,pacienteId:et.pacienteId,medicoId:et.medicoId,dataHora:et.dataHora,status:et.status||"agendada",tipoConsulta:et.tipoConsulta||et.tipo||"presencial",motivoConsulta:et.motivoConsulta||et.observacoes||"Consulta médica",observacoes:et.observacoes,resultados:et.resultados,prescricoes:et.prescricoes,proximaConsulta:et.proximaConsulta})));const Ae=Dd.getConsultas(A).map($e=>({_id:$e.id,pacienteId:$e.pacienteId,medicoId:$e.medicoId,dataHora:$e.dataHora,status:$e.status,tipoConsulta:$e.tipo,motivoConsulta:$e.motivo,observacoes:$e.motivo,medicoNome:$e.medicoNome,especialidade:$e.especialidade,valorConsulta:$e.valorConsulta})),He=[...de,...Ae];g(He)}catch(U){x(!1),console.error("Erro ao carregar consultas:",U),M.error("Erro ao carregar consultas");try{const de=Dd.getConsultas(A).map(J=>({_id:J.id,pacienteId:J.pacienteId,medicoId:J.medicoId,dataHora:J.dataHora,status:J.status,tipoConsulta:J.tipo,motivoConsulta:J.motivo,observacoes:J.motivo,medicoNome:J.medicoNome,especialidade:J.especialidade,valorConsulta:J.valorConsulta}));g(de)}catch(le){console.error("Erro ao carregar consultas locais:",le),g([])}}finally{_(!1)}}},[A]);y.useEffect(()=>{P()},[P]),y.useEffect(()=>{l==="appointments"&&P()},[l,P]);const X=U=>h.find(de=>de._id===U||de.id===U)?.nome||"Médico",ae=U=>h.find(de=>de._id===U||de.id===U)?.especialidade||"Especialidade",F=()=>{d("book"),M.success("Selecione um novo horário para remarcar sua consulta")},K=async U=>{if(window.confirm("Tem certeza que deseja cancelar esta consulta?"))try{await Md.atualizarConsulta(U,{status:"cancelada"}),M.success("Consulta cancelada com sucesso"),P()}catch(le){console.error("Erro ao cancelar consulta:",le),M.error("Erro ao cancelar consulta. Tente novamente.")}},oe=u.filter(U=>U.status==="agendada"||U.status==="confirmada").sort((U,le)=>new Date(U.dataHora).getTime()-new Date(le.dataHora).getTime()).slice(0,3),W=u.filter(U=>U.status==="realizada").sort((U,le)=>new Date(le.dataHora).getTime()-new Date(U.dataHora).getTime()).slice(0,5),fe=U=>{switch(U){case"confirmada":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"agendada":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"realizada":return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/30 dark:text-gray-300 dark:border-gray-800";case"cancelada":case"faltou":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/30 dark:text-gray-300 dark:border-gray-800"}},he=U=>{switch(U){case"confirmada":return"Confirmada";case"agendada":return"Agendada";case"realizada":return"Concluída";case"cancelada":return"Cancelada";case"faltou":return"Não Compareceu";default:return U}},ve=U=>{switch(U){case"confirmada":return t.jsx(Bi,{className:"h-4 w-4"});case"agendada":return t.jsx(br,{className:"h-4 w-4"});case"cancelada":case"faltou":return t.jsx(jd,{className:"h-4 w-4"});default:return t.jsx(no,{className:"h-4 w-4"})}},Se=[{id:"dashboard",label:"Início",icon:dp},{id:"appointments",label:"Minhas Consultas",icon:Dt},{id:"book",label:"Agendar Consulta",icon:Da},{id:"messages",label:"Mensagens",icon:Hi},{id:"help",label:"Ajuda",icon:wd},{id:"profile",label:"Meu Perfil",icon:Bs}],Ce=()=>t.jsxs("div",{className:"w-64 h-screen bg-white dark:bg-slate-900 border-r border-gray-200 dark:border-slate-700 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-700 to-blue-400 flex items-center justify-center text-white font-semibold text-lg",children:j.split(" ").map(U=>U[0]).join("").toUpperCase().slice(0,2)}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paciente"})]})]})}),t.jsx("nav",{className:"flex-1 p-4",children:t.jsx("div",{className:"space-y-1",children:Se.map(U=>{const le=U.icon,de=l===U.id;return t.jsxs("button",{onClick:()=>{U.id==="help"?i("/ajuda"):d(U.id)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${de?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:[t.jsx(le,{className:"h-5 w-5"}),U.label]},U.id)})})}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:t.jsxs("button",{onClick:()=>{n(),i("/paciente")},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",children:[t.jsx(Zn,{className:"h-5 w-5"}),"Sair"]})})]}),ue=(U,le,de,J)=>{const Ae=de;return t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U}),t.jsx(Ae,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})]}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:le}),J&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:J})]})},me=(U,le=!1)=>{const de=U.medicoNome||X(U.medicoId),J=U.especialidade||ae(U.medicoId);return t.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:de.split(" ").map(Ae=>Ae[0]).join("").toUpperCase().slice(0,2)}),t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:de}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:J})]}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium border ${fe(U.status)}`,children:[ve(U.status),he(U.status)]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Dt,{className:"h-4 w-4"}),t.jsx("span",{children:it(new Date(U.dataHora),"dd/MM/yyyy",{locale:Zr})})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(br,{className:"h-4 w-4"}),t.jsx("span",{children:it(new Date(U.dataHora),"HH:mm",{locale:Zr})})]}),t.jsx("div",{className:"flex items-center gap-1",children:U.tipoConsulta==="online"||U.tipoConsulta==="telemedicina"?t.jsxs(t.Fragment,{children:[t.jsx(Vs,{className:"h-4 w-4"}),t.jsx("span",{children:"Online"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Yd,{className:"h-4 w-4"}),t.jsx("span",{children:"Presencial"})]})})]}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Motivo: ",U.motivoConsulta]}),!le&&U.status!=="cancelada"&&t.jsxs("div",{className:"flex gap-2",children:[U.status==="confirmada"&&(U.tipoConsulta==="online"||U.tipoConsulta==="telemedicina")&&t.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(Vs,{className:"h-4 w-4"}),"Entrar na Consulta"]}),t.jsx("button",{onClick:F,className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Remarcar"}),t.jsxs("button",{onClick:()=>K(U._id),className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500",children:[t.jsx(jd,{className:"h-4 w-4"}),"Cancelar"]})]})]})]},U._id)},Y=()=>{const U=oe[0];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Bem-vindo, ",j.split(" ")[0],"!"]}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie suas consultas e cuide da sua saúde"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ue("Próxima Consulta",U?it(new Date(U.dataHora),"dd MMM",{locale:Zr}):"Nenhuma",Dt,U?`${ae(U.medicoId)} - ${it(new Date(U.dataHora),"HH:mm")}`:"Agende uma consulta"),ue("Consultas Agendadas",oe.length,br,"Este mês"),ue("Médicos Favoritos",new Set(u.map(le=>le.medicoId)).size,Da,"Salvos")]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Próximas Consultas"}),t.jsx("button",{onClick:()=>d("appointments"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 rounded px-2 py-1",children:"Ver todas"})]})}),t.jsx("div",{className:"p-6",children:S?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"})}):oe.length===0?t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Nenhuma consulta agendada"}):t.jsx("div",{className:"space-y-4",children:oe.map(le=>t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:t.jsx(Dt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:X(le.medicoId)}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:ae(le.medicoId)}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:it(new Date(le.dataHora),"dd/MM/yyyy - HH:mm",{locale:Zr})})]})]},le._id))})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ações Rápidas"})}),t.jsxs("div",{className:"p-6 space-y-2",children:[t.jsxs("button",{onClick:()=>d("book"),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-900 dark:text-white bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(Dt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),t.jsx("span",{children:"Agendar Nova Consulta"})]}),t.jsxs("button",{onClick:()=>d("messages"),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-900 dark:text-white bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(Hi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),t.jsx("span",{children:"Mensagens"})]}),t.jsxs("button",{onClick:()=>d("profile"),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-900 dark:text-white bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(Bs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),t.jsx("span",{children:"Editar Perfil"})]}),t.jsxs("button",{onClick:()=>i("/ajuda"),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-900 dark:text-white bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(wd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),t.jsx("span",{children:"Central de Ajuda"})]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Dicas de Saúde"})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"💧 Hidratação"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Beba pelo menos 2 litros de água por dia para manter seu corpo hidratado"})]}),t.jsxs("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"🏃 Exercícios"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"30 minutos de atividade física diária ajudam a prevenir doenças"})]})]})})]})]})},q=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Minhas Consultas"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Visualize e gerencie todas as suas consultas"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Próximas Consultas"})}),t.jsx("div",{className:"p-6",children:S?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"})}):oe.length===0?t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Nenhuma consulta agendada"}):t.jsx("div",{className:"space-y-4",children:oe.map(U=>me(U))})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Histórico"})}),t.jsx("div",{className:"p-6",children:W.length===0?t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Nenhuma consulta realizada"}):t.jsx("div",{className:"space-y-4",children:W.map(U=>me(U,!0))})})]})]}),Q=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Agendar Nova Consulta"}),t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("div",{className:"flex gap-8",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white font-bold",children:"1"}),t.jsx("span",{className:"text-xs mt-2",children:"Escolha o médico"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 text-gray-500 font-bold",children:"2"}),t.jsx("span",{className:"text-xs mt-2",children:"Horário"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 text-gray-500 font-bold",children:"3"}),t.jsx("span",{className:"text-xs mt-2",children:"Confirmação"})]})]})}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Escolha um Médico"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"mr-2 font-medium",children:"Escolha a especialidade:"}),t.jsxs("select",{className:"border rounded px-2 py-1",value:k,onChange:U=>O(U.target.value),children:[t.jsx("option",{value:"",children:"Selecione..."}),t.jsx("option",{value:"__all__",children:"Todas"}),Array.from(new Set(h.map(U=>U.especialidade).filter(Boolean))).sort().map(U=>t.jsx("option",{value:U,children:U},U))]})]}),p?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"})}):t.jsx("div",{className:"space-y-4",children:(k==="__all__"?h:k?h.filter(U=>U.especialidade===k):[]).length===0?t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Nenhum médico disponível"}):(k==="__all__"?h:k?h.filter(U=>U.especialidade===k):[]).map(U=>t.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg px-6 py-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx(Da,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:U.nome}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.especialidade}),t.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CRM/SP ",U.crm]})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-green-600 font-bold text-lg",children:["R$ ",U.valorConsulta]}),t.jsx("button",{className:`px-6 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${w===(U.id||U._id)?"ring-2 ring-blue-500":""}`,onClick:()=>D(U.id||U._id||""),children:"Selecionar"})]})]},U.id||U._id))}),w&&(()=>{const U=h.find(de=>de.id===w||de._id===w),le=U?{id:U.id||U._id||"",nome:U.nome,especialidade:U.especialidade,crm:U.crm||"",valorConsulta:U.valorConsulta||U.valor_consulta||0}:null;return t.jsx(fN,{medico:le})})()]}),C=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mensagens"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Converse com seus médicos"})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:t.jsx("p",{className:"text-center py-16 text-gray-600 dark:text-gray-400",children:"Sistema de mensagens em desenvolvimento"})})]}),$=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Central de Ajuda"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Como podemos ajudar você?"})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:t.jsx("p",{className:"text-center py-16 text-gray-600 dark:text-gray-400",children:"Central de ajuda em desenvolvimento"})})]}),re=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Meu Perfil"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie suas informações pessoais"})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:t.jsx("p",{className:"text-center py-16 text-gray-600 dark:text-gray-400",children:"Edição de perfil em desenvolvimento"})})]}),ie=()=>{switch(l){case"dashboard":return Y();case"appointments":return q();case"book":return Q();case"messages":return C();case"help":return $();case"profile":return re();default:return null}};return a?t.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-slate-950",children:[Ce(),t.jsx("main",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"container mx-auto p-8",children:ie()})})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Acesso Negado"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Você precisa estar logado para acessar esta página."}),t.jsx("button",{onClick:()=>i("/paciente"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Fazer Login"})]})})};class pN{async createUser(s){try{console.log("[userService] Criando usuário:",{email:s.email,full_name:s.full_name,role:s.role});const n=await Ie.post("/functions/v1/create-user",s);return console.log("[userService] Resposta:",n.data),n.data.success&&n.data.user?{success:!0,data:n.data.user}:{success:!1,error:"Falha ao criar usuário"}}catch(n){console.error("[userService] Erro ao criar usuário:",n);const i=n;return{success:!1,error:i?.response?.data?.error||i?.response?.data?.message||i?.message||"Erro ao criar usuário"}}}async createMedico(s){return this.createUser({email:s.email,password:s.password,full_name:s.nome,phone:s.telefone||null,role:"medico"})}async createSecretaria(s){return this.createUser({email:s.email,password:s.password,full_name:s.nome,phone:s.telefone||null,role:"secretaria"})}async createPaciente(s){return this.createUser({email:s.email,password:s.password,full_name:s.nome,phone:s.telefone||null,role:"user"})}async signupPaciente(s){try{console.log("[userService] Cadastro público de paciente:",{email:s.email,nome:s.nome});const n=await Ie.post("/auth/v1/signup",{email:s.email,password:s.password,data:{full_name:s.nome,phone:s.telefone,cpf:s.cpf,data_nascimento:s.dataNascimento,endereco:s.endereco,role:"paciente"}});return console.log("[userService] Paciente cadastrado via signup:",n.data),{success:!0,data:n.data}}catch(n){console.error("[userService] Erro no signup de paciente:",n);const i=n;return{success:!1,error:i?.response?.data?.error_description||i?.response?.data?.error||i?.response?.data?.message||i?.message||"Erro ao cadastrar paciente"}}}}const fl=new pN,hN=()=>{const[a,s]=y.useState([]),[n,i]=y.useState(!0),[l,d]=y.useState(""),[u,g]=y.useState(!1),[h,v]=y.useState(null),[p,x]=y.useState({nome:"",cpf:"",telefone:"",email:"",dataNascimento:"",altura:"",peso:"",endereco:{rua:"",numero:"",bairro:"",cidade:"",cep:""},convenio:"",numeroCarteirinha:"",observacoes:""}),w=async()=>{try{i(!0);const j=await Fa();s(j.data.map(P=>({_id:P.id,nome:P.nome,cpf:P.cpf,telefone:P.telefone,email:P.email,dataNascimento:P.dataNascimento,altura:P.alturaM?Math.round(P.alturaM*100):void 0,peso:P.pesoKg,endereco:{rua:P.endereco?.rua,numero:P.endereco?.numero,bairro:P.endereco?.bairro,cidade:P.endereco?.cidade,cep:P.endereco?.cep},convenio:P.convenio,numeroCarteirinha:P.numeroCarteirinha,observacoes:P.observacoes||void 0,criadoEm:P.created_at})))}catch(j){console.error("Erro ao carregar pacientes:",j),M.error("Erro ao carregar lista de pacientes")}finally{i(!1)}};y.useEffect(()=>{w()},[]);const D=(j,P)=>{if(!j||!P)return null;const X=j/100;return(P/(X*X)).toFixed(1)},S=j=>j<18.5?{status:"Abaixo do peso",color:"text-blue-600"}:j<25?{status:"Peso normal",color:"text-green-600"}:j<30?{status:"Sobrepeso",color:"text-yellow-600"}:{status:"Obesidade",color:"text-red-600"},_=async j=>{j.preventDefault();try{i(!0);const P={...p,altura:p.altura?parseFloat(p.altura):void 0,peso:p.peso?parseFloat(p.peso):void 0,ativo:!0,criadoPor:"secretaria",criadoEm:new Date().toISOString(),atualizadoEm:new Date().toISOString()};if(h?(await mo(h._id,P),M.success("Paciente atualizado com sucesso!")):(await uo(P),M.success("Paciente cadastrado com sucesso!")),!h&&p.email&&p.nome)try{const X=Math.random().toString(36).slice(-10)+"!A1",ae=await fl.createSecretaria({nome:p.nome,email:p.email,password:X,telefone:p.telefone});ae.success?(M.success("Secretária criada (fluxo real). Senha temporária gerada."),console.info("[CadastroSecretaria] Secretária criada: ",ae.data?.id)):M.error("Falha ao criar secretária (fluxo real): "+(ae.error||"erro desconhecido"))}catch(X){console.warn("Falha inesperada ao criar secretária:",X),M.error("Erro inesperado ao criar secretária")}v(null),g(!1)}catch(P){console.error("Erro ao salvar paciente:",P),M.error("Erro ao salvar paciente. Tente novamente.")}finally{i(!1)}},k=j=>{x({nome:j.nome||"",cpf:j.cpf||"",telefone:j.telefone||"",email:j.email||"",dataNascimento:j.dataNascimento?j.dataNascimento.split("T")[0]:"",altura:j.altura?.toString()||"",peso:j.peso?.toString()||"",endereco:{rua:j.endereco?.rua||"",numero:j.endereco?.numero||"",bairro:j.endereco?.bairro||"",cidade:j.endereco?.cidade||"",cep:j.endereco?.cep||""},convenio:j.convenio||"",numeroCarteirinha:j.numeroCarteirinha||"",observacoes:j.observacoes||""}),v(j),g(!0)},O=async j=>{if(window.confirm("Tem certeza que deseja excluir este paciente?"))try{await fo(j),M.success("Paciente removido com sucesso!"),w()}catch(P){console.error("Erro ao remover paciente:",P),M.error("Erro ao remover paciente")}},A=a.filter(j=>(j.nome||"").toLowerCase().includes(l.toLowerCase())||(j.cpf||"").includes(l)||(j.telefone||"").includes(l));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cadastro de Pacientes"}),t.jsx("p",{className:"text-gray-600",children:"Gerencie o cadastro de pacientes da clínica"})]}),t.jsxs("button",{onClick:()=>g(!0),className:"btn-primary mt-4 md:mt-0 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:[t.jsx(eo,{className:"w-5 h-5 mr-2"}),"Novo Paciente"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-gradient-to-l from-blue-700 to-blue-400 rounded-full",children:t.jsx(Hs,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Pacientes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:t.jsx(Js,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Com Convênio"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(j=>j.convenio&&j.convenio!=="Particular").length})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:t.jsx(eo,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cadastros Hoje"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(j=>{const P=new Date().toISOString().split("T")[0];return j.criadoEm?.startsWith(P)}).length})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:t.jsx(sp,{className:"w-6 h-6 text-orange-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Com Dados Físicos"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(j=>j.altura&&j.peso).length})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF ou telefone...",value:l,onChange:j=>d(j.target.value),className:"pl-10 form-input"})]})}),n?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"sticky top-0 z-10 bg-gradient-to-l from-blue-700 to-blue-400",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Paciente"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Contato"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Dados Físicos"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Convênio"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Ações"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(j=>{const P=D(j.altura,j.peso),X=P?S(parseFloat(P)):null;return t.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 hover:bg-gray-100",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nome||"Nome não informado"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["CPF: ",j.cpf||"Não informado"]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Nascimento:"," ",j.dataNascimento?it(new Date(j.dataNascimento),"dd/MM/yyyy"):"Não informado"]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[t.jsx(rl,{className:"w-4 h-4 mr-2 text-gray-400"}),j.telefone||"Não informado"]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[t.jsx(Gs,{className:"w-4 h-4 mr-2 text-gray-400"}),j.email||"Não informado"]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(Yd,{className:"w-4 h-4 mr-2 text-gray-400"}),j.endereco?.cidade||"Cidade não informada"]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"space-y-1",children:[j.altura&&t.jsxs("div",{className:"text-sm text-gray-900",children:["Altura: ",j.altura," cm"]}),j.peso&&t.jsxs("div",{className:"text-sm text-gray-900",children:["Peso: ",j.peso," kg"]}),P&&X&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"IMC: "}),t.jsxs("span",{className:`font-medium ${X.color}`,children:[P," (",X.status,")"]})]}),!j.altura&&!j.peso&&t.jsx("div",{className:"text-sm text-gray-400",children:"Dados não informados"})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:j.convenio||"Não informado"}),j.numeroCarteirinha&&t.jsxs("div",{className:"text-sm text-gray-500",children:["Carteirinha: ",j.numeroCarteirinha]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>k(j),className:"inline-flex items-center p-1.5 rounded-lg text-blue-600 hover:text-blue-900 hover:bg-blue-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500","aria-label":"Editar paciente",children:t.jsx(Xn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>O(j._id),className:"inline-flex items-center p-1.5 rounded-lg text-red-600 hover:text-red-900 hover:bg-red-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500","aria-label":"Excluir paciente",children:t.jsx(Ra,{className:"w-4 h-4"})})]})})]},j._id)})})]})})}),u&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"cadastro-secretaria-title",children:t.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{id:"cadastro-secretaria-title",className:"text-lg font-semibold mb-6",children:h?"Editar Paciente":"Novo Paciente"}),t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),t.jsx("input",{type:"text",value:p.nome,onChange:j=>x({...p,nome:j.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF"}),t.jsx("input",{type:"text",value:p.cpf,onChange:j=>{let P=j.target.value.replace(/\D/g,"");P.length>11&&(P=P.slice(0,11)),P=P.replace(/(\d{3})(\d)/,"$1.$2"),P=P.replace(/(\d{3})(\d)/,"$1.$2"),P=P.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),x({...p,cpf:P})},className:"form-input",placeholder:"000.000.000-00",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),t.jsx("input",{type:"tel",value:p.telefone,onChange:j=>{let P=j.target.value.replace(/\D/g,"");P.length>13&&(P=P.slice(0,13)),P.length>=2&&(P="+55 "+P),P.length>=4&&(P=P.replace(/(\+55 )(\d{2})(\d)/,"$1$2 $3")),P.length>=9&&(P=P.replace(/(\+55 \d{2} )(\d{5})(\d{4})/,"$1$2-$3")),x({...p,telefone:P})},className:"form-input",placeholder:"+55 XX XXXXX-XXXX",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:p.email,onChange:j=>x({...p,email:j.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),t.jsx("input",{type:"date",value:p.dataNascimento,onChange:j=>x({...p,dataNascimento:j.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Altura (cm)"}),t.jsx("input",{type:"number",min:"50",max:"250",step:"0.1",value:p.altura,onChange:j=>x({...p,altura:j.target.value}),className:"form-input",placeholder:"Ex: 170"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso (kg)"}),t.jsx("input",{type:"number",min:"10",max:"300",step:"0.1",value:p.peso,onChange:j=>x({...p,peso:j.target.value}),className:"form-input",placeholder:"Ex: 70.5"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),t.jsx("input",{type:"text",value:p.endereco.cep,onChange:j=>x({...p,endereco:{...p.endereco,cep:j.target.value}}),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua"}),t.jsx("input",{type:"text",value:p.endereco.rua,onChange:j=>x({...p,endereco:{...p.endereco,rua:j.target.value}}),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número"}),t.jsx("input",{type:"text",value:p.endereco.numero,onChange:j=>x({...p,endereco:{...p.endereco,numero:j.target.value}}),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro"}),t.jsx("input",{type:"text",value:p.endereco.bairro,onChange:j=>x({...p,endereco:{...p.endereco,bairro:j.target.value}}),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),t.jsx("input",{type:"text",value:p.endereco.cidade,onChange:j=>x({...p,endereco:{...p.endereco,cidade:j.target.value}}),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Convênio"}),t.jsxs("select",{value:p.convenio,onChange:j=>x({...p,convenio:j.target.value}),className:"form-input",children:[t.jsx("option",{value:"",children:"Selecione"}),t.jsx("option",{value:"Particular",children:"Particular"}),t.jsx("option",{value:"Unimed",children:"Unimed"}),t.jsx("option",{value:"SulAmérica",children:"SulAmérica"}),t.jsx("option",{value:"Bradesco Saúde",children:"Bradesco Saúde"}),t.jsx("option",{value:"Amil",children:"Amil"}),t.jsx("option",{value:"NotreDame",children:"NotreDame"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número da Carteirinha"}),t.jsx("input",{type:"text",value:p.numeroCarteirinha,onChange:j=>x({...p,numeroCarteirinha:j.target.value}),className:"form-input"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),t.jsx("textarea",{value:p.observacoes,onChange:j=>x({...p,observacoes:j.target.value}),className:"form-input",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",className:"btn-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:n,className:"btn-primary disabled:opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:n?"Salvando...":h?"Atualizar":"Cadastrar"})]})]})]})})})]})},xN=()=>{const[a,s]=y.useState({nome:"",email:"",senha:"",confirmarSenha:"",especialidade:"",crm:"",telefone:""}),[n,i]=y.useState(!1),l=Nt(),d=async u=>{if(u.preventDefault(),!a.nome.trim()){M.error("Informe o nome completo");return}if(!a.crm.trim()||a.crm.trim().length<4){M.error("CRM inválido");return}if(!a.especialidade.trim()){M.error("Informe a especialidade");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){M.error("Email inválido");return}if(!a.telefone.trim()){M.error("Informe o telefone");return}if(a.senha!==a.confirmarSenha){M.error("As senhas não coincidem");return}if(a.senha.length<6){M.error("A senha deve ter pelo menos 6 caracteres");return}i(!0);try{const g=await fl.createMedico({nome:a.nome,email:a.email,password:a.senha,telefone:a.telefone});if(!g.success){M.error(g.error||"Erro ao cadastrar médico");return}M.success("Cadastro realizado com sucesso!"),l("/login-medico")}catch{M.error("Erro ao cadastrar médico. Tente novamente.")}finally{i(!1)}};return t.jsxs("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-white dark:bg-black transition-colors pointer-events-none","aria-hidden":"true"}),t.jsxs("div",{className:"relative max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-400 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Da,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cadastro de Médico"}),t.jsx("p",{className:"text-gray-600",children:"Preencha os dados para cadastrar um novo médico"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:t.jsxs("form",{onSubmit:d,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),t.jsx("input",{type:"text",value:a.nome,onChange:u=>s(g=>({...g,nome:u.target.value})),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),t.jsx("input",{type:"tel",value:a.telefone,onChange:u=>s(g=>({...g,telefone:u.target.value})),placeholder:"(11) 99999-9999",className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CRM"}),t.jsx("input",{type:"text",value:a.crm,onChange:u=>s(g=>({...g,crm:u.target.value})),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Especialidade"}),t.jsx("input",{type:"text",value:a.especialidade,onChange:u=>s(g=>({...g,especialidade:u.target.value})),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:a.email,onChange:u=>s(g=>({...g,email:u.target.value})),className:"form-input",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),t.jsx("input",{type:"password",value:a.senha,onChange:u=>s(g=>({...g,senha:u.target.value})),className:"form-input",minLength:6,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Senha"}),t.jsx("input",{type:"password",value:a.confirmarSenha,onChange:u=>s(g=>({...g,confirmarSenha:u.target.value})),className:"form-input",required:!0})]})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>l("/login-medico"),className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Voltar"}),t.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-gradient-to-r from-indigo-600 to-indigo-400 text-white py-3 px-4 rounded-lg font-medium hover:from-indigo-700 hover:to-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2",children:n?"Cadastrando...":"Cadastrar"})]})]})})]})]})},yN={nome:"",email:"",senha:"",confirmarSenha:"",cpf:"",telefone:"",dataNascimento:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""},vN=()=>{const[a,s]=y.useState(yN),[n,i]=y.useState(!1),[l,d]=y.useState(!1),u=Nt(),g=x=>s(w=>({...w,...x})),h=async()=>{const x=a.cep.replace(/\D/g,"");if(x.length!==8){M.error("CEP inválido");return}try{const w=await to(x);if(!w){M.error("CEP não encontrado");return}g({rua:w.rua||"",bairro:w.bairro||"",cidade:w.cidade||"",estado:w.estado||""}),d(!0)}catch{M.error("Falha ao buscar CEP")}},v=()=>a.nome.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?!a.cpf.trim()||a.cpf.replace(/\D/g,"").length<11?(M.error("CPF inválido"),!1):a.telefone.trim()?!a.senha||a.senha.length<6?(M.error("Senha mínima 6 caracteres"),!1):a.senha!==a.confirmarSenha?(M.error("As senhas não coincidem"),!1):!0:(M.error("Telefone é obrigatório"),!1):(M.error("Email inválido"),!1):(M.error("Nome é obrigatório"),!1),p=async x=>{if(x.preventDefault(),!!v()){i(!0);try{console.log("[CadastroPaciente] Iniciando cadastro via API Supabase..."),console.log("[CadastroPaciente] Criando usuário de autenticação...");const w=await fl.signupPaciente({nome:a.nome,email:a.email,password:a.senha,telefone:a.telefone,cpf:a.cpf,dataNascimento:a.dataNascimento,endereco:{cep:a.cep,rua:a.rua,numero:a.numero,complemento:a.complemento,bairro:a.bairro,cidade:a.cidade,estado:a.estado}});if(!w.success){console.error("[CadastroPaciente] Erro no cadastro:",w.error),M.error(w.error||"Erro ao cadastrar paciente");return}const D=w.data?.id;console.log("[CadastroPaciente] Usuário criado com sucesso! ID:",D),console.log("[CadastroPaciente] Criando registro de paciente na API...");const{createPatient:S}=await jt(async()=>{const{createPatient:k}=await Promise.resolve().then(()=>Qi);return{createPatient:k}},void 0),_=await S({nome:a.nome,email:a.email,telefone:a.telefone,cpf:a.cpf,dataNascimento:a.dataNascimento,endereco:{rua:a.rua,numero:a.numero,complemento:a.complemento,bairro:a.bairro,cidade:a.cidade,estado:a.estado,cep:a.cep}});_.success?console.log("[CadastroPaciente] Paciente criado com sucesso!",_.data):(console.error("[CadastroPaciente] Erro ao criar paciente:",_.error),console.log("[CadastroPaciente] Usuário criado mas dados do paciente não foram salvos completamente")),M.success("Paciente cadastrado com sucesso! Faça login para acessar."),u("/paciente")}catch(w){console.error("[CadastroPaciente] Erro inesperado:",w),M.error("Erro inesperado ao cadastrar")}finally{i(!1)}}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-xl w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(eo,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cadastro de Paciente"}),t.jsx("p",{className:"text-gray-600",children:"Crie sua conta para acessar o acompanhamento e agendamentos."})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:t.jsxs("form",{onSubmit:p,className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),t.jsx("input",{type:"text",value:a.nome,onChange:x=>g({nome:x.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),t.jsx("input",{type:"date",value:a.dataNascimento,onChange:x=>g({dataNascimento:x.target.value}),className:"form-input"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),t.jsx("input",{type:"text",value:a.cpf,onChange:x=>g({cpf:x.target.value}),placeholder:"000.000.000-00",className:"form-input",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),t.jsx("input",{type:"tel",value:a.telefone,onChange:x=>g({telefone:x.target.value}),placeholder:"(11) 99999-9999",className:"form-input",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:a.email,onChange:x=>g({email:x.target.value}),className:"form-input",required:!0})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),t.jsx("input",{type:"password",value:a.senha,onChange:x=>g({senha:x.target.value}),className:"form-input",minLength:6,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Senha"}),t.jsx("input",{type:"password",value:a.confirmarSenha,onChange:x=>g({confirmarSenha:x.target.value}),className:"form-input",required:!0})]})]}),t.jsxs("div",{className:"pt-2 border-t",children:[t.jsx("h2",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Endereço (opcional)"}),t.jsxs("div",{className:"grid md:grid-cols-6 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"CEP"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:a.cep,onChange:x=>{d(!1),g({cep:x.target.value})},className:"form-input",placeholder:"00000000"}),t.jsx("button",{type:"button",onClick:h,className:"px-3 py-2 text-xs rounded-md bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Buscar"})]})]}),t.jsxs("div",{className:"md:col-span-3",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Rua"}),t.jsx("input",{type:"text",value:a.rua,onChange:x=>g({rua:x.target.value}),className:"form-input",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Número"}),t.jsx("input",{type:"text",value:a.numero,onChange:x=>g({numero:x.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Bairro"}),t.jsx("input",{type:"text",value:a.bairro,onChange:x=>g({bairro:x.target.value}),className:"form-input",disabled:l})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Cidade"}),t.jsx("input",{type:"text",value:a.cidade,onChange:x=>g({cidade:x.target.value}),className:"form-input",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Estado"}),t.jsx("input",{type:"text",value:a.estado,onChange:x=>g({estado:x.target.value}),className:"form-input",disabled:l})]}),t.jsxs("div",{className:"md:col-span-3",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Complemento"}),t.jsx("input",{type:"text",value:a.complemento,onChange:x=>g({complemento:x.target.value}),className:"form-input"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>u("/paciente"),className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Voltar"}),t.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-400 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-blue-500 disabled:opacity-50 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:n?"Cadastrando...":"Cadastrar"})]})]})})]})})};class bN{async listarRelatorios(s){try{const n={select:"*"};s?.patient_id&&(n.patient_id=`eq.${s.patient_id}`),s?.status&&(n.status=`eq.${s.status}`);const i=await Re.get(Me.REPORTS,{params:n});return i.success&&i.data?{success:!0,data:Array.isArray(i.data)?i.data:[i.data]}:{success:!1,error:i.error||"Erro ao listar relatórios"}}catch(n){return console.error("Erro ao listar relatórios:",n),{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async criarRelatorio(s){try{const n=await Re.post(Me.REPORTS,s,{headers:{Prefer:"return=representation"}});return n.success&&n.data?{success:!0,data:Array.isArray(n.data)?n.data[0]:n.data,message:"Relatório criado com sucesso"}:{success:!1,error:n.error||"Erro ao criar relatório"}}catch(n){return console.error("Erro ao criar relatório:",n),{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async buscarRelatorioPorId(s){try{const n=await Re.get(`${Me.REPORTS}?id=eq.${s}`,{params:{select:"*"}});if(n.success&&n.data){const i=Array.isArray(n.data)?n.data:[n.data];if(i.length>0)return{success:!0,data:i[0]}}return{success:!1,error:"Relatório não encontrado"}}catch(n){return console.error("Erro ao buscar relatório:",n),{success:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}}async atualizarRelatorio(s,n){try{const i=await Re.patch(`${Me.REPORTS}?id=eq.${s}`,n,{headers:{Prefer:"return=representation"}});return i.success&&i.data?{success:!0,data:Array.isArray(i.data)?i.data[0]:i.data,message:"Relatório atualizado com sucesso"}:{success:!1,error:i.error||"Erro ao atualizar relatório"}}catch(i){return console.error("Erro ao atualizar relatório:",i),{success:!1,error:i instanceof Error?i.message:"Erro desconhecido"}}}}const Fi=new bN,Yn=[{key:0,label:"Domingo",dbKey:"domingo"},{key:1,label:"Segunda-feira",dbKey:"segunda"},{key:2,label:"Terça-feira",dbKey:"terca"},{key:3,label:"Quarta-feira",dbKey:"quarta"},{key:4,label:"Quinta-feira",dbKey:"quinta"},{key:5,label:"Sexta-feira",dbKey:"sexta"},{key:6,label:"Sábado",dbKey:"sabado"}],wN=()=>{const{user:a}=tr(),s=a?.id||"",[n,i]=y.useState({}),[l,d]=y.useState(!0),[u,g]=y.useState(!1),[h,v]=y.useState("weekly"),[p,x]=y.useState(!1),[w,D]=y.useState(null),[S,_]=y.useState({inicio:"09:00",fim:"10:00"}),[k,O]=y.useState(new Date),[A,j]=y.useState([]),[P,X]=y.useState([]),[ae,F]=y.useState("60"),[K,oe]=y.useState("0"),W=Ue.useCallback(async()=>{try{d(!0);const q=await Jr.listAvailability({doctor_id:s});if(q&&q.success&&q.data&&q.data.length>0){const Q={};Yn.forEach(({key:C,label:$})=>{Q[C]={day:$,dayOfWeek:C,enabled:!1,slots:[]}}),q.data.forEach(C=>{const $=Yn.find(ie=>ie.dbKey===C.weekday);if(!$)return;const re=$.key;Q[re].enabled||(Q[re].enabled=!0),Q[re].slots.push({id:`${re}-${C.id||Math.random().toString(36).slice(2)}`,dbId:C.id,inicio:C.start_time?.slice(0,5)||"09:00",fim:C.end_time?.slice(0,5)||"17:00",ativo:C.active??!0})}),i(Q)}else{const Q={};Yn.forEach(({key:C,label:$})=>{Q[C]={day:$,dayOfWeek:C,enabled:!1,slots:[]}}),i(Q)}}catch(q){console.error("Erro ao carregar disponibilidade:",q),M.error("Erro ao carregar disponibilidade")}finally{d(!1)}},[s]),fe=Ue.useCallback(async()=>{try{const q=await Us.listExceptions({doctor_id:s});if(q.success&&q.data){X(q.data);const Q=q.data.filter(C=>C.kind==="bloqueio"&&C.date).map(C=>new Date(C.date));j(Q)}}catch(q){console.error("Erro ao carregar exceções:",q)}},[s]);y.useEffect(()=>{s&&(W(),fe())},[s,W,fe]);const he=q=>{i(Q=>({...Q,[q]:{...Q[q],enabled:!Q[q].enabled}}))},ve=()=>{if(w!==null){const q=`${w}-${Date.now()}`;i(Q=>({...Q,[w]:{...Q[w],slots:[...Q[w].slots,{id:q,inicio:S.inicio,fim:S.fim,ativo:!0}]}})),x(!1),_({inicio:"09:00",fim:"10:00"}),D(null)}},Se=async(q,Q)=>{const C=n[q]?.slots.find($=>$.id===Q);if(C?.dbId)try{const $=await Jr.deleteAvailability(C.dbId);if($.success)M.success("Horário removido com sucesso");else{M.error($.error||"Erro ao remover horário");return}}catch($){console.error("Erro ao remover horário:",$),M.error("Erro ao remover horário");return}i($=>({...$,[q]:{...$[q],slots:$[q].slots.filter(re=>re.id!==Q)}}))},Ce=(q,Q)=>{i(C=>({...C,[q]:{...C[q],slots:C[q].slots.map($=>$.id===Q?{...$,ativo:!$.ativo}:$)}}))},ue=q=>{const Q=n[q];if(!Q.enabled||Q.slots.length===0){M.error("Dia não tem horários configurados");return}const C={...n};Object.keys(C).forEach($=>{const re=Number($);re!==q&&C[re].enabled&&(C[re].slots=Q.slots.map(ie=>({...ie,id:`${re}-${ie.id}`})))}),i(C),M.success("Horários copiados com sucesso!")},me=async()=>{try{if(g(!0),!s){M.error("Médico não autenticado");return}const q=[],Q=ie=>{const[U,le]=ie.split(":"),de=Number(U||"0"),J=Number(le||"0");return de*60+J};if(Yn.forEach(({key:ie,dbKey:U})=>{const le=n[ie];if(!le||!le.enabled){le?.slots.forEach(de=>{de.dbId&&q.push(Jr.deleteAvailability(de.dbId))});return}le.slots.forEach(de=>{const J=de.inicio?de.inicio.length===5?`${de.inicio}:00`:de.inicio:"00:00:00",Ae=de.fim?de.fim.length===5?`${de.fim}:00`:de.fim:"00:00:00",He=Math.max(1,Q(Ae.slice(0,5))-Q(J.slice(0,5))),$e={weekday:U,start_time:J,end_time:Ae,slot_minutes:He,appointment_type:"presencial",active:!!de.ativo};de.dbId?q.push(Jr.updateAvailability(de.dbId,$e)):q.push(Jr.createAvailability({doctor_id:s,...$e}))})}),q.length===0){M.error("Nenhuma alteração para salvar");return}const C=await Promise.allSettled(q),$=[];let re=0;C.forEach((ie,U)=>{if(ie.status==="fulfilled"){const le=ie.value;le&&le.success?re++:$.push(`Item ${U}: ${le?.error||le?.message||"Erro"}`)}else $.push(`Item ${U}: ${ie.reason?.message||String(ie.reason)}`)}),$.length>0&&(console.error("Erros ao salvar disponibilidades:",$),M.error(`Algumas disponibilidades não foram salvas (${$.length})`)),re>0&&(M.success(`${re} alteração(ões) salvas com sucesso!`),await W())}catch(q){console.error("Erro ao salvar disponibilidade:",q);const Q=q instanceof Error?q.message:"Erro ao salvar disponibilidade";M.error(Q)}finally{g(!1)}},Y=async()=>{if(!k)return;const q=it(k,"yyyy-MM-dd"),Q=A.some(C=>it(C,"yyyy-MM-dd")===q);try{if(Q){const C=P.find($=>$.date&&it(new Date($.date),"yyyy-MM-dd")===q);C&&C.id&&(await Us.deleteException(C.id),j(A.filter($=>it($,"yyyy-MM-dd")!==q)),M.success("Data desbloqueada"))}else(await Us.createException({doctor_id:s,date:q,kind:"bloqueio",reason:"Data bloqueada pelo médico"})).success&&(j([...A,k]),M.success("Data bloqueada"));fe()}catch(C){console.error("Erro ao alternar bloqueio de data:",C),M.error("Erro ao bloquear/desbloquear data")}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Disponibilidade"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure seus horários de atendimento"})]}),t.jsxs("button",{onClick:me,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[t.jsx(Uv,{className:"h-4 w-4"}),u?"Salvando...":"Salvar Alterações"]})]}),t.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:t.jsxs("nav",{className:"-mb-px flex space-x-8",children:[t.jsx("button",{onClick:()=>v("weekly"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="weekly"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Horário Semanal"}),t.jsxs("button",{onClick:()=>v("blocked"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="blocked"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Datas Bloqueadas (",A.length,")"]}),t.jsx("button",{onClick:()=>v("settings"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="settings"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Configurações"})]})}),h==="weekly"&&t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Horários por Dia da Semana"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Defina seus horários de atendimento para cada dia da semana"})]}),Yn.map(({key:q,label:Q})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n[q]?.enabled||!1,onChange:()=>he(q)}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]}),t.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:Q}),n[q]?.enabled&&t.jsxs("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400 text-xs rounded",children:[n[q]?.slots.length||0," horário(s)"]})]}),n[q]?.enabled&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>ue(q),className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[t.jsx(xv,{className:"h-4 w-4"}),"Copiar"]}),t.jsxs("button",{onClick:()=>{D(q),x(!0)},className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[t.jsx(cr,{className:"h-4 w-4"}),"Adicionar Horário"]})]})]}),n[q]?.enabled&&t.jsx("div",{className:"ml-14 space-y-2",children:n[q]?.slots.length===0?t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum horário configurado"}):n[q]?.slots.map(C=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",checked:C.ativo,onChange:()=>Ce(q,C.id)}),t.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]}),t.jsx(br,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-gray-900 dark:text-white",children:[C.inicio," - ",C.fim]}),!C.ativo&&t.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs rounded",children:"Bloqueado"})]}),t.jsx("button",{onClick:()=>Se(q,C.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:t.jsx(Ra,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]},C.id))})]},q))]})}),h==="blocked"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Selecionar Datas"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Clique em uma data no calendário e depois no botão para bloquear/desbloquear"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{type:"date",value:k?it(k,"yyyy-MM-dd"):"",onChange:q=>O(new Date(q.target.value)),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"}),t.jsx("button",{onClick:Y,disabled:!k,className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:k&&A.some(q=>it(q,"yyyy-MM-dd")===it(k,"yyyy-MM-dd"))?"Desbloquear Data":"Bloquear Data"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Datas Bloqueadas"}),t.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:[A.length," data(s) bloqueada(s)"]}),A.length===0?t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Nenhuma data bloqueada"}):t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:A.map((q,Q)=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("span",{className:"text-gray-900 dark:text-white",children:it(q,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Zr})}),t.jsx("button",{onClick:()=>{O(q),Y()},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:t.jsx(Ra,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]},Q))})]})]}),h==="settings"&&t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Configurações de Consulta"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Defina as configurações padrão para suas consultas"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Duração Padrão da Consulta"}),t.jsxs("select",{value:ae,onChange:q=>F(q.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",children:[t.jsx("option",{value:"30",children:"30 minutos"}),t.jsx("option",{value:"45",children:"45 minutos"}),t.jsx("option",{value:"60",children:"1 hora"}),t.jsx("option",{value:"90",children:"1 hora e 30 minutos"}),t.jsx("option",{value:"120",children:"2 horas"})]}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Esta duração será usada para calcular os horários disponíveis"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Intervalo entre Consultas"}),t.jsxs("select",{value:K,onChange:q=>oe(q.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",children:[t.jsx("option",{value:"0",children:"Sem intervalo"}),t.jsx("option",{value:"15",children:"15 minutos"}),t.jsx("option",{value:"30",children:"30 minutos"})]}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Tempo de descanso entre consultas"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Aceitar consultas online"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Permitir agendamento de teleconsultas"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Confirmação automática"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Aprovar agendamentos automaticamente"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]})]})]})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Adicionar Horário"}),t.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Defina o período de atendimento para"," ",w!==null?n[w]?.day:""]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Horário de Início"}),t.jsx("input",{type:"time",value:S.inicio,onChange:q=>_({...S,inicio:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Horário de Término"}),t.jsx("input",{type:"time",value:S.fim,onChange:q=>_({...S,fim:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]})]}),t.jsxs("div",{className:"flex gap-2 mt-6",children:[t.jsx("button",{onClick:()=>{x(!1),D(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),t.jsx("button",{onClick:ve,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Adicionar"})]})]})})]})},jN=["Primeira consulta","Retorno","Acompanhamento","Exame","Telemedicina"],NN=({isOpen:a,onClose:s,onSaved:n,editing:i,defaultPacienteId:l,defaultMedicoId:d,lockPaciente:u=!1,lockMedico:g=!1})=>{const{user:h}=tr(),[v,p]=y.useState([]),[x,w]=y.useState([]),[D,S]=y.useState(!1),[_,k]=y.useState(""),[O,A]=y.useState(""),[j,P]=y.useState(""),[X,ae]=y.useState(""),[F,K]=y.useState(""),[oe,W]=y.useState(""),[fe,he]=y.useState("agendada"),[ve,Se]=y.useState(!1),[Ce,ue]=y.useState(null);y.useEffect(()=>{if(!a)return;let C=!0;return(async()=>{try{S(!0);const[$,re]=await Promise.all([Fa().catch(()=>({data:[],total:0,page:1,per_page:0})),vr.listarMedicos().catch(()=>({success:!1,data:void 0}))]);if(!C)return;p($.data),re&&re.success&&re.data&&w(re.data.data)}finally{C&&S(!1)}})(),()=>{C=!1}},[a]),y.useEffect(()=>{if(a){if(i){k(i.pacienteId),A(i.medicoId);try{const C=new Date(i.dataHora),$=new Date(C.getTime()-C.getTimezoneOffset()*6e4).toISOString().slice(0,16);P($)}catch{P("")}ae(i.tipo||""),K(i.motivo||""),W(i.observacoes||""),he(i.status||"agendada")}else k(l||""),A(d||""),P(""),ae(""),K(""),W(""),he("agendada");ue(null),Se(!1)}},[a,i,l,d,h]);const me=y.useCallback(C=>{C.key==="Escape"&&s()},[s]);if(y.useEffect(()=>{if(a)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[a,me]),!a)return null;const Y=()=>_?O?j?!0:(ue("Informe data e hora."),!1):(ue("Selecione um médico."),!1):(ue("Selecione um paciente."),!1),q=async C=>{if(C.preventDefault(),!!Y()){Se(!0),ue(null);try{const $=new Date(j).toISOString();if(i){const re={dataHora:$,tipo:X||void 0,motivo:F||void 0,observacoes:oe||void 0,status:fe},ie=await ro.atualizar(i.id,re);if(!ie.success||!ie.data)throw new Error(ie.error||"Falha ao atualizar consulta");n(ie.data)}else{const re={pacienteId:_,medicoId:O,dataHora:$,tipo:X||void 0,motivo:F||void 0,observacoes:oe||void 0},ie=await ro.criar(re);if(!ie.success||!ie.data)throw new Error(ie.error||"Falha ao criar consulta");n(ie.data)}s()}catch($){const re=$ instanceof Error?$.message:"Erro ao salvar";ue(re)}finally{Se(!1)}}},Q=i?"Editar Consulta":"Nova Consulta";return t.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/40 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-xl animate-fade-in mt-10",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:Q}),t.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:t.jsx(Gr,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:q,className:"p-4 space-y-4",children:[Ce&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:Ce}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente"}),t.jsxs("select",{className:"w-full border rounded px-2 py-2 text-sm",value:_,onChange:C=>k(C.target.value),disabled:u||!!i,children:[t.jsx("option",{value:"",children:"Selecione..."}),v.map(C=>t.jsx("option",{value:C.id,children:C.nome},C.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Médico"}),t.jsxs("select",{className:"w-full border rounded px-2 py-2 text-sm",value:O,onChange:C=>A(C.target.value),disabled:g||!!i,children:[t.jsx("option",{value:"",children:"Selecione..."}),x.map(C=>t.jsxs("option",{value:C.id,children:[C.nome," - ",C.especialidade]},C.id))]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data / Hora"}),t.jsx("input",{type:"datetime-local",className:"w-full border rounded px-2 py-2 text-sm",value:j,onChange:C=>P(C.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),t.jsx("input",{list:"tipos-consulta",className:"w-full border rounded px-2 py-2 text-sm",value:X,onChange:C=>ae(C.target.value),placeholder:"Ex: Retorno"}),t.jsx("datalist",{id:"tipos-consulta",children:jN.map(C=>t.jsx("option",{value:C},C))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo"}),t.jsx("input",{className:"w-full border rounded px-2 py-2 text-sm",value:F,onChange:C=>K(C.target.value),placeholder:"Motivo principal"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),t.jsx("textarea",{className:"w-full border rounded px-2 py-2 text-sm resize-y min-h-[80px]",value:oe,onChange:C=>W(C.target.value),placeholder:"Notas internas, preparação, etc"})]}),i&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{className:"w-full border rounded px-2 py-2 text-sm",value:fe,onChange:C=>he(C.target.value),children:[t.jsx("option",{value:"agendada",children:"Agendada"}),t.jsx("option",{value:"confirmada",children:"Confirmada"}),t.jsx("option",{value:"cancelada",children:"Cancelada"}),t.jsx("option",{value:"realizada",children:"Realizada"}),t.jsx("option",{value:"faltou",children:"Faltou"})]})]})]}),D&&t.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[t.jsx(Nd,{className:"w-4 h-4 mr-1 animate-spin"})," Carregando listas..."]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancelar"}),t.jsxs("button",{type:"submit",disabled:ve,className:"px-4 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60 flex items-center",children:[ve&&t.jsx(Nd,{className:"w-4 h-4 mr-2 animate-spin"})," ",i?"Salvar alterações":"Criar consulta"]})]})]})]})})},kN=()=>{const{user:a,roles:s,logout:n}=tr(),i=Nt(),l=a&&(a.role==="medico"||s.includes("medico")||s.includes("admin")),d=l?a.id:"",u=a?.nome||"Médico",[g,h]=y.useState(a?.avatar_url||null),[v,p]=y.useState(!1),[x,w]=y.useState(null),D=y.useCallback(()=>{if(!a?.id)return;const ee=`https://yuanqfswhberkoevtmfr.supabase.co/storage/v1/object/public/avatars/${a.id}/avatar`;(async()=>{for(const ce of["jpg","png","webp"]){const ke=`${ee}.${ce}`;try{if((await fetch(ke,{method:"HEAD"})).ok){h(ke);return}}catch{}}h(null)})()},[a?.id]);y.useEffect(()=>{D()},[D]);const S=async()=>{if(!x||!a?.id)return;const ee=new FormData;ee.append("file",x),await fetch(`https://yuanqfswhberkoevtmfr.supabase.co/storage/v1/object/avatars/${a.id}/avatar`,{method:"POST",body:ee});const E=x.name.split(".").pop(),ce=`https://yuanqfswhberkoevtmfr.supabase.co/storage/v1/object/public/avatars/${a.id}/avatar.${E}`;await fetch(`https://yuanqfswhberkoevtmfr.supabase.co/rest/v1/profiles?id=eq.${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatar_url:ce})}),p(!1),w(null),h(ce)},_=async()=>{a?.id&&(await fetch(`https://yuanqfswhberkoevtmfr.supabase.co/storage/v1/object/avatars/${a.id}/avatar`,{method:"DELETE"}),await fetch(`https://yuanqfswhberkoevtmfr.supabase.co/rest/v1/profiles?id=eq.${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatar_url:null})}),h(null))},[k,O]=y.useState("dashboard"),[A,j]=y.useState([]),[P,X]=y.useState("hoje"),[ae,F]=y.useState(!0),[K,oe]=y.useState(!1),[W,fe]=y.useState(null),[he,ve]=y.useState(!1),[Se,Ce]=y.useState(!1),[ue,me]=y.useState([]),[Y,q]=y.useState({patient_id:"",order_number:"",exam:"",diagnosis:"",conclusion:"",cid_code:"",content_html:"",status:"draft",requested_by:u,due_at:it(new Date,"yyyy-MM-dd'T'HH:mm"),hide_date:!1,hide_signature:!1});y.useEffect(()=>{d||i("/login-medico")},[d,i]);const Q=y.useCallback(async()=>{F(!0);try{let ee;if(a?.role==="admin"||s.includes("admin"))ee=await ro.listarTodas();else{if(!d)return;ee=await ro.listarPorMedico(d)}if(ee&&ee.success&&ee.data){const{getPatientById:E}=await jt(async()=>{const{getPatientById:ke}=await Promise.resolve().then(()=>Qi);return{getPatientById:ke}},void 0),ce=await Promise.all(ee.data.map(async ke=>{let Kt="Paciente Desconhecido";try{const It=await E(ke.pacienteId);It.success&&It.data&&(Kt=It.data.nome)}catch(It){console.error("Erro ao buscar nome do paciente:",It)}return{id:ke.id,pacienteId:ke.pacienteId,medicoId:ke.medicoId,pacienteNome:Kt,medicoNome:u,dataHora:ke.dataHora,status:ke.status,tipo:ke.tipo,observacoes:ke.observacoes}}));j(ce)}else j([])}catch(ee){console.error("Erro ao buscar consultas:",ee),M.error("Erro ao carregar consultas"),j([])}finally{F(!1)}},[a,s,d,u]);y.useEffect(()=>{Q()},[Q]),y.useEffect(()=>{he&&a?.id&&(async()=>{try{const E=await Fa({per_page:200});"data"in E&&me(E.data.map(ce=>({id:ce.id,nome:ce.nome})))}catch(E){console.error("Erro ao carregar pacientes:",E),M.error("Erro ao carregar lista de pacientes")}})()},[he,a]);const C=async ee=>{if(ee.preventDefault(),!Y.patient_id){M.error("Selecione um paciente");return}if(!Y.exam.trim()){M.error("Informe o tipo de exame");return}Ce(!0);try{const E={patient_id:Y.patient_id,order_number:Y.order_number||"",exam:Y.exam,diagnosis:Y.diagnosis||"",conclusion:Y.conclusion||"",cid_code:Y.cid_code||"",content_html:Y.content_html||"",status:Y.status,requested_by:Y.requested_by||u,due_at:Y.due_at||"",hide_date:Y.hide_date,hide_signature:Y.hide_signature},ce=await Fi.criarRelatorio(E);ce.success?(M.success("Relatório criado com sucesso!"),ve(!1),q({patient_id:"",order_number:"",exam:"",diagnosis:"",conclusion:"",cid_code:"",content_html:"",status:"draft",requested_by:u,due_at:it(new Date,"yyyy-MM-dd'T'HH:mm"),hide_date:!1,hide_signature:!1})):M.error(ce.error||"Erro ao criar relatório")}catch(E){console.error("Erro ao criar relatório:",E),M.error("Erro ao criar relatório")}finally{Ce(!1)}},$=()=>{fe(null),oe(!0)},re=ee=>{fe(ee),oe(!0)},ie=async ee=>{if(window.confirm("Deseja realmente excluir esta consulta?"))try{const E=localStorage.getItem("consultas_local");if(E){const ke=JSON.parse(E).filter(Kt=>Kt.id!==ee);localStorage.setItem("consultas_local",JSON.stringify(ke)),M.success("Consulta excluída"),Q()}}catch(E){console.error("Erro ao excluir consulta:",E),M.error("Erro ao excluir consulta")}},U=()=>{oe(!1),fe(null),Q()},le=ee=>{switch(ee.toLowerCase()){case"confirmada":case"confirmed":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"agendada":case"scheduled":return"bg-indigo-100 text-indigo-800 border-blue-200 dark:bg-indigo-900/30 dark:text-blue-300 dark:border-indigo-800";case"concluida":case"completed":return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/30 dark:text-gray-300 dark:border-gray-800";case"cancelada":case"cancelled":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/30 dark:text-gray-300 dark:border-gray-800"}},de=ee=>{switch(ee.toLowerCase()){case"confirmada":case"confirmed":return"Confirmada";case"agendada":case"scheduled":return"Agendada";case"concluida":case"completed":return"Concluída";case"cancelada":case"cancelled":return"Cancelada";default:return ee}},J=ee=>{switch(ee.toLowerCase()){case"confirmada":case"confirmed":return t.jsx(Bi,{className:"h-4 w-4"});case"agendada":case"scheduled":return t.jsx(br,{className:"h-4 w-4"});case"cancelada":case"cancelled":return t.jsx(jd,{className:"h-4 w-4"});default:return t.jsx(no,{className:"h-4 w-4"})}},Ae=A,He=A.filter(ee=>ee.status.toLowerCase()==="confirmada"||ee.status.toLowerCase()==="confirmed"),$e=A.filter(ee=>ee.status.toLowerCase()==="concluida"||ee.status.toLowerCase()==="completed"),et=[{id:"dashboard",label:"Dashboard",icon:dp},{id:"appointments",label:"Consultas",icon:br},{id:"availability",label:"Disponibilidade",icon:Dt},{id:"reports",label:"Relatórios",icon:Js},{id:"help",label:"Ajuda",icon:wd},{id:"settings",label:"Configurações",icon:Hv}],Yt=()=>t.jsxs("div",{className:"w-64 h-screen bg-white dark:bg-slate-900 border-r border-gray-200 dark:border-slate-700 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative group",children:[g?t.jsx("img",{src:g,alt:"Avatar",className:"h-14 w-14 rounded-full object-cover border shadow"}):t.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center text-white font-semibold text-lg shadow",children:u.split(" ").map(ee=>ee[0]).join("").toUpperCase().slice(0,2)}),t.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-white rounded-full p-1 border shadow group-hover:bg-indigo-100 transition",title:"Editar avatar",onClick:()=>p(!0),style:{lineHeight:0},children:t.jsx(up,{size:16,className:"text-indigo-600"})}),v&&t.jsxs("form",{className:"absolute top-0 left-16 bg-white p-2 rounded shadow z-10 flex flex-col items-center",onSubmit:ee=>{ee.preventDefault(),S()},children:[t.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/webp",onChange:ee=>w(ee.target.files?.[0]||null),className:"mb-2"}),t.jsx("button",{type:"submit",className:"text-xs bg-indigo-600 text-white px-2 py-1 rounded",children:"Salvar"}),t.jsx("button",{type:"button",className:"text-xs ml-2",onClick:()=>p(!1),children:"Cancelar"}),g&&t.jsx("button",{type:"button",className:"text-xs text-red-600 underline mt-2",onClick:_,children:"Remover"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:u}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Médico"})]})]})}),t.jsx("nav",{className:"flex-1 p-4",children:t.jsx("div",{className:"space-y-1",children:et.map(ee=>{const E=ee.icon,ce=k===ee.id;return t.jsxs("button",{onClick:()=>{ee.id==="help"?i("/ajuda"):O(ee.id)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 ${ce?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:[t.jsx(E,{className:"h-5 w-5"}),ee.label]},ee.id)})})}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:t.jsxs("button",{onClick:()=>{n(),i("/login-medico")},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",children:[t.jsx(Zn,{className:"h-5 w-5"}),"Sair"]})})]}),rr=(ee,E,ce,ke,Kt)=>{const It=ce;return t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ee}),t.jsx(It,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})]}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:E}),ke&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:ke}),Kt]})},Nr=ee=>t.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:ee.pacienteNome.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2)}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:ee.pacienteNome}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:ee.observacoes||"Consulta médica"})]}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium border ${le(ee.status)}`,children:[J(ee.status),de(ee.status)]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(br,{className:"h-4 w-4"}),t.jsx("span",{children:it(new Date(ee.dataHora),"HH:mm",{locale:Zr})})]}),t.jsx("div",{className:"flex items-center gap-1",children:ee.tipo==="online"||ee.tipo==="telemedicina"?t.jsxs(t.Fragment,{children:[t.jsx(Vs,{className:"h-4 w-4"}),t.jsx("span",{children:"Online"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Yd,{className:"h-4 w-4"}),t.jsx("span",{children:"Presencial"})]})})]}),t.jsxs("div",{className:"flex gap-2",children:[ee.status.toLowerCase()==="confirmada"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsx(rl,{className:"h-4 w-4"}),"Ligar"]}),(ee.tipo==="online"||ee.tipo==="telemedicina")&&t.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsx(Vs,{className:"h-4 w-4"}),"Iniciar Consulta"]})]}),t.jsxs("button",{onClick:()=>re(ee),className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsx(Xn,{className:"h-4 w-4"}),"Editar"]}),t.jsxs("button",{onClick:()=>ie(ee.id),className:"flex items-center gap-1 px-3 py-1 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500",children:[t.jsx(Ra,{className:"h-4 w-4"}),"Excluir"]})]})]})]},ee.id),aa=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[rr("Consultas Hoje",Ae.length,br,`${He.length} confirmadas`),rr("Total Consultas",A.length,Dt,"Este período"),rr("Concluídas",$e.length,Bi,"Este período"),rr("Taxa Comparecimento",A.length>0?`${Math.round($e.length/A.length*100)}%`:"0%",Gv,"Baseado em consultas concluídas")]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Consultas de Hoje"}),t.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsx(cr,{className:"h-4 w-4"}),"Nova Consulta"]})]})}),t.jsx("div",{className:"p-6",children:ae?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Carregando consultas..."})]}):Ae.length===0?t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Nenhuma consulta agendada para hoje"}):t.jsx("div",{className:"space-y-4",children:Ae.map(Nr)})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Próximos 7 Dias"})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Segunda-feira"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"0 consultas"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Terça-feira"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"0 consultas"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Quarta-feira"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"0 consultas"})]})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Tipos de Consulta"})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Presencial"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.filter(ee=>ee.tipo!=="online"&&ee.tipo!=="telemedicina").length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Online"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.filter(ee=>ee.tipo==="online"||ee.tipo==="telemedicina").length})]})]})})]})]})]}),ht=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Todas as Consultas"}),t.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsx(cr,{className:"h-4 w-4"}),"Nova Consulta"]})]}),t.jsx("div",{className:"flex gap-2",children:["hoje","amanha","semana","todas"].map(ee=>t.jsx("button",{onClick:()=>X(ee),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 ${P===ee?"bg-indigo-600 text-white":"bg-white dark:bg-slate-900 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800"}`,children:ee==="hoje"?"Hoje":ee==="amanha"?"Amanhã":ee==="semana"?"Esta Semana":"Todas"},ee))}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:t.jsx("div",{className:"p-6",children:ae?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Carregando consultas..."})]}):A.length===0?t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Nenhuma consulta encontrada"}):t.jsx("div",{className:"space-y-4",children:A.map(Nr)})})})]}),Qt=()=>t.jsx(wN,{}),Xt=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Relatórios"}),t.jsxs("button",{onClick:()=>ve(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsx(cr,{className:"h-4 w-4"}),"Novo Relatório"]})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:t.jsx("div",{className:"p-6",children:t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Funcionalidade em desenvolvimento"})})})]}),Ot=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Configurações"}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:t.jsx("div",{className:"p-6",children:t.jsx("p",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"Funcionalidade em desenvolvimento"})})})]}),Lt=()=>{switch(k){case"dashboard":return aa();case"appointments":return ht();case"availability":return Qt();case"reports":return Xt();case"settings":return Ot();default:return null}};return l?t.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-slate-950",children:[Yt(),t.jsx("main",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"container mx-auto p-8",children:Lt()})}),K&&t.jsx(NN,{isOpen:K,onClose:()=>{oe(!1),fe(null)},onSaved:U,editing:W,defaultMedicoId:d,lockMedico:!1}),he&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>ve(!1),children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:ee=>ee.stopPropagation(),children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Criar Novo Relatório"})}),t.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Paciente *"}),t.jsxs("select",{value:Y.patient_id,onChange:ee=>q(E=>({...E,patient_id:ee.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Selecione um paciente"}),ue.map(ee=>t.jsx("option",{value:ee.id,children:ee.nome},ee.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Exame *"}),t.jsx("input",{type:"text",value:Y.exam,onChange:ee=>q(E=>({...E,exam:ee.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Diagnóstico"}),t.jsx("textarea",{value:Y.diagnosis,onChange:ee=>q(E=>({...E,diagnosis:ee.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Conclusão"}),t.jsx("textarea",{value:Y.conclusion,onChange:ee=>q(E=>({...E,conclusion:ee.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>ve(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:Se,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:Se?"Criando...":"Criar Relatório"})]})]})]})})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Acesso Negado"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Você não tem permissão para acessar esta página."}),t.jsx("button",{onClick:()=>i("/login-medico"),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:"Fazer Login"})]})})},Qp=["bg-emerald-600","bg-green-600","bg-sky-600","bg-indigo-600","bg-fuchsia-600","bg-rose-600","bg-amber-600","bg-teal-600"];function SN(a){let s=0;for(let n=0;n<a.length;n++)s=s*31+a.charCodeAt(n)>>>0;return s%Qp.length}const CN=({name:a,size:s=40,className:n=""})=>{const i=(a||"?").trim();let d=i.split(/\s+/).filter(Boolean).slice(0,2).map(v=>v[0]?.toUpperCase()).join("");d||(d="?");const u=Qp[SN(i)],g={width:s,height:s,minWidth:s,minHeight:s,flexShrink:0},h=Math.max(14,Math.round(s*.42));return t.jsx("div",{className:`inline-flex items-center justify-center rounded-full text-white font-semibold select-none ${u} ${n}`,style:g,"aria-label":`Avatar de ${i}`,children:t.jsx("span",{style:{fontSize:h},children:d})})},_N=({pacientes:a,onEdit:s,onDelete:n,onView:i,onSchedule:l,emptyMessage:d="Nenhum paciente encontrado."})=>t.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",role:"region","aria-label":"Lista de pacientes",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",role:"table",children:[t.jsx("thead",{className:"bg-gray-50/90 dark:bg-gray-800/90 sticky top-0 backdrop-blur supports-[backdrop-filter]:backdrop-blur z-10",role:"rowgroup",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Paciente"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Contato"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Local"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Último Atendimento"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Próximo Atendimento"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Convênio"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),t.jsxs("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",role:"rowgroup",children:[a.map(u=>t.jsxs("tr",{className:"bg-white dark:bg-gray-900 hover:bg-blue-50/50 dark:hover:bg-gray-800 transition-colors",role:"row",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[u.avatar_url?t.jsx("img",{src:u.avatar_url,alt:u.nome,className:"h-10 w-10 rounded-full object-cover border"}):t.jsx(CN,{name:u.nome,size:40}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 cursor-pointer hover:underline",onClick:()=>i?.(u),children:u.nome||"Sem nome"}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.cpf||"CPF não informado"}),u.vip&&t.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800 ring-1 ring-yellow-700/20 dark:bg-yellow-200 dark:text-yellow-900","aria-label":"Paciente VIP",children:[t.jsx("span",{"aria-hidden":!0,children:"★"})," VIP"]})]})]})}),t.jsxs("td",{className:"px-6 py-4 text-sm",children:[t.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:u.email||"Não informado"}),t.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:u.telefoneFormatado||"Telefone não informado"})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:u.cidade||u.estado?`${u.cidade||""}${u.cidade&&u.estado?"/":""}${u.estado||""}`:"—"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:u.ultimoAtendimento||"—"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:u.proximoAtendimento||"—"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:u.convenio||"Particular"}),t.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i&&t.jsxs("button",{onClick:()=>i(u),title:`Ver ${u.nome}`,"aria-label":`Ver ${u.nome}`,className:"inline-flex items-center gap-1 rounded-md px-2.5 py-1.5 text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(vv,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Ver"})]}),l&&t.jsxs("button",{onClick:()=>l(u),title:`Agendar para ${u.nome}`,"aria-label":`Agendar para ${u.nome}`,className:"inline-flex items-center gap-1 rounded-md px-2.5 py-1.5 text-blue-700 bg-blue-50 hover:bg-blue-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(Dt,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Agendar"})]}),t.jsxs("button",{onClick:()=>s(u),title:`Editar ${u.nome}`,"aria-label":`Editar ${u.nome}`,className:"inline-flex items-center gap-1 rounded-md px-2.5 py-1.5 text-green-700 bg-green-50 hover:bg-green-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(up,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Editar"})]}),t.jsxs("button",{onClick:()=>n(u),title:`Excluir ${u.nome}`,"aria-label":`Excluir ${u.nome}`,className:"inline-flex items-center gap-1 rounded-md px-2.5 py-1.5 text-red-700 bg-red-50 hover:bg-red-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[t.jsx(Ra,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Excluir"})]})]})})]},u.id)),a.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500 dark:text-gray-400",children:t.jsx("span",{role:"status","aria-live":"polite",children:d})})})]})]})}),EN=["segunda","terca","quarta","quinta","sexta","sabado","domingo"],TN=({doctorId:a})=>{const[s,n]=y.useState([]),[i,l]=y.useState(!1),[d,u]=y.useState({weekday:"segunda",start_time:"09:00:00",end_time:"17:00:00",slot_minutes:30,appointment_type:"presencial",active:!0}),[g,h]=y.useState(!1),v=y.useMemo(()=>!!a&&!!d.weekday&&!!d.start_time&&!!d.end_time&&Number(d.slot_minutes)>0,[a,d]);async function p(){if(!a)return;l(!0);const S=await Jr.listDoctorActiveAvailability(a);S.success&&S.data?n(S.data):M.error(S.error||"Erro ao carregar disponibilidades"),l(!1)}y.useEffect(()=>{p()},[a]);async function x(S){if(S.preventDefault(),!v){M.error("Preencha todos os campos obrigatórios");return}const _=/^\d{2}:\d{2}:\d{2}$/;if(!_.test(d.start_time)||!_.test(d.end_time)){M.error("Formato de horário inválido. Use HH:MM:SS");return}if(d.start_time>=d.end_time){M.error("Horário de fim deve ser posterior ao horário de início");return}const k={doctor_id:a,weekday:d.weekday,start_time:d.start_time,end_time:d.end_time,slot_minutes:Number(d.slot_minutes)||30,appointment_type:d.appointment_type,active:d.active};console.log("[AvailabilityManager] Enviando payload:",k),h(!0);const O=await Jr.createAvailability(k);h(!1),O.success?(M.success("Disponibilidade criada com sucesso!"),u(A=>({...A,start_time:"09:00:00",end_time:"17:00:00"})),p()):(console.error("[AvailabilityManager] Erro ao criar:",O.error),M.error(O.error||"Falha ao criar disponibilidade"))}async function w(S){if(!S.id)return;const _=await Jr.updateAvailability(S.id,{active:!S.active});_.success?(M.success("Atualizado"),p()):M.error(_.error||"Falha ao atualizar")}async function D(S){if(!S.id||!confirm("Remover disponibilidade?"))return;const k=await Jr.deleteAvailability(S.id);k.success?(M.success("Removido"),p()):M.error(k.error||"Falha ao remover")}return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Disponibilidade Semanal"}),t.jsx("form",{onSubmit:x,className:"mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Dia da Semana"}),t.jsx("select",{value:d.weekday,onChange:S=>u(_=>({..._,weekday:S.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",children:EN.map(S=>t.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Horário Início"}),t.jsx("input",{type:"time",step:60,value:d.start_time?.slice(0,5),onChange:S=>u(_=>({..._,start_time:`${S.target.value}:00`})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Horário Fim"}),t.jsx("input",{type:"time",step:60,value:d.end_time?.slice(0,5),onChange:S=>u(_=>({..._,end_time:`${S.target.value}:00`})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Duração (min)"}),t.jsx("input",{type:"number",min:5,step:5,value:d.slot_minutes,onChange:S=>u(_=>({..._,slot_minutes:Number(S.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tipo Atendimento"}),t.jsxs("select",{value:d.appointment_type,onChange:S=>u(_=>({..._,appointment_type:S.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",children:[t.jsx("option",{value:"presencial",children:"Presencial"}),t.jsx("option",{value:"telemedicina",children:"Telemedicina"})]})]}),t.jsx("div",{className:"flex flex-col justify-end",children:t.jsx("button",{type:"submit",disabled:!v||g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:g?"Salvando...":"Adicionar"})})]})}),i?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?t.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"Nenhuma disponibilidade cadastrada. Use o formulário acima para adicionar horários."}):t.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dia da Semana"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Horário Início"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Horário Fim"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duração"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(S=>t.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 hover:bg-blue-50/40 transition-colors",children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.weekday?S.weekday.charAt(0).toUpperCase()+S.weekday.slice(1):"-"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:S.start_time?.slice(0,5)}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:S.end_time?.slice(0,5)}),t.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[S.slot_minutes||30," min"]}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:S.appointment_type==="presencial"?"Presencial":"Telemedicina"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsx("button",{className:`px-3 py-1 rounded-full text-xs font-medium ${S.active?"bg-green-100 text-green-800 ring-1 ring-green-600/20 hover:bg-green-200":"bg-gray-100 text-gray-800 ring-1 ring-gray-600/20 hover:bg-gray-200"}`,onClick:()=>void w(S),children:S.active?"Ativo":"Inativo"})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:t.jsx("button",{className:"inline-flex items-center gap-1 rounded-md px-2.5 py-1.5 text-red-700 bg-red-50 hover:bg-red-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",onClick:()=>void D(S),children:"Remover"})})]},S.id))})]})})]})},PN=({doctorId:a})=>{const[s,n]=y.useState([]),[i,l]=y.useState(!1),[d,u]=y.useState({date:"",start_time:"",end_time:"",kind:"bloqueio",reason:""}),[g,h]=y.useState(!1);async function v(){if(!a)return;l(!0);const w=await Us.listExceptions({doctor_id:a});w.success&&w.data?n(w.data):M.error(w.error||"Erro ao carregar exceções"),l(!1)}y.useEffect(()=>{v()},[a]);async function p(w){if(w.preventDefault(),!a||!d.date||!d.kind){M.error("Preencha data e tipo");return}h(!0);const D=await Us.createException({doctor_id:a,date:d.date,start_time:d.start_time||void 0,end_time:d.end_time||void 0,kind:d.kind,reason:d.reason||void 0});h(!1),D.success?(M.success("Exceção criada"),u({date:"",start_time:"",end_time:"",kind:"bloqueio",reason:""}),v()):M.error(D.error||"Falha ao criar")}async function x(w){if(!w.id||!confirm("Remover exceção?"))return;const S=await Us.deleteException(w.id);S.success?(M.success("Removida"),v()):M.error(S.error||"Falha ao remover")}return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exceções (Bloqueios/Liberações)"}),t.jsx("form",{onSubmit:p,className:"mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Data"}),t.jsx("input",{type:"date",value:d.date,onChange:w=>u(D=>({...D,date:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",required:!0})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1",children:["Início"," ",t.jsx("span",{className:"text-gray-400 font-normal",children:"(opcional)"})]}),t.jsx("input",{type:"time",value:d.start_time,onChange:w=>u(D=>({...D,start_time:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",placeholder:"Dia todo"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1",children:["Fim ",t.jsx("span",{className:"text-gray-400 font-normal",children:"(opcional)"})]}),t.jsx("input",{type:"time",value:d.end_time,onChange:w=>u(D=>({...D,end_time:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",placeholder:"Dia todo"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),t.jsxs("select",{value:d.kind,onChange:w=>u(D=>({...D,kind:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",children:[t.jsx("option",{value:"bloqueio",children:"Bloqueio"}),t.jsx("option",{value:"liberacao",children:"Liberação"})]})]}),t.jsxs("div",{className:"flex flex-col md:col-span-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1",children:["Motivo"," ",t.jsx("span",{className:"text-gray-400 font-normal",children:"(opcional)"})]}),t.jsx("input",{type:"text",value:d.reason,onChange:w=>u(D=>({...D,reason:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",placeholder:"Ex.: Férias, Reunião, etc."})]}),t.jsx("div",{className:"flex flex-col justify-end",children:t.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:g?"Salvando...":"Adicionar"})})]})}),i?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?t.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"Nenhuma exceção cadastrada. Use o formulário acima para bloquear/liberar horários."}):t.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Horário Início"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Horário Fim"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Motivo"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(w=>t.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 hover:bg-blue-50/40 transition-colors",children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.date?new Date(w.date+"T00:00:00").toLocaleDateString("pt-BR"):"—"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:w.start_time?w.start_time.slice(0,5):t.jsx("span",{className:"text-gray-400",children:"Dia todo"})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:w.end_time?w.end_time.slice(0,5):t.jsx("span",{className:"text-gray-400",children:"Dia todo"})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ring-1 ${w.kind==="bloqueio"?"bg-red-50 text-red-700 ring-red-600/20":"bg-green-50 text-green-700 ring-green-600/20"}`,children:w.kind==="bloqueio"?"Bloqueio":"Liberação"})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:w.reason||t.jsx("span",{className:"text-gray-400",children:"—"})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:t.jsx("button",{className:"inline-flex items-center gap-1 rounded-md px-2.5 py-1.5 text-red-700 bg-red-50 hover:bg-red-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",onClick:()=>void x(w),children:"Remover"})})]},w.id))})]})})]})},AN=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],MN=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],DN=({doctorId:a})=>{const[s,n]=y.useState(new Date),[i,l]=y.useState([]),[d,u]=y.useState(!1),[g,h]=y.useState(null),[v,p]=y.useState({});y.useEffect(()=>{a&&(x(),w())},[a,s]);async function x(){u(!0);try{const F=await ds.listAppointments();if(F.success&&F.data){const K=F.data.filter(oe=>oe.doctor_id===a);l(K)}else M.error(F.error||"Erro ao carregar agendamentos")}catch(F){console.error("Erro ao carregar agendamentos:",F),M.error("Erro ao carregar agendamentos")}finally{u(!1)}}async function w(){try{const F=await eu.listPatients();if(F&&Array.isArray(F.data)){const K={};for(const oe of F.data)oe?.id&&(K[oe.id]=oe.nome||oe.email||oe.cpf||oe.id);p(K)}else if(F&&typeof F=="object"&&F.data?.data){const K=F.data?.data||[],oe={};for(const W of K)W?.id&&(oe[W.id]=W.nome||W.email||W.cpf||W.id);p(oe)}}catch{}finally{}}function D(F){return F?v[F]||F:""}function S(){const F=s.getFullYear(),K=s.getMonth(),oe=new Date(F,K,1),W=new Date(F,K+1,0),fe=oe.getDay(),he=[],ve=new Date;ve.setHours(0,0,0,0);const Se=new Date(F,K,0);for(let ue=fe-1;ue>=0;ue--){const me=new Date(F,K-1,Se.getDate()-ue),Y=_(me);he.push({date:me,dateStr:Y,isCurrentMonth:!1,isToday:!1,appointments:k(Y)})}for(let ue=1;ue<=W.getDate();ue++){const me=new Date(F,K,ue),Y=_(me),q=me.getTime()===ve.getTime();he.push({date:me,dateStr:Y,isCurrentMonth:!0,isToday:q,appointments:k(Y)})}const Ce=42-he.length;for(let ue=1;ue<=Ce;ue++){const me=new Date(F,K+1,ue),Y=_(me);he.push({date:me,dateStr:Y,isCurrentMonth:!1,isToday:!1,appointments:k(Y)})}return he}function _(F){return F.toISOString().split("T")[0]}function k(F){return i.filter(K=>K.scheduled_at?K.scheduled_at.split("T")[0]===F:!1)}function O(){n(new Date(s.getFullYear(),s.getMonth()-1,1))}function A(){n(new Date(s.getFullYear(),s.getMonth()+1,1))}function j(){n(new Date)}function P(F){switch(F){case"confirmed":return"bg-blue-500";case"completed":return"bg-green-500";case"cancelled":return"bg-red-500";case"no_show":return"bg-gray-500";case"checked_in":return"bg-purple-500";case"in_progress":return"bg-yellow-500";default:return"bg-orange-500"}}function X(F){return{requested:"Solicitado",confirmed:"Confirmado",checked_in:"Check-in",in_progress:"Em andamento",completed:"Concluído",cancelled:"Cancelado",no_show:"Faltou"}[F||"requested"]||F||"Solicitado"}const ae=S();return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Calendário de Consultas"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:j,className:"px-3 py-1.5 text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Hoje"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:O,className:"p-2 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500","aria-label":"Mês anterior",children:t.jsx(iv,{className:"w-5 h-5"})}),t.jsxs("span",{className:"text-lg font-medium min-w-[200px] text-center",children:[MN[s.getMonth()]," ",s.getFullYear()]}),t.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500","aria-label":"Próximo mês",children:t.jsx(cv,{className:"w-5 h-5"})})]})]})]}),d?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:AN.map(F=>t.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:F},F))}),t.jsx("div",{className:"grid grid-cols-7 gap-1",children:ae.map((F,K)=>t.jsxs("div",{className:`group min-h-[110px] border rounded-lg p-2 transition-colors ${F.isCurrentMonth?"bg-white border-gray-200":"bg-gray-50 border-gray-100"} ${F.isToday?"ring-2 ring-blue-500":""} ${F.appointments.length>0?"cursor-pointer hover:bg-blue-50":""}`,onClick:()=>F.appointments.length>0&&h(F),children:[t.jsx("div",{className:`text-sm font-medium mb-2 ${F.isCurrentMonth?"text-gray-900":"text-gray-400"} ${F.isToday?"text-blue-600 font-bold":""}`,children:F.date.getDate()}),t.jsxs("div",{className:"space-y-1",children:[F.appointments.slice(0,3).map((oe,W)=>t.jsx("div",{className:`text-xs px-1 py-0.5 rounded text-white ${P(oe.status)} truncate`,title:`${oe.scheduled_at?.slice(11,16)} - ${X(oe.status)}`,children:oe.scheduled_at?.slice(11,16)},oe.id||W)),F.appointments.length>3&&t.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",F.appointments.length-3," mais"]})]})]},K))})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-[2px] flex items-center justify-center z-50",onClick:()=>h(null),role:"dialog","aria-modal":"true","aria-label":"Consultas do dia selecionado",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-auto ring-1 ring-black/5",onClick:F=>F.stopPropagation(),children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Consultas de"," ",g.date.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),t.jsx("button",{onClick:()=>h(null),"aria-label":"Fechar",className:"p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:t.jsx(Gr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-6 space-y-3",children:g.appointments.length===0?t.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma consulta agendada para este dia."}):g.appointments.map(F=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:F.scheduled_at?.slice(11,16)}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium text-white ${P(F.status)}`,children:X(F.status)})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Paciente:"})," ",D(F.patient_id)]}),F.appointment_type&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Tipo:"})," ",F.appointment_type==="presencial"?"Presencial":"Telemedicina"]}),F.chief_complaint&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Queixa:"})," ",F.chief_complaint]})]})]})})},F.id))}),t.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Fechar"})})]})})]})},RN=({isOpen:a,onClose:s,patientId:n,patientName:i,onSuccess:l})=>{const[d,u]=y.useState([]),[g,h]=y.useState(!1),[v,p]=y.useState([]),[x,w]=y.useState(!1),[D,S]=y.useState(""),[_,k]=y.useState(""),[O,A]=y.useState(""),[j,P]=y.useState("presencial"),[X,ae]=y.useState(""),[F,K]=y.useState(!1),[oe,W]=y.useState(""),[fe,he]=y.useState(""),ve=y.useRef(null),Se=y.useRef(null),Ce=y.useRef(null),ue=y.useRef(null),me=y.useMemo(()=>`schedule-modal-title-${n??"novo"}`,[n]),Y=y.useMemo(()=>`schedule-modal-desc-${n??"novo"}`,[n]);y.useEffect(()=>{a&&(q(),n?(W(n),he(i||"")):Q(),setTimeout(()=>Ce.current?.focus(),0))},[a]);async function q(){h(!0);const J=await vr.listarMedicos();h(!1),J.success&&J.data?u(J.data.data):M.error("Erro ao carregar médicos")}async function Q(){w(!0);try{const J=await eu.listPatients();w(!1),J&&Array.isArray(J.data)?p(J.data):J&&typeof J=="object"&&J.data?.data?p(J.data?.data||[]):M.error("Erro ao carregar pacientes")}catch{w(!1),M.error("Erro ao carregar pacientes")}}async function C(J){J.preventDefault();const Ae=n||oe;if(!D||!_||!O||!Ae){M.error("Preencha médico, data e horário");return}K(!0);const He=`${_}T${O}:00`,$e=await ds.createAppointment({patient_id:Ae,doctor_id:D,scheduled_at:He,appointment_type:j,chief_complaint:X||void 0});K(!1),$e.success?(M.success("Agendamento criado com sucesso!"),l?.(),$()):M.error($e.error||"Erro ao criar agendamento")}function $(){S(""),k(""),A(""),P("presencial"),ae(""),W(""),he(""),s()}if(!a)return null;const re=d.find(J=>J.id===D),ie=!!n,U=ie?i:fe||(v.find(J=>J.id===oe)?.nome??"");function le(J){J.key==="Escape"&&(J.stopPropagation(),$())}function de(J){J.target===ve.current&&$()}return t.jsx("div",{ref:ve,className:"fixed inset-0 bg-black/50 backdrop-blur-[2px] flex items-center justify-center z-50 p-4",onClick:de,onKeyDown:le,role:"dialog","aria-modal":"true","aria-labelledby":me,"aria-describedby":Y,children:t.jsxs("div",{ref:Se,className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto ring-1 ring-black/5 animate-in fade-in zoom-in duration-150",onClick:J=>J.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-50 to-white border-b px-6 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Da,{className:"w-5 h-5 text-blue-600","aria-hidden":"true"}),t.jsxs("h2",{id:me,className:"text-lg md:text-xl font-semibold text-gray-900",children:["Agendar consulta •"," ",t.jsx("span",{className:"font-normal text-gray-700",children:U})]})]}),t.jsx("button",{ref:ue,onClick:$,"aria-label":"Fechar modal de agendamento",className:"inline-flex items-center justify-center rounded-md p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:t.jsx(Gr,{className:"w-5 h-5"})})]}),t.jsx("p",{id:Y,className:"sr-only",children:"Selecione o médico, a data, o tipo de consulta e um horário disponível para criar um novo agendamento."}),t.jsxs("form",{onSubmit:C,className:"p-6 space-y-6","aria-busy":F,children:[!ie&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paciente *"}),x?t.jsx("div",{className:"h-10 w-full rounded-lg bg-gray-100 animate-pulse","aria-live":"polite","aria-label":"Carregando pacientes"}):t.jsxs("select",{value:oe,onChange:J=>{W(J.target.value);const Ae=v.find(He=>He.id===J.target.value);he(Ae?.nome||"")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",required:!0,children:[t.jsx("option",{value:"",children:"-- Selecione um paciente --"}),v.map(J=>t.jsxs("option",{value:J.id,children:[J.nome," ",J.cpf?`- ${J.cpf}`:""]},J.id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Médico"," ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),g?t.jsx("div",{className:"h-10 w-full rounded-lg bg-gray-100 animate-pulse","aria-live":"polite","aria-label":"Carregando médicos"}):t.jsxs("select",{value:D,onChange:J=>S(J.target.value),ref:Ce,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",required:!0,children:[t.jsx("option",{value:"",children:"-- Selecione um médico --"}),d.map(J=>t.jsxs("option",{value:J.id,children:[J.nome," - ",J.especialidade]},J.id))]}),re&&t.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["CRM: ",re.crm]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Data"," ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{type:"date",value:_,onChange:J=>{k(J.target.value),A("")},min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",required:!0}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500 flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3.5 h-3.5"})," Selecione uma data para ver os horários disponíveis."]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo de Consulta"," ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("select",{value:j,onChange:J=>P(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",required:!0,children:[t.jsx("option",{value:"presencial",children:"Presencial"}),t.jsx("option",{value:"telemedicina",children:"Telemedicina"})]}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500 flex items-center gap-1",children:[t.jsx(br,{className:"w-3.5 h-3.5"})," O tipo de consulta pode alterar a disponibilidade de horários."]})]}),D&&_&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horários Disponíveis *"}),t.jsx(qp,{doctorId:D,date:_,appointment_type:j,onSelect:J=>A(J)}),O&&t.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-md bg-green-50 px-3 py-1.5 text-sm text-green-700 ring-1 ring-green-600/20",children:[t.jsx("span",{"aria-hidden":!0,children:"✓"})," Horário selecionado:"," ",t.jsx("span",{className:"font-semibold",children:O})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo da Consulta (opcional)"}),t.jsx("textarea",{value:X,onChange:J=>ae(J.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors",placeholder:"Ex: Consulta de rotina, dor de cabeça..."})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4 border-t",children:[t.jsx("button",{type:"button",onClick:$,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",disabled:F,children:"Cancelar"}),t.jsx("button",{type:"submit",className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",disabled:F||!D||!_||!O||!ie&&!oe,children:F?t.jsxs(t.Fragment,{children:[t.jsx(Nd,{className:"w-4 h-4 animate-spin","aria-hidden":!0})," ","Agendando..."]}):"Confirmar Agendamento"})]})]})]})})},ON=["A+","A-","B+","B-","AB+","AB-","O+","O-"],LN=[{value:"55",label:"+55 🇧🇷 Brasil"},{value:"1",label:"+1 🇺🇸 EUA/Canadá"},{value:"93",label:"+93 🇦🇫 Afeganistão"},{value:"355",label:"+355 🇦🇱 Albânia"},{value:"49",label:"+49 🇩🇪 Alemanha"},{value:"376",label:"+376 🇦🇩 Andorra"},{value:"244",label:"+244 🇦🇴 Angola"},{value:"54",label:"+54 🇦🇷 Argentina"},{value:"374",label:"+374 🇦🇲 Armênia"},{value:"61",label:"+61 🇦🇺 Austrália"},{value:"43",label:"+43 🇦🇹 Áustria"},{value:"994",label:"+994 🇦🇿 Azerbaijão"},{value:"973",label:"+973 🇧🇭 Bahrein"},{value:"880",label:"+880 🇧🇩 Bangladesh"},{value:"375",label:"+375 🇧🇾 Bielorrússia"},{value:"32",label:"+32 🇧🇪 Bélgica"},{value:"501",label:"+501 🇧🇿 Belize"},{value:"591",label:"+591 🇧🇴 Bolívia"},{value:"387",label:"+387 🇧🇦 Bósnia"},{value:"267",label:"+267 🇧🇼 Botsuana"},{value:"359",label:"+359 🇧🇬 Bulgária"},{value:"226",label:"+226 🇧🇫 Burkina Faso"},{value:"257",label:"+257 🇧🇮 Burundi"},{value:"238",label:"+238 🇨🇻 Cabo Verde"},{value:"855",label:"+855 🇰🇭 Camboja"},{value:"237",label:"+237 🇨🇲 Camarões"},{value:"56",label:"+56 🇨🇱 Chile"},{value:"86",label:"+86 🇨🇳 China"},{value:"57",label:"+57 🇨🇴 Colômbia"},{value:"242",label:"+242 🇨🇬 Congo"},{value:"82",label:"+82 🇰🇷 Coreia do Sul"},{value:"850",label:"+850 🇰🇵 Coreia do Norte"},{value:"506",label:"+506 🇨🇷 Costa Rica"},{value:"225",label:"+225 🇨🇮 Costa do Marfim"},{value:"385",label:"+385 🇭🇷 Croácia"},{value:"53",label:"+53 🇨🇺 Cuba"},{value:"45",label:"+45 🇩🇰 Dinamarca"},{value:"593",label:"+593 🇪🇨 Equador"},{value:"20",label:"+20 🇪🇬 Egito"},{value:"503",label:"+503 🇸🇻 El Salvador"},{value:"971",label:"+971 🇦🇪 Emirados Árabes"},{value:"593",label:"+593 🇪🇨 Equador"},{value:"291",label:"+291 🇪🇷 Eritreia"},{value:"421",label:"+421 🇸🇰 Eslováquia"},{value:"386",label:"+386 🇸🇮 Eslovênia"},{value:"34",label:"+34 🇪🇸 Espanha"},{value:"251",label:"+251 🇪🇹 Etiópia"},{value:"679",label:"+679 🇫🇯 Fiji"},{value:"63",label:"+63 🇵🇭 Filipinas"},{value:"358",label:"+358 🇫🇮 Finlândia"},{value:"33",label:"+33 🇫🇷 França"},{value:"241",label:"+241 🇬🇦 Gabão"},{value:"220",label:"+220 🇬🇲 Gâmbia"},{value:"233",label:"+233 🇬🇭 Gana"},{value:"995",label:"+995 🇬🇪 Geórgia"},{value:"350",label:"+350 🇬🇮 Gibraltar"},{value:"30",label:"+30 🇬🇷 Grécia"},{value:"502",label:"+502 🇬🇹 Guatemala"},{value:"224",label:"+224 🇬🇳 Guiné"},{value:"245",label:"+245 🇬🇼 Guiné-Bissau"},{value:"509",label:"+509 🇭🇹 Haiti"},{value:"504",label:"+504 🇭🇳 Honduras"},{value:"852",label:"+852 🇭🇰 Hong Kong"},{value:"36",label:"+36 🇭🇺 Hungria"},{value:"967",label:"+967 🇾🇪 Iêmen"},{value:"91",label:"+91 🇮🇳 Índia"},{value:"62",label:"+62 🇮🇩 Indonésia"},{value:"98",label:"+98 🇮🇷 Irã"},{value:"964",label:"+964 🇮🇶 Iraque"},{value:"353",label:"+353 🇮🇪 Irlanda"},{value:"354",label:"+354 🇮🇸 Islândia"},{value:"972",label:"+972 🇮🇱 Israel"},{value:"39",label:"+39 🇮🇹 Itália"},{value:"81",label:"+81 🇯🇵 Japão"},{value:"962",label:"+962 🇯🇴 Jordânia"},{value:"254",label:"+254 🇰🇪 Quênia"},{value:"996",label:"+996 🇰🇬 Quirguistão"},{value:"383",label:"+383 🇽🇰 Kosovo"},{value:"965",label:"+965 🇰🇼 Kuwait"},{value:"856",label:"+856 🇱🇦 Laos"},{value:"371",label:"+371 🇱🇻 Letônia"},{value:"961",label:"+961 🇱🇧 Líbano"},{value:"266",label:"+266 🇱🇸 Lesoto"},{value:"231",label:"+231 🇱🇷 Libéria"},{value:"218",label:"+218 🇱🇾 Líbia"},{value:"423",label:"+423 🇱🇮 Liechtenstein"},{value:"370",label:"+370 🇱🇹 Lituânia"},{value:"352",label:"+352 🇱🇺 Luxemburgo"},{value:"853",label:"+853 🇲🇴 Macau"},{value:"389",label:"+389 🇲🇰 Macedônia"},{value:"261",label:"+261 🇲🇬 Madagascar"},{value:"60",label:"+60 🇲🇾 Malásia"},{value:"265",label:"+265 🇲🇼 Malawi"},{value:"960",label:"+960 🇲🇻 Maldivas"},{value:"223",label:"+223 🇲🇱 Mali"},{value:"356",label:"+356 🇲🇹 Malta"},{value:"212",label:"+212 🇲🇦 Marrocos"},{value:"230",label:"+230 🇲🇺 Maurício"},{value:"222",label:"+222 🇲🇷 Mauritânia"},{value:"52",label:"+52 🇲🇽 México"},{value:"95",label:"+95 🇲🇲 Mianmar"},{value:"258",label:"+258 🇲🇿 Moçambique"},{value:"373",label:"+373 🇲🇩 Moldávia"},{value:"377",label:"+377 🇲🇨 Mônaco"},{value:"976",label:"+976 🇲🇳 Mongólia"},{value:"382",label:"+382 🇲🇪 Montenegro"},{value:"264",label:"+264 🇳🇦 Namíbia"},{value:"977",label:"+977 🇳🇵 Nepal"},{value:"505",label:"+505 🇳🇮 Nicarágua"},{value:"227",label:"+227 🇳🇪 Níger"},{value:"234",label:"+234 🇳🇬 Nigéria"},{value:"47",label:"+47 🇳🇴 Noruega"},{value:"64",label:"+64 🇳🇿 Nova Zelândia"},{value:"968",label:"+968 🇴🇲 Omã"},{value:"31",label:"+31 🇳🇱 Países Baixos"},{value:"92",label:"+92 🇵🇰 Paquistão"},{value:"507",label:"+507 🇵🇦 Panamá"},{value:"675",label:"+675 🇵🇬 Papua Nova Guiné"},{value:"595",label:"+595 🇵🇾 Paraguai"},{value:"51",label:"+51 🇵🇪 Peru"},{value:"48",label:"+48 🇵🇱 Polônia"},{value:"351",label:"+351 🇵🇹 Portugal"},{value:"974",label:"+974 🇶🇦 Qatar"},{value:"44",label:"+44 🇬🇧 Reino Unido"},{value:"236",label:"+236 🇨🇫 Rep. Centro-Africana"},{value:"243",label:"+243 🇨🇩 Rep. Dem. do Congo"},{value:"420",label:"+420 🇨🇿 República Tcheca"},{value:"40",label:"+40 🇷🇴 Romênia"},{value:"250",label:"+250 🇷🇼 Ruanda"},{value:"7",label:"+7 🇷🇺 Rússia"},{value:"966",label:"+966 🇸🇦 Arábia Saudita"},{value:"221",label:"+221 🇸🇳 Senegal"},{value:"381",label:"+381 🇷🇸 Sérvia"},{value:"65",label:"+65 🇸🇬 Singapura"},{value:"963",label:"+963 🇸🇾 Síria"},{value:"252",label:"+252 🇸🇴 Somália"},{value:"94",label:"+94 🇱🇰 Sri Lanka"},{value:"268",label:"+268 🇸🇿 Suazilândia"},{value:"249",label:"+249 🇸🇩 Sudão"},{value:"211",label:"+211 🇸🇸 Sudão do Sul"},{value:"46",label:"+46 🇸🇪 Suécia"},{value:"41",label:"+41 🇨🇭 Suíça"},{value:"597",label:"+597 🇸🇷 Suriname"},{value:"66",label:"+66 🇹🇭 Tailândia"},{value:"886",label:"+886 🇹🇼 Taiwan"},{value:"992",label:"+992 🇹🇯 Tajiquistão"},{value:"255",label:"+255 🇹🇿 Tanzânia"},{value:"670",label:"+670 🇹🇱 Timor-Leste"},{value:"228",label:"+228 🇹🇬 Togo"},{value:"676",label:"+676 🇹🇴 Tonga"},{value:"216",label:"+216 🇹🇳 Tunísia"},{value:"993",label:"+993 🇹🇲 Turcomenistão"},{value:"90",label:"+90 🇹🇷 Turquia"},{value:"380",label:"+380 🇺🇦 Ucrânia"},{value:"256",label:"+256 🇺🇬 Uganda"},{value:"598",label:"+598 🇺🇾 Uruguai"},{value:"998",label:"+998 🇺🇿 Uzbequistão"},{value:"678",label:"+678 🇻🇺 Vanuatu"},{value:"58",label:"+58 🇻🇪 Venezuela"},{value:"84",label:"+84 🇻🇳 Vietnã"},{value:"260",label:"+260 🇿🇲 Zâmbia"},{value:"263",label:"+263 🇿🇼 Zimbábue"}],Cg=["Particular","Unimed","SulAmérica","Bradesco Saúde","Amil","NotreDame"],IN=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2,11),_g=()=>({nome:"",social_name:"",cpf:"",sexo:"",dataNascimento:"",email:"",codigoPais:"55",ddd:"",numeroTelefone:"",telefone:void 0,tipo_sanguineo:"",altura:"",peso:"",convenio:"",numeroCarteirinha:"",observacoes:"",endereco:{rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:""},rg:"",estado_civil:"",profissao:"",telefoneSecundario:"",telefoneReferencia:"",codigo_legado:"",responsavel_nome:"",responsavel_cpf:"",documentos:[]}),Eg=()=>({nome:"",email:"",crm:"",crmUf:"SP",cpf:"",telefone:"",telefone2:"",especialidade:"",dataNascimento:"",rg:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",senha:""}),Qn=a=>{const s=a.replace(/\D/g,"").slice(0,11);let n=s;return s.length>3&&(n=n.replace(/(\d{3})(\d)/,"$1.$2")),s.length>6&&(n=n.replace(/(\d{3})\.(\d{3})(\d)/,"$1.$2.$3")),s.length>9&&(n=n.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),{formatted:n,digits:s}},Tg=a=>{const s=a.replace(/\D/g,"").slice(0,8);return s.length>5?s.replace(/(\d{5})(\d{1,3})/,"$1-$2"):s},$N=a=>{if(!a)return{codigoPais:"55",ddd:"",numeroTelefone:""};const s=a.replace(/\D/g,"");if(s.length<=9)return{codigoPais:"55",ddd:"",numeroTelefone:s};const n=s.slice(-9),i=s.length>=11?s.slice(-11,-9):"";return{codigoPais:s.slice(0,s.length-9-(i?2:0))||"55",ddd:i,numeroTelefone:n}},Xp=(a,s,n)=>{const i=a.replace(/\D/g,""),l=s.replace(/\D/g,""),d=n.replace(/\D/g,"");if(!i&&!l&&!d)return;let u=d;return d.length>5&&(u=d.replace(/(\d{5})(\d{1,4})?/,"$1-$2")),l&&(u=`(${l}) ${u}`),i&&(u=`+${i} ${u}`),u},Mi=a=>{const s=a.id||IN(),n=$N(a.telefone);return{id:s,nome:a.nome??"",email:a.email??"",telefone:a.telefone??void 0,codigoPais:n.codigoPais||"55",ddd:n.ddd,numeroTelefone:n.numeroTelefone,cpf:a.cpf??"",sexo:a.sexo??"",dataNascimento:a.dataNascimento??"",tipo_sanguineo:a.tipo_sanguineo||a.tipoSanguineo||"",altura:a.altura??a.alturaM??null,peso:a.peso??a.pesoKg??null,convenio:a.convenio??null,numeroCarteirinha:a.numeroCarteirinha??null,observacoes:a.observacoes??null,vip:!!a.vip,endereco:{rua:a.endereco?.rua??"",numero:a.endereco?.numero??"",complemento:a.endereco?.complemento??"",bairro:a.endereco?.bairro??"",cidade:a.endereco?.cidade??"",estado:a.endereco?.estado??"",cep:a.endereco?.cep??""}}},FN=a=>{const{formatted:s}=Qn(a.cpf??"");return{id:a.id,nome:a.nome,social_name:"",cpf:s,sexo:a.sexo??"",dataNascimento:a.dataNascimento??"",email:a.email??"",codigoPais:a.codigoPais||"55",ddd:a.ddd,numeroTelefone:a.numeroTelefone,telefone:a.telefone,tipo_sanguineo:a.tipo_sanguineo??"",altura:a.altura!==null&&a.altura!==void 0?String(a.altura):"",peso:a.peso!==null&&a.peso!==void 0?String(a.peso):"",convenio:a.convenio??"",numeroCarteirinha:a.numeroCarteirinha??"",observacoes:a.observacoes??"",endereco:{rua:a.endereco.rua??"",numero:a.endereco.numero??"",complemento:a.endereco.complemento??"",bairro:a.endereco.bairro??"",cidade:a.endereco.cidade??"",estado:a.endereco.estado??"",cep:a.endereco.cep??""}}},zN=a=>Xp(a.codigoPais,a.ddd,a.numeroTelefone)??a.telefone??"Telefone não informado",Pg=a=>a?a.trim().toLowerCase():"Não informado",UN=a=>{if(!a)return"";const[s,n]=a.split("T");if(!s)return a;const[i,l,d]=s.split("-"),u=(n||"").slice(0,8);return i&&l&&d&&u?`${d}/${l}/${i}, ${u}`:i&&l&&d?`${d}/${l}/${i}`:a},qN=a=>{const s=a.replace(/\D/g,"").slice(0,13);return s?s.length<=2?`(${s}`:s.length<=10?s.replace(/(\d{2})(\d{4})(\d{0,4})?/,(n,i,l,d)=>d?`(${i}) ${l}-${d}`:`(${i}) ${l}`):s.replace(/(\d{2})(\d{2})(\d{5})(\d{0,4})?/,(n,i,l,d,u)=>{const g=`+${i} (${l}) ${d}`;return u?`${g}-${u}`:g}):""},BN=a=>({requested:"agendada",confirmed:"confirmada",cancelled:"cancelada",completed:"realizada",no_show:"faltou",checked_in:"confirmada",in_progress:"confirmada"})[a]||"agendada",HN=(a,s,n)=>{const i=s.find(d=>d.id===a.patient_id),l=n.find(d=>d.id===a.doctor_id);return{id:a.id||"",pacienteId:a.patient_id||"",medicoId:a.doctor_id||"",pacienteNome:i?.nome||"Paciente não encontrado",medicoNome:l?.nome||"Médico não encontrado",dataHora:a.scheduled_at||"",tipo:a.appointment_type||"consulta",status:BN(a.status||"requested")}},VN=()=>{const a=Nt(),{logout:s}=tr(),[n,i]=y.useState(!1),[l,d]=y.useState("pacientes"),[u,g]=y.useState([]),[h,v]=y.useState(!1),[p,x]=y.useState(!1),[w,D]=y.useState(!1),[S,_]=y.useState({patientId:"",orderNumber:"",exam:"",diagnosis:"",conclusion:"",dueAt:"",status:"draft"}),[k,O]=y.useState("create"),[A,j]=y.useState(null),P=()=>{const N=new Date,L=N.getFullYear(),ne=String(N.getMonth()+1).padStart(2,"0"),xe="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let Ye="";for(let lt=0;lt<6;lt++)Ye+=xe[Math.floor(Math.random()*xe.length)];return`REL-${L}-${ne}-${Ye}`},X=/^REL-\d{4}-\d{2}-[A-Z0-9]{6}$/,[ae,F]=y.useState(!1),[K,oe]=y.useState(!1),[W,fe]=y.useState(null),he=async N=>{if(N){oe(!0),fe(null);try{const L=await Fi.buscarRelatorioPorId(N);L.success&&L.data?(fe(L.data),F(!0)):M.error(L.error||"Erro ao carregar relatório")}catch{M.error("Erro ao carregar relatório")}finally{oe(!1)}}},[ve,Se]=y.useState(""),[Ce,ue]=y.useState([]),[me,Y]=y.useState([]),[q,Q]=y.useState([]),[C,$]=y.useState([]),[re,ie]=y.useState(!1),[U,le]=y.useState(""),[de,J]=y.useState(""),[Ae,He]=y.useState(""),[$e,et]=y.useState(""),[Yt,rr]=y.useState(""),[Nr,aa]=y.useState({}),[ht,Qt]=y.useState(""),[Xt,Ot]=y.useState(""),[Lt,ee]=y.useState(""),[E,ce]=y.useState(!1),[ke,Kt]=y.useState(!1),[It,Ir]=y.useState(!1),[sa,na]=y.useState("create"),[be,Ve]=y.useState(_g()),[tn,za]=y.useState(!1),[$r,gs]=y.useState("create"),[je,Xe]=y.useState(Eg()),[rn,Ua]=y.useState(!1),[oa,Fr]=y.useState(""),[ho,an]=y.useState(""),ps=y.useCallback(async()=>{try{console.log("[PainelSecretaria] Carregando pacientes...");const N=await Fa();console.log("[PainelSecretaria] Resposta pacientes:",N);const L=N.data||[];console.log("[PainelSecretaria] Pacientes recebidos:",L.length),Y(L.map(Mi))}catch(N){console.error("Erro ao carregar pacientes:",N),M.error("Erro ao carregar pacientes")}},[]),sn=y.useCallback(async()=>{try{console.log("[PainelSecretaria] Carregando médicos...");const N=await vr.listarMedicos();console.log("[PainelSecretaria] Resposta médicos:",N),N.success&&N.data?(console.log("[PainelSecretaria] Médicos recebidos:",N.data.data.length),Q(N.data.data)):N.error&&(console.error("[PainelSecretaria] Erro na resposta:",N.error),M.error(N.error))}catch(N){console.error("Erro ao carregar médicos:",N),M.error("Erro ao carregar médicos")}},[]),ia=y.useCallback(async()=>{v(!0);try{const N=await Fi.listarRelatorios();N.success&&N.data?g(N.data):M.error("Erro ao carregar relatórios")}catch(N){console.error("Erro ao carregar relatórios:",N),M.error("Erro ao carregar relatórios")}finally{v(!1)}},[]),kr=y.useCallback(async()=>{ie(!0);try{console.log("[PainelSecretaria] Carregando agendamentos...");const N=await ds.listAppointments();console.log("[PainelSecretaria] Resposta agendamentos:",N),N.success&&N.data?(console.log("[PainelSecretaria] Agendamentos recebidos:",N.data.length),$(N.data)):N.error&&(console.error("[PainelSecretaria] Erro na resposta:",N.error),M.error(N.error))}catch(N){console.error("Erro ao carregar agendamentos:",N),M.error("Erro ao carregar agendamentos")}finally{ie(!1)}},[]),nn=y.useCallback(async()=>{i(!0);try{await Promise.all([ps(),sn(),ia(),kr()])}finally{i(!1)}},[ps,sn,ia,kr]);y.useEffect(()=>{nn()},[nn]),y.useEffect(()=>{l==="relatorios"&&ia()},[l,ia]),y.useEffect(()=>{(async()=>{const N=await vr.listarMedicos({status:"ativo"});N.success&&N.data&&(ue(N.data.data),!ve&&N.data.data.length&&Se(N.data.data[0].id))})()},[]);const ur=y.useCallback(()=>{Ve(_g())},[]),zr=y.useCallback(()=>{Xe(Eg())},[]),qa=y.useCallback(()=>{console.log("[PainelSecretaria] Fazendo logout..."),s(),M.success("Sessão encerrada"),a("/login-secretaria")},[s,a]),xl=y.useCallback(()=>{ur(),na("create"),Ir(!0)},[ur]),Ba=y.useCallback(N=>{Ve(FN(N)),na("edit"),Ir(!0)},[]),Ha=y.useCallback(()=>{Ir(!1)},[]),hs=y.useCallback(()=>{zr(),gs("create"),za(!0)},[zr]),on=y.useCallback(N=>{const L=N;Xe({id:N.id,nome:N.nome||"",email:N.email||"",crm:N.crm||"",crmUf:L.crmUf||"",cpf:L.cpf||"",telefone:N.telefone||"",telefone2:L.telefone2||"",especialidade:N.especialidade||"",dataNascimento:L.dataNascimento||"",rg:L.rg||"",cep:L.cep||"",rua:L.rua||"",numero:L.numero||"",complemento:L.complemento||"",bairro:L.bairro||"",cidade:L.cidade||"",estado:L.estado||"",senha:""}),gs("edit"),za(!0)},[]),xo=y.useCallback(()=>{za(!1)},[]),yl=y.useCallback(async()=>{if(!Xt){M.error("Informe o ID do paciente");return}i(!0);try{const N=await dl(Xt);N.success&&N.data?Y([Mi(N.data)]):M.error(N.error||"Paciente não encontrado")}catch(N){console.error("Erro ao buscar paciente:",N),M.error("Paciente não encontrado")}finally{i(!1)}},[Xt]),vl=y.useCallback(async N=>{if(window.confirm(`Deseja remover o paciente ${N.nome}?`))try{console.log("[PainelSecretaria] Deletando paciente:",{id:N.id,nome:N.nome});const L=await fo(N.id);console.log("[PainelSecretaria] Resultado da deleção:",L),L.success?(Y(ne=>ne.filter(xe=>xe.id!==N.id)),M.success("Paciente removido com sucesso")):(console.error("[PainelSecretaria] Falha ao deletar:",L.error),M.error(L.error||"Erro ao remover paciente"))}catch(L){console.error("[PainelSecretaria] Erro ao remover paciente:",L),M.error("Erro ao remover paciente")}},[]),Ur=y.useCallback(async N=>{if(window.confirm(`Deseja remover o médico ${N.nome}?`))try{const L=await vr.deletarMedico(N.id);L.success?(Q(ne=>ne.filter(xe=>xe.id!==N.id)),M.success("Médico removido")):L.error&&M.error(L.error)}catch(L){console.error("Erro ao remover médico:",L),M.error("Erro ao remover médico")}},[]),yo=y.useCallback(N=>{const{formatted:L}=Qn(N.target.value);Ve(ne=>({...ne,cpf:L}))},[]),ln=y.useCallback(async N=>{const L=N.replace(/\D/g,"");if(L.length===8)try{const ne=await to(L);if(!ne){M.error("CEP não encontrado");return}Ve(xe=>({...xe,endereco:{...xe.endereco,rua:ne.rua??xe.endereco.rua,bairro:ne.bairro??xe.endereco.bairro,cidade:ne.cidade??xe.endereco.cidade,estado:ne.estado??xe.endereco.estado,cep:ne.cep??N}}))}catch(ne){console.warn("Erro ao buscar CEP:",ne),M.error("Erro ao buscar CEP")}},[]),vo=y.useCallback(async N=>{const L=N.replace(/\D/g,"");if(L.length===8)try{const ne=await to(L);if(!ne){M.error("CEP não encontrado");return}Xe(xe=>({...xe,rua:ne.rua??xe.rua,bairro:ne.bairro??xe.bairro,cidade:ne.cidade??xe.cidade,estado:ne.estado??xe.estado,cep:ne.cep??N})),M.success("Endereço preenchido automaticamente!")}catch(ne){console.warn("Erro ao buscar CEP:",ne),M.error("Erro ao buscar CEP")}},[]),bo=y.useCallback(async N=>{N.preventDefault();const{digits:L}=Qn(be.cpf);i(!0);try{const ne=Xp(be.codigoPais,be.ddd,be.numeroTelefone)??be.telefone,xe={nome:be.nome,cpf:L,email:be.email,telefone:ne,sexo:be.sexo,dataNascimento:be.dataNascimento,tipoSanguineo:be.tipo_sanguineo,convenio:be.convenio,numeroCarteirinha:be.numeroCarteirinha,observacoes:be.observacoes,endereco:be.endereco},Ye={rg:be.rg,estado_civil:be.estado_civil,profissao:be.profissao,telefoneSecundario:be.telefoneSecundario,telefoneReferencia:be.telefoneReferencia,codigo_legado:be.codigo_legado,responsavel_nome:be.responsavel_nome,responsavel_cpf:be.responsavel_cpf,documentos:be.documentos||[]};try{const lt=localStorage.getItem("pacientes_meta")||"{}",tt=JSON.parse(lt);tt[be.id||L]={...tt[be.id||L]||{},...Ye,updatedAt:new Date().toISOString()},localStorage.setItem("pacientes_meta",JSON.stringify(tt))}catch{}if(be.altura.trim()&&(xe.alturaM=Number(be.altura)),be.peso.trim()&&(xe.pesoKg=Number(be.peso)),sa==="create"){const lt=await uo({nome:xe.nome||"",cpf:xe.cpf||"",email:xe.email||"",telefone:xe.telefone||"",dataNascimento:xe.dataNascimento,socialName:void 0,sexo:xe.sexo,tipoSanguineo:xe.tipoSanguineo,pesoKg:xe.pesoKg,alturaM:xe.alturaM,endereco:xe.endereco});if(lt.success&&lt.data)Y(tt=>[...tt,Mi(lt.data)]),M.success("Paciente cadastrado com sucesso!");else{M.error(lt.error||"Falha ao cadastrar paciente");return}}else if(sa==="edit"&&be.id){const lt=await mo(be.id,{nome:xe.nome||"",cpf:xe.cpf||"",email:xe.email||"",telefone:xe.telefone||"",dataNascimento:xe.dataNascimento,socialName:void 0,sexo:xe.sexo,tipoSanguineo:xe.tipoSanguineo,pesoKg:xe.pesoKg,alturaM:xe.alturaM,endereco:xe.endereco});if(lt.success&&lt.data){const tt=Mi(lt.data);Y($t=>$t.map(mr=>mr.id===be.id?tt:mr)),M.success("Paciente atualizado com sucesso!")}else{M.error(lt.error||"Falha ao atualizar paciente");return}}ur(),Ir(!1)}catch(ne){console.error("Erro ao salvar paciente:",ne),M.error("Erro ao salvar paciente")}finally{i(!1)}},[be,sa,ur]),wo=y.useCallback(async N=>{N.preventDefault(),i(!0);try{if($r==="create"){const L={nome:je.nome,email:je.email,crm:je.crm,crmUf:je.crmUf,cpf:je.cpf,telefone:je.telefone,telefone2:je.telefone2,especialidade:je.especialidade,dataNascimento:je.dataNascimento,rg:je.rg,cep:je.cep,rua:je.rua,numero:je.numero,complemento:je.complemento,bairro:je.bairro,cidade:je.cidade,estado:je.estado,status:"ativo"},ne=await vr.criarMedico(L);if(ne.success&&ne.data)Q(xe=>[...xe,ne.data]),M.success("Médico cadastrado com sucesso!");else if(ne.error){M.error(ne.error);return}}else if($r==="edit"&&je.id){const L={nome:je.nome,email:je.email,crm:je.crm,crmUf:je.crmUf,cpf:je.cpf,telefone:je.telefone,telefone2:je.telefone2,especialidade:je.especialidade,dataNascimento:je.dataNascimento,rg:je.rg,cep:je.cep,rua:je.rua,numero:je.numero,complemento:je.complemento,bairro:je.bairro,cidade:je.cidade,estado:je.estado},ne=await vr.atualizarMedico(je.id,L);if(ne.success&&ne.data)Q(xe=>xe.map(Ye=>Ye.id===je.id?ne.data:Ye)),M.success("Médico atualizado com sucesso!");else if(ne.error){M.error(ne.error);return}}zr(),za(!1)}catch(L){console.error("Erro ao salvar médico:",L),M.error("Erro ao salvar médico")}finally{i(!1)}},[$r,je,zr]),jo=y.useMemo(()=>{const N=new Set;return Cg.forEach(L=>N.add(L)),me.forEach(L=>{const ne=L.convenio?.trim();ne&&N.add(ne)}),Array.from(N).sort((L,ne)=>L.localeCompare(ne,"pt-BR",{sensitivity:"base"}))},[me]),la=y.useMemo(()=>{const N=ht.trim().toLowerCase(),L=Lt.trim().toLowerCase(),ne=new Date().getMonth();return me.filter(xe=>{const Ye=xe.nome?.toLowerCase()??"",lt=(xe.email??"").toLowerCase();if(!(!N||Ye.includes(N)||lt.includes(N))||!(!L||(xe.convenio??"").trim().toLowerCase()===L)||ke&&!xe.vip)return!1;if(E){if(!xe.dataNascimento)return!1;const mr=new Date(xe.dataNascimento);if(Number.isNaN(mr.getTime())||mr.getMonth()!==ne)return!1}return!0})},[me,ht,Lt,ke,E]),Va=y.useMemo(()=>C.map(N=>HN(N,me,q)),[C,me,q]);y.useEffect(()=>{const N=new Set(la.map(ne=>ne.id)),L={};N.forEach(ne=>{const xe=Va.filter($t=>$t.pacienteId===ne);if(xe.length===0){L[ne]={ultimo:null,proximo:null};return}const Ye=new Date,lt=xe.filter($t=>new Date($t.dataHora)<Ye).sort(($t,mr)=>new Date(mr.dataHora).getTime()-new Date($t.dataHora).getTime()),tt=xe.filter($t=>new Date($t.dataHora)>=Ye).sort(($t,mr)=>new Date($t.dataHora).getTime()-new Date(mr.dataHora).getTime());L[ne]={ultimo:lt[0]?new Date(lt[0].dataHora).toLocaleDateString("pt-BR",{dateStyle:"short"}):null,proximo:tt[0]?new Date(tt[0].dataHora).toLocaleDateString("pt-BR",{dateStyle:"short"}):null}}),aa(L)},[la,Va]);const No=y.useMemo(()=>{const N=ht.toLowerCase();return q.filter(L=>L.nome.toLowerCase().includes(N)||(L.especialidade??"").toLowerCase().includes(N))},[q,ht]),Ge=y.useMemo(()=>Va.filter(N=>{if(ht){const L=ht.toLowerCase();if(!(N.pacienteNome.toLowerCase().includes(L)||N.medicoNome.toLowerCase().includes(L)||N.tipo.toLowerCase().includes(L)))return!1}return U&&N.medicoNome!==U&&N.medicoNome,Ae&&N.status!==Ae||$e&&new Date(N.dataHora)<new Date($e)||Yt&&new Date(N.dataHora)>new Date(Yt+"T23:59:59")?!1:(de&&N.pacienteNome!==de&&N.pacienteNome,!0)}),[Va,ht,U,de,Ae,$e,Yt]),bl=async(N,L)=>{try{const xe={agendada:"requested",confirmada:"confirmed",cancelada:"cancelled",realizada:"completed",faltou:"no_show"}[L]||"requested",Ye=await ds.updateAppointment(N,{status:xe});Ye.success?(await kr(),M.success("Status atualizado")):M.error(Ye.error||"Falha ao atualizar")}catch{M.error("Erro ao atualizar status")}},cn=async N=>{if(window.confirm("Confirma excluir este agendamento?"))try{const ne=await ds.deleteAppointment(N);ne.success?(await kr(),M.success("Agendamento excluído")):M.error(ne.error||"Falha ao excluir")}catch{M.error("Erro ao excluir")}};return n&&!It&&!tn&&me.length===0&&q.length===0?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Carregando painel da secretária..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 high-contrast:bg-black",children:[t.jsx("header",{className:"bg-white/90 dark:bg-gray-800/90 high-contrast:bg-black shadow-sm border-b dark:border-gray-700 high-contrast:border-gray-700",children:t.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between high-contrast:text-white",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white high-contrast:text-black high-contrast:font-extrabold",children:"Painel da Secretária"}),t.jsx("p",{className:"text-gray-600 dark:text-white high-contrast:text-black high-contrast:font-bold",children:"Gerencie pacientes, médicos e consultas"})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:xl,className:"bg-green-600 text-white high-contrast:bg-black high-contrast:text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-500",children:[t.jsx(cr,{className:"w-5 h-5 mr-2"}),"Novo Paciente"]}),t.jsxs("button",{onClick:hs,className:"bg-blue-600 text-white high-contrast:bg-black high-contrast:text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:[t.jsx(eo,{className:"w-5 h-5 mr-2"}),"Novo Médico"]}),t.jsx("button",{onClick:qa,className:"bg-red-600 text-white high-contrast:bg-black high-contrast:text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",children:"Sair"})]})]})}),t.jsx("nav",{className:"bg-white/90 dark:bg-gray-800/90 high-contrast:bg-black border-b dark:border-gray-700 high-contrast:border-gray-700",children:t.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex space-x-2 sm:space-x-4 overflow-x-auto",children:[{id:"dashboard",label:"Dashboard",icon:sp},{id:"pacientes",label:"Pacientes",icon:Hs},{id:"medicos",label:"Médicos",icon:Hs},{id:"consultas",label:"Consultas",icon:Dt},{id:"agenda",label:"Agenda",icon:Dt},{id:"relatorios",label:"Relatórios",icon:Js}].map(N=>{const L=N.icon,ne=l===N.id;return t.jsxs("button",{onClick:()=>d(N.id),className:`flex items-center px-3 py-4 border-b-2 font-medium text-sm whitespace-nowrap focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500/50 ${ne?"border-green-500 text-green-600 high-contrast:text-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 high-contrast:text-white"}`,children:[t.jsx(L,{className:"w-5 h-5 mr-2"}),N.label]},N.id)})})})}),t.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[l==="dashboard"&&t.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pacientes cadastrados"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:me.length})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Médicos ativos"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.length})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Consultas programadas"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Va.length})]})]}),l==="pacientes"&&t.jsx("section",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 space-y-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Buscar pacientes por nome ou email...",value:ht,onChange:N=>Qt(N.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-600 focus:border-green-600/40 transition-colors"})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[t.jsx("input",{type:"text",placeholder:"Buscar paciente por ID",value:Xt,onChange:N=>Ot(N.target.value),className:"border px-3 py-2 rounded-lg w/full md:w-64 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-green-600 focus:border-green-600/40 transition-colors"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:yl,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Buscar"}),t.jsx("button",{onClick:()=>{Qt(""),Ot(""),ee(""),ce(!1),Kt(!1),ps()},className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300 dark:focus-visible:ring-gray-700",children:"Limpar"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600",children:[t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:E,onChange:N=>ce(N.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),"Aniversariantes do mês"]}),t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:ke,onChange:N=>Kt(N.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),"Somente VIP"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"convenio-filter",children:"Convênio"}),t.jsxs("select",{id:"convenio-filter",value:Lt,onChange:N=>ee(N.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-600 focus:border-green-600/40 transition-colors",children:[t.jsx("option",{value:"",children:"Todos"}),jo.map(N=>t.jsx("option",{value:N,children:N},N))]})]})]})]}),t.jsx(_N,{pacientes:la.map(N=>({id:N.id,nome:N.nome,cpf:N.cpf,email:Pg(N.email),telefoneFormatado:zN(N),convenio:N.convenio,vip:N.vip,cidade:N.endereco?.cidade,estado:N.endereco?.estado,ultimoAtendimento:Nr[N.id]?.ultimo??null,proximoAtendimento:Nr[N.id]?.proximo??null})),onEdit:N=>{const L=la.find(ne=>ne.id===N.id);L&&Ba(L)},onDelete:N=>{const L=la.find(ne=>ne.id===N.id);L&&vl(L)},onView:N=>{a(`/pacientes/${encodeURIComponent(N.id)}`)},onSchedule:N=>{Fr(N.id),an(N.nome),Ua(!0)}})]})}),l==="medicos"&&t.jsx("section",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black rounded-lg shadow border dark:border-gray-700 high-contrast:border-gray-700",children:[t.jsx("div",{className:"p-6 border-b flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Buscar médicos por nome ou especialidade...",value:ht,onChange:N=>Qt(N.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 high-contrast:divide-gray-700",children:[t.jsx("thead",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-900 high-contrast:bg-black",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Médico"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Especialidade"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),t.jsxs("tbody",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black divide-y divide-gray-200 dark:divide-gray-700 high-contrast:divide-gray-700",children:[No.map(N=>t.jsxs("tr",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black hover:bg-gray-100 dark:hover:bg-gray-700 high-contrast:hover:bg-gray-900",children:[t.jsxs("td",{className:"px-6 py-4 high-contrast:text-white",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 high-contrast:text-white",children:["Dr(a). ",N.nome||"Sem nome"]}),t.jsxs("div",{className:"text-sm text-gray-400 dark:text-gray-300 high-contrast:text-white",children:["CRM: ",N.crm||"Não informado"]})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400 dark:text-gray-300 high-contrast:text-white",children:N.especialidade||"Não informado"}),t.jsxs("td",{className:"px-6 py-4 high-contrast:text-white",children:[t.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100 high-contrast:text-white",children:Pg(N.email)}),t.jsx("div",{className:"text-sm text-gray-400 dark:text-gray-300 high-contrast:text-white",children:N.telefone||"Telefone não informado"})]}),t.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-3",children:[t.jsx("button",{onClick:()=>on(N),className:"inline-flex items-center px-3 py-1.5 rounded-lg text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500",children:"Editar"}),t.jsx("button",{onClick:()=>void Ur(N),className:"inline-flex items-center px-3 py-1.5 rounded-lg text-red-600 hover:text-red-900 hover:bg-red-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",children:"Excluir"})]})]},N.id)),No.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Nenhum médico encontrado."})})]})]})})]})}),l==="consultas"&&t.jsxs("section",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black rounded-lg shadow border border-gray-200 dark:border-gray-700 high-contrast:border-gray-700",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Agendamentos"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>kr(),className:"inline-flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm font-medium px-4 py-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",children:"Atualizar"}),t.jsxs("button",{onClick:()=>{Fr(""),an(""),Ua(!0)},className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium px-4 py-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-500","aria-label":"Nova consulta",children:[t.jsx(cr,{className:"w-4 h-4"}),"Nova Consulta"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ls,{className:"w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Busca rápida (paciente, médico ou tipo)",value:ht,onChange:N=>Qt(N.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Data de"}),t.jsx("input",{type:"date",value:$e,onChange:N=>et(N.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Data até"}),t.jsx("input",{type:"date",value:Yt,onChange:N=>rr(N.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),t.jsxs("select",{value:Ae,onChange:N=>He(N.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"agendada",children:"Agendada"}),t.jsx("option",{value:"confirmada",children:"Confirmada"}),t.jsx("option",{value:"cancelada",children:"Cancelada"}),t.jsx("option",{value:"realizada",children:"Realizada"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Paciente (nome)"}),t.jsx("input",{value:de,onChange:N=>J(N.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",placeholder:"Filtrar paciente"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Médico (nome)"}),t.jsx("input",{value:U,onChange:N=>le(N.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",placeholder:"Filtrar médico"})]})]})]}),t.jsx("div",{className:"p-6",children:re?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):Ge.length===0?t.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:'Nenhum agendamento encontrado. Use a aba "Agenda" para gerenciar horários dos médicos.'}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 high-contrast:divide-gray-700",children:[t.jsx("thead",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-900 high-contrast:bg-black",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Médico"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),t.jsx("tbody",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black divide-y divide-gray-200 dark:divide-gray-700 high-contrast:divide-gray-700",children:Ge.map(N=>t.jsxs("tr",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black hover:bg-gray-100 dark:hover:bg-gray-700 high-contrast:hover:bg-gray-900",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 high-contrast:text-white",children:UN(N.dataHora)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 high-contrast:text-white",children:N.pacienteNome}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 high-contrast:text-white",children:N.medicoNome}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 high-contrast:text-white",children:N.tipo}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("select",{value:N.status,onChange:L=>bl(N.id,L.target.value),className:"text-sm border border-gray-300 dark:border-gray-700 high-contrast:border-gray-700 rounded px-2 py-1 bg-white dark:bg-gray-900 high-contrast:bg-black text-gray-900 high-contrast:text-white",children:[t.jsx("option",{value:"agendada",children:"Agendada"}),t.jsx("option",{value:"confirmada",children:"Confirmada"}),t.jsx("option",{value:"cancelada",children:"Cancelada"}),t.jsx("option",{value:"realizada",children:"Realizada"}),t.jsx("option",{value:"faltou",children:"Faltou"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsx("button",{onClick:()=>cn(N.id),className:"inline-flex items-center px-3 py-1.5 rounded-lg text-red-600 hover:text-red-900 hover:bg-red-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",children:"Excluir"})})]},N.id))})]})})})]}),l==="agenda"&&t.jsxs("section",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gerenciar Agenda Médica"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Médico"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:ve,onChange:N=>Se(N.target.value),children:[t.jsx("option",{value:"",children:"-- Selecione um médico --"}),Ce.map(N=>t.jsxs("option",{value:N.id,children:[N.nome," — ",N.especialidade]},N.id))]})]}),!ve&&t.jsx("p",{className:"text-sm text-gray-500 italic",children:"Selecione um médico acima para gerenciar sua disponibilidade e exceções."})]}),ve&&t.jsxs(t.Fragment,{children:[t.jsx(DN,{doctorId:ve}),t.jsx(TN,{doctorId:ve}),t.jsx(PN,{doctorId:ve})]})]}),l==="relatorios"&&t.jsx("section",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black rounded-lg shadow border border-gray-200 dark:border-gray-700 high-contrast:border-gray-700",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Relatórios"}),t.jsxs("button",{onClick:()=>{O("create"),j(null),_({patientId:"",orderNumber:P(),exam:"",diagnosis:"",conclusion:"",dueAt:"",status:"draft"}),x(!0)},className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium px-4 py-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-500",children:[t.jsx(cr,{className:"w-4 h-4"}),"Novo Relatório"]})]}),h?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?t.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"Nenhum relatório encontrado."}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 high-contrast:divide-gray-700",children:[t.jsx("thead",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-900 high-contrast:bg-black",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exame"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),t.jsx("tbody",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black divide-y divide-gray-200 dark:divide-gray-700 high-contrast:divide-gray-700",children:u.map(N=>t.jsxs("tr",{className:"bg-white dark:bg-gray-800 high-contrast:bg-black hover:bg-gray-100 dark:hover:bg-gray-700 high-contrast:hover:bg-gray-900",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 high-contrast:text-white",children:N.order_number}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 high-contrast:text-white",children:N.exam}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 high-contrast:text-white",children:me.find(L=>L.id===N.patient_id)?.nome||N.patient_id}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N.status==="draft"?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 high-contrast:bg-gray-900 high-contrast:text-white":N.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 high-contrast:bg-green-900 high-contrast:text-white":N.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 high-contrast:bg-yellow-900 high-contrast:text-white":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 high-contrast:bg-red-900 high-contrast:text-white"}`,children:N.status==="draft"?"Rascunho":N.status==="completed"?"Concluído":N.status==="pending"?"Pendente":"Cancelado"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.created_at?new Date(N.created_at).toLocaleDateString("pt-BR"):"-"}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right space-x-3",children:[t.jsx("button",{onClick:()=>he(N.id),className:"inline-flex items-center px-3 py-1.5 rounded-lg text-blue-600 hover:text-blue-800 hover:bg-blue-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Ver detalhes"}),t.jsx("button",{onClick:async()=>{if(!N.id)return;O("edit"),j(N.id);const L=await Fi.buscarRelatorioPorId(N.id);if(L.success&&L.data){const ne=L.data;_({patientId:ne.patient_id||"",orderNumber:ne.order_number||"",exam:ne.exam||"",diagnosis:ne.diagnosis||"",conclusion:ne.conclusion||"",dueAt:ne.due_at?ne.due_at.slice(0,10):"",status:ne.status&&["draft","pending","completed","cancelled"].includes(ne.status)?ne.status:"draft"}),x(!0)}else M.error(L.error||"Erro ao carregar relatório")},className:"inline-flex items-center px-3 py-1.5 rounded-lg text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500",children:"Editar"})]})]},N.id))})]})})]})})]}),It&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"patient-modal-title",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{id:"patient-modal-title",className:"text-lg font-semibold",children:sa==="create"?"Cadastrar Novo Paciente":"Editar Paciente"}),t.jsx("button",{onClick:Ha,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400","aria-label":"Fechar modal",children:t.jsx(Gr,{className:"w-6 h-6"})})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha todos os campos obrigatórios (*)"})]}),t.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:t.jsxs("form",{onSubmit:bo,className:"space-y-4 max-h-[70vh] overflow-y-auto px-1",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-green-600 uppercase tracking-wide border-b pb-1",children:"Dados Pessoais"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),t.jsx("input",{type:"text",value:be.nome,onChange:N=>Ve(L=>({...L,nome:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"Maria Santos Silva"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Social"}),t.jsx("input",{type:"text",value:be.social_name,onChange:N=>Ve(L=>({...L,social_name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Maria Santos"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),t.jsx("input",{type:"text",value:be.cpf,onChange:yo,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"000.000.000-00",maxLength:14})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento *"}),t.jsx("input",{type:"date",value:be.dataNascimento,onChange:N=>Ve(L=>({...L,dataNascimento:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sexo *"}),t.jsxs("select",{value:be.sexo,onChange:N=>Ve(L=>({...L,sexo:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"",children:"Selecione"}),t.jsx("option",{value:"M",children:"Masculino"}),t.jsx("option",{value:"F",children:"Feminino"}),t.jsx("option",{value:"outro",children:"Outro"})]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-green-600 uppercase tracking-wide border-b pb-1",children:"Contato"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:be.email,onChange:N=>Ve(L=>({...L,email:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"maria@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone Celular *"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("select",{value:be.codigoPais,onChange:N=>Ve(L=>({...L,codigoPais:N.target.value})),className:"w-24 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0,children:LN.map(N=>t.jsx("option",{value:N.value,children:N.label},N.value))}),t.jsx("input",{type:"text",value:be.ddd,onChange:N=>Ve(L=>({...L,ddd:N.target.value.replace(/\D/g,"").slice(0,2)})),className:"w-16 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm text-center",placeholder:"11",required:!0}),t.jsx("input",{type:"tel",value:be.numeroTelefone,onChange:N=>Ve(L=>({...L,numeroTelefone:N.target.value.replace(/\D/g,"").slice(0,9)})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"99999-9999",required:!0})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-green-600 uppercase tracking-wide border-b pb-1",children:"Informações Clínicas"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo Sanguíneo"}),t.jsxs("select",{value:be.tipo_sanguineo,onChange:N=>Ve(L=>({...L,tipo_sanguineo:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Selecione"}),ON.map(N=>t.jsx("option",{value:N,children:N},N))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso (kg)"}),t.jsx("input",{type:"number",min:"10",max:"300",step:"0.1",value:be.peso,onChange:N=>Ve(L=>({...L,peso:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"65.5"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Altura (m)"}),t.jsx("input",{type:"number",min:"0.5",max:"2.5",step:"0.01",value:be.altura,onChange:N=>Ve(L=>({...L,altura:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"1.65"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Convênio"}),t.jsxs("select",{value:be.convenio,onChange:N=>Ve(L=>({...L,convenio:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Selecione"}),Cg.map(N=>t.jsx("option",{value:N,children:N},N))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número da Carteirinha"}),t.jsx("input",{type:"text",value:be.numeroCarteirinha,onChange:N=>Ve(L=>({...L,numeroCarteirinha:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Número da carteirinha"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-green-600 uppercase tracking-wide border-b pb-1",children:"Endereço"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Tg(be.endereco.cep||""),onChange:N=>{const L=N.target.value.replace(/\D/g,"").slice(0,8);Ve(ne=>({...ne,endereco:{...ne.endereco,cep:L}}))},onBlur:N=>{const L=N.target.value.replace(/\D/g,"");L.length===8&&ln(L)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"01234-567",maxLength:9}),t.jsx("button",{type:"button",onClick:()=>ln(be.endereco.cep||""),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm hover:shadow-md",title:"Buscar endereço pelo CEP",children:t.jsx("span",{className:"text-lg",children:"✓"})})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua"}),t.jsx("input",{type:"text",value:be.endereco.rua,onChange:N=>Ve(L=>({...L,endereco:{...L.endereco,rua:N.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Rua das Flores"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número"}),t.jsx("input",{type:"text",value:be.endereco.numero,onChange:N=>Ve(L=>({...L,endereco:{...L.endereco,numero:N.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"123"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro"}),t.jsx("input",{type:"text",value:be.endereco.bairro,onChange:N=>Ve(L=>({...L,endereco:{...L.endereco,bairro:N.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Centro"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),t.jsx("input",{type:"text",value:be.endereco.cidade,onChange:N=>Ve(L=>({...L,endereco:{...L.endereco,cidade:N.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"São Paulo"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),t.jsx("input",{type:"text",value:be.endereco.estado,onChange:N=>Ve(L=>({...L,endereco:{...L.endereco,estado:N.target.value.toUpperCase()}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"SP",maxLength:2})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),t.jsx("input",{type:"text",value:be.endereco.complemento,onChange:N=>Ve(L=>({...L,endereco:{...L.endereco,complemento:N.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Apto 45, Bloco B..."})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide border-b pb-1",children:"Observações Adicionais"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),t.jsx("textarea",{value:be.observacoes,onChange:N=>Ve(L=>({...L,observacoes:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Observações gerais sobre o paciente..."})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6 sticky bottom-0 bg-white",children:[t.jsx("button",{type:"button",onClick:()=>{ur(),Ha()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-500",children:n?"Salvando...":sa==="create"?"Cadastrar Paciente":"Salvar Alterações"})]})]})})]})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"report-modal-title",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[t.jsx("h3",{id:"report-modal-title",className:"text-lg font-semibold",children:k==="create"?"Novo Relatório":"Editar Relatório"}),t.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400","aria-label":"Fechar modal",children:t.jsx(Gr,{className:"w-6 h-6"})})]}),t.jsxs("form",{onSubmit:async N=>{if(N.preventDefault(),!S.patientId){M.error("Selecione o paciente");return}if(!S.orderNumber.trim()){M.error("Informe o número do pedido");return}if(!X.test(S.orderNumber.trim())){M.error("Formato inválido. Use REL-YYYY-MM-XXXXXX (ex.: REL-2025-10-MUS3TN)");return}D(!0);const L=S.dueAt?`${S.dueAt}T00:00:00`:void 0,ne=k==="create"?await vg.createReport({patientId:S.patientId,orderNumber:S.orderNumber,exam:S.exam||void 0,diagnosis:S.diagnosis||void 0,conclusion:S.conclusion||void 0,dueAt:L,status:S.status}):A?await vg.updateReport(A,{patientId:S.patientId,orderNumber:S.orderNumber,exam:S.exam||void 0,diagnosis:S.diagnosis||void 0,conclusion:S.conclusion||void 0,dueAt:L,status:S.status}):{success:!1,error:"ID inválido"};D(!1),ne.success?(M.success(k==="create"?"Relatório criado":"Relatório atualizado"),x(!1),j(null),await ia()):M.error(ne.error||"Erro ao criar relatório")},className:"p-6 space-y-4 overflow-y-auto",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paciente *"}),t.jsxs("select",{value:S.patientId,onChange:N=>_(L=>({...L,patientId:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"",children:"-- Selecione --"}),me.map(N=>t.jsx("option",{value:N.id,children:N.nome},N.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Pedido *"}),t.jsx("input",{type:"text",value:S.orderNumber,onChange:N=>_(L=>({...L,orderNumber:N.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"Ex: REL-2025-10-MUS3TN",pattern:"^REL-\\d{4}-\\d{2}-[A-Z0-9]{6}$",title:"Formato: REL-YYYY-MM-XXXXXX (ex.: REL-2025-10-MUS3TN)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exame"}),t.jsx("input",{type:"text",value:S.exam,onChange:N=>_(L=>({...L,exam:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: Hemograma"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo (Data)"}),t.jsx("input",{type:"date",value:S.dueAt,onChange:N=>_(L=>({...L,dueAt:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diagnóstico"}),t.jsx("textarea",{value:S.diagnosis,onChange:N=>_(L=>({...L,diagnosis:N.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conclusão"}),t.jsx("textarea",{value:S.conclusion,onChange:N=>_(L=>({...L,conclusion:N.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex justify-end gap-3 border-t pt-4",children:[t.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",disabled:w,children:"Cancelar"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-500",disabled:w,children:w?"Salvando...":k==="create"?"Criar Relatório":"Salvar Alterações"})]})]})]})}),ae&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"report-details-title",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[t.jsx("h3",{id:"report-details-title",className:"text-lg font-semibold",children:"Detalhes do Relatório"}),t.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400","aria-label":"Fechar modal",children:t.jsx(Gr,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"p-6 space-y-4",children:K?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):W?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Número"}),t.jsx("div",{className:"text-sm font-medium",children:W.order_number||"-"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Paciente"}),t.jsx("div",{className:"text-sm font-medium",children:me.find(N=>N.id===W.patient_id)?.nome||W.patient_id||"-"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),t.jsx("div",{className:"text-sm font-medium capitalize",children:W.status||"-"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Prazo"}),t.jsx("div",{className:"text-sm font-medium",children:W.due_at?new Date(W.due_at).toLocaleDateString("pt-BR"):"-"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Criado em"}),t.jsx("div",{className:"text-sm font-medium",children:W.created_at?new Date(W.created_at).toLocaleString("pt-BR"):"-"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Atualizado em"}),t.jsx("div",{className:"text-sm font-medium",children:W.updated_at?new Date(W.updated_at).toLocaleString("pt-BR"):"-"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Exame"}),t.jsx("div",{className:"text-sm",children:W.exam||"-"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500",children:"CID"}),t.jsx("div",{className:"text-sm",children:W.cid_code||"-"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Diagnóstico"}),t.jsx("div",{className:"text-sm whitespace-pre-wrap",children:W.diagnosis||"-"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Conclusão"}),t.jsx("div",{className:"text-sm whitespace-pre-wrap",children:W.conclusion||"-"})]})]}),W.content_html&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Conteúdo"}),t.jsx("div",{className:"prose max-w-none border rounded p-3 bg-gray-50",dangerouslySetInnerHTML:{__html:W.content_html}})]}),W.content_json&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Conteúdo (JSON)"}),t.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-auto",children:JSON.stringify(W.content_json,null,2)})]})]}):t.jsx("div",{className:"text-center text-sm text-gray-500 py-8",children:"Relatório não encontrado."})}),t.jsx("div",{className:"p-6 border-t flex justify-end",children:t.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-500",children:"Fechar"})})]})}),tn&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"doctor-modal-title",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{id:"doctor-modal-title",className:"text-lg font-semibold",children:$r==="create"?"Cadastrar Novo Médico":"Editar Médico"}),t.jsx("button",{onClick:xo,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400","aria-label":"Fechar modal",children:t.jsx(Gr,{className:"w-6 h-6"})})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preencha todos os campos obrigatórios (*)"})]}),t.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:t.jsxs("form",{onSubmit:wo,className:"space-y-4 max-h-[70vh] overflow-y-auto px-1",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide border-b pb-1",children:"Dados Pessoais"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),t.jsx("input",{type:"text",value:je.nome,onChange:N=>Xe(L=>({...L,nome:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"Dr. João da Silva"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),t.jsx("input",{type:"text",value:Qn(je.cpf).formatted,onChange:N=>{const{digits:L}=Qn(N.target.value);Xe(ne=>({...ne,cpf:L}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"000.000.000-00",maxLength:14})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RG"}),t.jsx("input",{type:"text",value:je.rg,onChange:N=>Xe(L=>({...L,rg:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"00.000.000-0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento *"}),t.jsx("input",{type:"date",value:je.dataNascimento,onChange:N=>Xe(L=>({...L,dataNascimento:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide border-b pb-1",children:"Dados Profissionais"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CRM *"}),t.jsx("input",{type:"text",value:je.crm,onChange:N=>Xe(L=>({...L,crm:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"123456"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UF do CRM *"}),t.jsxs("select",{value:je.crmUf,onChange:N=>Xe(L=>({...L,crmUf:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"",children:"Selecione"}),["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(N=>t.jsx("option",{value:N,children:N},N))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especialidade *"}),t.jsxs("select",{value:je.especialidade,onChange:N=>Xe(L=>({...L,especialidade:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"",children:"Selecione"}),["Cardiologia","Dermatologia","Endocrinologia","Gastroenterologia","Ginecologia","Neurologia","Ortopedia","Pediatria","Psiquiatria","Clínico Geral"].map(N=>t.jsx("option",{value:N,children:N},N))]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide border-b pb-1",children:"Contato"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:je.email,onChange:N=>Xe(L=>({...L,email:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"medico@email.com"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone Principal *"}),t.jsx("input",{type:"tel",value:je.telefone,onChange:N=>Xe(L=>({...L,telefone:qN(N.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"(11) 99999-9999"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone Secundário"}),t.jsx("input",{type:"tel",value:je.telefone2,onChange:N=>Xe(L=>({...L,telefone2:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 3333-4444"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide border-b pb-1",children:"Endereço"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP *"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Tg(je.cep),onChange:N=>{const L=N.target.value.replace(/\D/g,"").slice(0,8);Xe(ne=>({...ne,cep:L}))},onBlur:N=>{const L=N.target.value.replace(/\D/g,"");L.length===8&&vo(L)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"00000-000",required:!0,maxLength:9}),t.jsx("button",{type:"button",onClick:()=>vo(je.cep),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm hover:shadow-md",title:"Buscar endereço pelo CEP",children:t.jsx("span",{className:"text-lg",children:"✓"})})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua *"}),t.jsx("input",{type:"text",value:je.rua,onChange:N=>Xe(L=>({...L,rua:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome da rua",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número *"}),t.jsx("input",{type:"text",value:je.numero,onChange:N=>Xe(L=>({...L,numero:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro *"}),t.jsx("input",{type:"text",value:je.bairro,onChange:N=>Xe(L=>({...L,bairro:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Bairro",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade *"}),t.jsx("input",{type:"text",value:je.cidade,onChange:N=>Xe(L=>({...L,cidade:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cidade",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado *"}),t.jsx("input",{type:"text",value:je.estado,onChange:N=>Xe(L=>({...L,estado:N.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"UF",maxLength:2,required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),t.jsx("input",{type:"text",value:je.complemento,onChange:N=>Xe(L=>({...L,complemento:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Apto, sala, bloco..."})]})]}),$r==="create"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide border-b pb-1",children:"Acesso ao Sistema"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Provisória *"}),t.jsx("input",{type:"password",value:je.senha,onChange:N=>Xe(L=>({...L,senha:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:6,placeholder:"Mínimo 6 caracteres"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O médico deverá alterar esta senha no primeiro acesso"})]})]}),$r==="edit"&&t.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg text-sm text-yellow-800",children:"A senha permanece inalterada neste fluxo. Se necessário, solicite redefinição pelo suporte."}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6 sticky bottom-0 bg-white",children:[t.jsx("button",{type:"button",onClick:()=>{zr(),xo()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-300",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:n?"Salvando...":$r==="create"?"Cadastrar Médico":"Salvar Alterações"})]})]})})]})}),t.jsx(RN,{isOpen:rn,onClose:()=>Ua(!1),patientId:oa,patientName:ho,onSuccess:()=>{kr()}})]})},WN=()=>{const{id:a}=Dx(),s=Nt(),[n,i]=y.useState(!0),[l,d]=y.useState(null),[u,g]=y.useState(null),[h,v]=y.useState([]),[p,x]=y.useState([]),[w,D]=y.useState("resumo"),[S,_]=y.useState([]),[k,O]=y.useState(!1);y.useEffect(()=>{let W=!0;return(async()=>{if(a){i(!0);try{const he=await dl(a);if(!W)return;if(he.success&&he.data)d(he.data);else throw new Error(he.error||"Paciente não encontrado");try{const Ce=localStorage.getItem("pacientes_meta")||"{}",ue=JSON.parse(Ce);g(ue[a]||null)}catch{g(null)}const ve=await ro.listarPorPaciente(a,{limit:20});ve.success&&ve.data&&v(ve.data);try{const Ce=await Jd(a);x(Ce)}catch{console.warn("Falha ao carregar anexos")}const Se=localStorage.getItem(`paciente_hist_${a}`)||"[]";try{_(JSON.parse(Se))}catch{_([])}}catch{M.error("Paciente não encontrado"),s("/painel-secretaria")}finally{W&&i(!1)}}})(),()=>{W=!1}},[a,s]);const A=y.useMemo(()=>[...h].sort((W,fe)=>fe.dataHora.localeCompare(W.dataHora)),[h]),j=A.find(()=>!0),P=y.useMemo(()=>{const W=new Date().toISOString();return A.filter(fe=>fe.dataHora>=W).sort((fe,he)=>fe.dataHora.localeCompare(he.dataHora))[0]},[A]),X=y.useMemo(()=>{if(!l?.dataNascimento)return null;const W=new Date(l.dataNascimento);if(Number.isNaN(W.getTime()))return null;const fe=Date.now()-W.getTime();return Math.floor(fe/(1e3*60*60*24*365.25))},[l?.dataNascimento]),ae=async W=>{if(!a)return;const fe=W.target.files;if(!(!fe||fe.length===0)){O(!0);try{for(const he of Array.from(fe)){const ve=await Gd(a,he);x(Se=>[...Se,ve])}M.success("Anexo(s) enviado(s) com sucesso")}catch{M.error("Falha ao enviar anexo")}finally{O(!1),W.target.value=""}}},F=async W=>{if(a&&confirm(`Remover anexo "${W.nome||W.id}"?`))try{await Zd(a,W.id),x(fe=>fe.filter(he=>he.id!==W.id)),M.success("Anexo removido")}catch{M.error("Erro ao remover anexo")}},K=W=>{if(!W)return"—";const fe=new Date(W);return Number.isNaN(fe.getTime())?W:new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"short"}).format(fe)},oe=({id:W,label:fe})=>t.jsx("button",{onClick:()=>D(W),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded-t ${w===W?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:fe});return n?t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{className:"text-sm text-gray-500 hover:underline",onClick:()=>s(-1),children:"← Voltar"}),t.jsx("div",{className:"animate-pulse h-6 bg-gray-200 w-40 rounded"}),t.jsx("div",{className:"animate-pulse h-4 bg-gray-200 w-full rounded"}),t.jsx("div",{className:"animate-pulse h-4 bg-gray-200 w-2/3 rounded"})]}):l?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("button",{className:"text-sm text-gray-500 hover:underline",onClick:()=>s(-1),children:"← Voltar"}),t.jsxs("h1",{className:"text-2xl font-semibold mt-1",children:["Prontuário: ",l.nome]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["CPF: ",l.cpf||"—"," ",X?`• ${X} anos`:""]})]})}),t.jsxs("div",{className:"flex space-x-2 border-b",children:[t.jsx(oe,{id:"resumo",label:"Resumo"}),t.jsx(oe,{id:"dados",label:"Dados"}),t.jsx(oe,{id:"consultas",label:"Consultas"}),t.jsx(oe,{id:"anexos",label:"Anexos"}),t.jsx(oe,{id:"historico",label:"Histórico"})]}),w==="resumo"&&t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"p-4 bg-white rounded-xl shadow border border-gray-200",children:[t.jsx("h2",{className:"font-semibold mb-3",children:"Visão Geral"}),t.jsxs("ul",{className:"text-sm space-y-1",children:[t.jsxs("li",{children:["Última consulta: ",K(j?.dataHora)]}),t.jsxs("li",{children:["Próxima consulta: ",K(P?.dataHora)]}),t.jsxs("li",{children:["Convênio: ",l.convenio||"Particular"]}),t.jsxs("li",{children:["VIP: ",l.vip?"Sim":"Não"]}),t.jsxs("li",{children:["Tipo sanguíneo: ",l.tipoSanguineo||"—"]})]})]}),t.jsxs("div",{className:"p-4 bg-white rounded-xl shadow border border-gray-200",children:[t.jsx("h2",{className:"font-semibold mb-3",children:"Contato"}),t.jsxs("ul",{className:"text-sm space-y-1",children:[t.jsxs("li",{children:["Email: ",l.email||"—"]}),t.jsxs("li",{children:["Telefone: ",l.telefone||"—"]}),t.jsxs("li",{children:["Endereço:"," ",l.endereco?.rua?`${l.endereco.rua}, ${l.endereco.numero||"s/n"} - ${l.endereco.bairro||""}`:"—"]}),t.jsxs("li",{children:["Cidade/UF: ",l.endereco?.cidade||"",l.endereco?.estado?`/${l.endereco.estado}`:""]})]})]})]}),w==="dados"&&t.jsxs("div",{className:"p-4 bg-white rounded-xl shadow border border-gray-200 space-y-4",children:[t.jsx("h2",{className:"font-semibold",children:"Dados Completos"}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"RG"}),t.jsx("p",{children:u?.rg||"—"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Estado Civil"}),t.jsx("p",{children:u?.estado_civil||"—"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Profissão"}),t.jsx("p",{children:u?.profissao||"—"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Responsável"}),t.jsx("p",{children:u?.responsavel_nome||"—"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Responsável CPF"}),t.jsx("p",{children:u?.responsavel_cpf||"—"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Código Legado"}),t.jsx("p",{children:u?.codigo_legado||"—"})]}),t.jsxs("div",{className:"md:col-span-3",children:[t.jsx("p",{className:"text-gray-500 mb-1",children:"Documentos Extras"}),u?.documentos&&u.documentos.length>0?t.jsx("ul",{className:"list-disc pl-5 space-y-1",children:u.documentos.map((W,fe)=>t.jsxs("li",{children:[W.tipo,": ",W.numero]},fe))}):t.jsx("p",{children:"—"})]})]})]}),w==="consultas"&&t.jsxs("div",{className:"p-4 bg-white rounded-xl shadow border border-gray-200",children:[t.jsx("h2",{className:"font-semibold mb-4",children:"Consultas"}),A.length===0&&t.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma consulta encontrada."}),t.jsx("ul",{className:"divide-y",children:A.map(W=>t.jsxs("li",{className:"py-3 flex items-center justify-between text-sm",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:[K(W.dataHora)," ",W.tipo&&`• ${W.tipo}`]}),t.jsxs("p",{className:"text-gray-500",children:["Status: ",W.status]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"text-blue-600 hover:underline text-xs",children:"Detalhes"}),t.jsx("button",{className:"text-red-600 hover:underline text-xs",children:"Cancelar"})]})]},W.id))})]}),w==="anexos"&&t.jsxs("div",{className:"p-4 bg-white rounded-xl shadow border border-gray-200 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"font-semibold",children:"Anexos"}),t.jsxs("label",{className:"text-sm bg-blue-600 text-white px-3 py-1 rounded cursor-pointer hover:bg-blue-700 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[k?"Enviando...":"Enviar Arquivos",t.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:ae,disabled:k})]})]}),p.length===0&&t.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum anexo."}),t.jsx("ul",{className:"divide-y",children:p.map(W=>t.jsxs("li",{className:"py-3 flex items-center justify-between text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:W.nome||W.id}),t.jsxs("p",{className:"text-gray-500 text-xs",children:[W.tipo||W.categoria||"arquivo"," ",W.tamanho?`• ${(W.tamanho/1024).toFixed(1)} KB`:""]})]}),t.jsxs("div",{className:"flex gap-3",children:[W.url&&t.jsx("a",{href:W.url,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded",children:"Abrir"}),t.jsx("button",{onClick:()=>F(W),className:"text-red-600 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 rounded",children:"Remover"})]})]},W.id))})]}),w==="historico"&&t.jsxs("div",{className:"p-4 bg-white rounded-xl shadow border border-gray-200",children:[t.jsx("h2",{className:"font-semibold mb-4",children:"Histórico de Alterações (Local)"}),S.length===0&&t.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum registro ainda."}),t.jsx("ul",{className:"divide-y",children:S.map(W=>t.jsxs("li",{className:"py-3 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:W.campo})," alterado"," ",W.de?`de "${W.de}" `:"",'para "',W.para,'"']}),t.jsxs("p",{className:"text-xs text-gray-500",children:[K(W.data)," ",W.usuario&&`• ${W.usuario}`]})]},W.id))})]})]}):null},Ag=a=>a?new Date(a*1e3).toLocaleString():"-",YN=()=>{const[a,s]=y.useState(""),[n,i]=y.useState(null),[l,d]=y.useState(!1),[u,g]=y.useState(null),h=()=>{const S=localStorage.getItem("authToken");s(S),i(S?Ys(S):null)};y.useEffect(()=>{h()},[]);const v=async()=>{d(!0),g(null);const S=await dr.refreshToken();S.success||g(S.error||"Falha ao renovar"),h(),d(!1)},p=n?.payload,x=n?.expired,w=p?.exp,D=p?.iat;return t.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Token Inspector"}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Token atual (localStorage: authToken)"}),t.jsx("button",{onClick:h,"aria-label":"Recarregar token do localStorage",className:"text-xs px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Recarregar"})]}),t.jsx("textarea",{className:"w-full text-xs font-mono border rounded p-2 h-32",readOnly:!0,value:a||""}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{className:`p-3 rounded border ${x?"border-red-300 bg-red-50":"border-green-300 bg-green-50"}`,children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Status:"})," ",n?x?"EXPIRADO":"VÁLIDO":"SEM TOKEN"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Expiração:"})," ",Ag(w)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Emitido:"})," ",Ag(D)]}),w&&t.jsxs("p",{children:[t.jsx("strong",{children:"TTL restante (s):"})," ",Math.max(0,w-Math.floor(Date.now()/1e3))]})]}),t.jsxs("div",{className:"p-3 rounded border bg-gray-50",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Claims Principais"}),t.jsx("pre",{className:"text-[11px] whitespace-pre-wrap leading-tight",children:JSON.stringify(p,null,2)})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:v,disabled:l,className:"px-4 py-2 rounded bg-indigo-600 text-white text-sm disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2",children:l?"Renovando...":"Forçar Refresh"}),t.jsx("button",{onClick:()=>{dr.logout(),h()},className:"px-4 py-2 rounded bg-gray-200 text-sm hover:bg-gray-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2","aria-label":"Fazer logout e limpar token",children:"Logout"}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(a||"")},disabled:!a,className:"px-4 py-2 rounded bg-blue-100 text-blue-700 text-sm disabled:opacity-40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 focus-visible:ring-offset-2","aria-label":"Copiar token para a área de transferência",children:"Copiar"})]}),u&&t.jsx("p",{className:"text-sm text-red-600",children:u})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Página apenas para depuração em desenvolvimento. Remover antes de produção."})]})};function QN(){const[a,s]=y.useState([]),[n,i]=y.useState([]),l=y.useCallback(p=>{i(x=>[...x,`[${new Date().toLocaleTimeString()}] ${p}`])},[]),d=p=>{try{const x=p.split(".");if(x.length!==3)return{valid:!1};const w=JSON.parse(atob(x[1])),D=Math.floor(Date.now()/1e3);return{valid:!0,expired:w.exp?w.exp<D:!1,exp:w.exp,sub:w.sub,email:w.email,role:w.role}}catch{return{valid:!1}}},u=y.useCallback(()=>{const x=["authToken","token","refreshToken","authUser","appSession"].map(w=>{const D=localStorage.getItem(w);if(!D)return{key:w,present:!1};const S={key:w,present:!0,value:D,preview:D.length>100?D.substring(0,100)+"...":D};return(w==="authToken"||w==="token")&&(S.decoded=d(D)),S});s(x),l("Tokens escaneados")},[l]),g=()=>{let p=0;a.forEach(x=>{x.decoded?.expired&&(localStorage.removeItem(x.key),p++,l(`❌ Removido: ${x.key} (expirado)`))}),l(p===0?"✅ Nenhum token expirado encontrado":`✅ ${p} token(s) expirado(s) removido(s)`),u()},h=()=>{["authToken","token","refreshToken","authUser","appSession"].forEach(x=>localStorage.removeItem(x)),l("🗑️ TODOS os tokens removidos"),u()},v=async()=>{l("🔐 Testando login...");try{const p=await fetch("https://yuanqfswhberkoevtmfr.supabase.co/auth/v1/token?grant_type=password",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl1YW5xZnN3aGJlcmtvZXZ0bWZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NTQzNjksImV4cCI6MjA3MDUzMDM2OX0.g8Fm4XAvtX46zifBZnYVH4tVuQkqUH6Ia9CXQj4DztQ"},body:JSON.stringify({email:"riseup@popcode.com.br",password:"riseup"})});if(p.ok){const x=await p.json();localStorage.setItem("authToken",x.access_token),localStorage.setItem("refreshToken",x.refresh_token),localStorage.setItem("authUser",JSON.stringify(x.user)),l(`✅ Login OK! Token salvo. exp=${d(x.access_token).exp}`),u()}else{const x=await p.text();l(`❌ Login falhou: ${p.status} ${x}`)}}catch(p){l(`❌ Erro: ${p}`)}};return y.useEffect(()=>{u(),l("Página de diagnóstico carregada")},[u,l]),t.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"🔧 Admin - Diagnóstico de Autenticação"}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ações"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"🔄 Escanear Tokens"}),t.jsx("button",{onClick:g,className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-500 focus-visible:ring-offset-2",children:"🧹 Limpar Expirados"}),t.jsx("button",{onClick:h,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",children:"🗑️ Limpar TODOS"}),t.jsx("button",{onClick:v,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2",children:"🔐 Testar Login Admin"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",children:"♻️ Recarregar Página"})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tokens no localStorage"}),t.jsxs("div",{className:"space-y-4",role:"list","aria-label":"Lista de tokens no armazenamento local",children:[a.length===0&&t.jsx("p",{className:"text-gray-500",children:"Nenhum token encontrado"}),a.map(p=>t.jsxs("div",{role:"listitem",className:`p-4 rounded border-2 ${p.present?p.decoded?.expired?"border-red-300 bg-red-50":p.decoded?.valid?"border-green-300 bg-green-50":"border-blue-300 bg-blue-50":"border-gray-300 bg-gray-50"}`,children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("h3",{className:"font-mono font-bold",children:p.key}),t.jsx("span",{className:`px-2 py-1 text-xs rounded ${p.present?p.decoded?.expired?"bg-red-200 text-red-800":p.decoded?.valid?"bg-green-200 text-green-800":"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-700"}`,children:p.present?p.decoded?.expired?"EXPIRADO":p.decoded?.valid?"VÁLIDO":"PRESENTE":"AUSENTE"})]}),p.present&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs text-gray-600 break-all font-mono mb-2",children:p.preview}),p.decoded&&t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Válido:"})," ",p.decoded.valid?"✅":"❌"]}),p.decoded.expired!==void 0&&t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Expirado:"})," ",p.decoded.expired?"⚠️ SIM":"✅ NÃO"]}),p.decoded.exp&&t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Expira em:"})," ",new Date(p.decoded.exp*1e3).toLocaleString()]}),p.decoded.email&&t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Email:"})," ",p.decoded.email]}),p.decoded.role&&t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Role:"})," ",p.decoded.role]})]})]})]},p.key))]})]}),t.jsxs("div",{className:"bg-gray-900 text-green-400 rounded-lg shadow p-6 font-mono text-sm",children:[t.jsx("h2",{id:"diagnostic-log-title",className:"text-xl font-semibold mb-4 text-white",children:"📋 Log"}),t.jsxs("div",{className:"space-y-1 max-h-96 overflow-y-auto focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 focus-visible:ring-offset-2 rounded",role:"log","aria-live":"polite","aria-relevant":"additions text","aria-labelledby":"diagnostic-log-title",tabIndex:0,children:[n.length===0&&t.jsx("p",{className:"text-gray-500",children:"Nenhuma ação ainda"}),n.map((p,x)=>t.jsx("div",{children:p},x))]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-6",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"ℹ️ Informações"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:"• Esta página ajuda a diagnosticar problemas de autenticação"}),t.jsx("li",{children:'• Tokens expirados causam erro 401 "No API key found in request"'}),t.jsx("li",{children:'• Use "Limpar Expirados" para remover tokens inválidos'}),t.jsx("li",{children:'• Use "Testar Login Admin" para obter token válido (riseup@popcode.com.br)'}),t.jsx("li",{children:"• Após limpar/login, recarregue a página para aplicar mudanças"})]})]})]})})}const XN=()=>{const[a,s]=y.useState(!1),[n,i]=y.useState(null),l=async()=>{s(!0),i(null);try{console.log("🧪 [TESTE SQUAD 18] Iniciando cadastro...");const d=await fl.signupPaciente({nome:"Paciente Teste SQUAD 18",email:"teste.squad18@clinica.com",password:"123456",telefone:"11999998888",cpf:"12345678900",dataNascimento:"1990-01-01",endereco:{cep:"01310100",rua:"Avenida Paulista",numero:"1000",bairro:"Bela Vista",cidade:"São Paulo",estado:"SP"}});console.log("🎯 [TESTE SQUAD 18] Resultado:",d),i(d),d.success?M.success("✅ Paciente SQUAD 18 cadastrado com sucesso na API!"):M.error(`❌ Erro: ${d.error}`)}catch(d){console.error("💥 [TESTE SQUAD 18] Erro:",d);const u=d instanceof Error?d.message:"Erro desconhecido";i({success:!1,error:u}),M.error("Erro ao cadastrar")}finally{s(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-white flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"🧪 Teste de Cadastro SQUAD 18"}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsx("h2",{className:"font-semibold text-blue-900 mb-2",children:"Dados do Teste:"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:"✉️ Email: teste.squad18@clinica.com"}),t.jsx("li",{children:"👤 Nome: Paciente Teste SQUAD 18"}),t.jsx("li",{children:"🔑 Senha: 123456"}),t.jsx("li",{children:"📞 Telefone: 11999998888"}),t.jsx("li",{children:"📍 Endpoint: /auth/v1/signup"})]})]}),t.jsx("button",{onClick:l,disabled:a,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 transition-all shadow-lg mb-6",children:a?"⏳ Testando...":"🚀 Executar Teste de Cadastro"}),n&&t.jsxs("div",{className:`rounded-lg p-6 ${n.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[t.jsx("h3",{className:`font-bold text-lg mb-3 ${n.success?"text-green-900":"text-red-900"}`,children:n.success?"✅ SUCESSO!":"❌ ERRO"}),t.jsx("pre",{className:"text-sm overflow-auto bg-white p-4 rounded border",children:JSON.stringify(n,null,2)})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("a",{href:"/",className:"text-blue-600 hover:text-blue-800 underline",children:"← Voltar para Home"})})]})})};async function KN(a){try{const s={select:"*"};a?.active!==void 0&&(s.active=`eq.${a.active}`),a?.specialty&&(s.specialty=`ilike.%${a.specialty}%`);const n=await Re.get(Me.DOCTORS,{params:s});return n.success&&n.data?{success:!0,data:Array.isArray(n.data)?n.data:[n.data]}:{success:!1,error:n.error||"Erro ao listar médicos"}}catch(s){return console.error("Erro ao listar médicos:",s),{success:!1,error:s instanceof Error?s.message:"Erro desconhecido"}}}async function JN(a){try{const s=await Re.post(Me.DOCTORS,a,{headers:{Prefer:"return=representation"}});return s.success&&s.data?{success:!0,data:Array.isArray(s.data)?s.data[0]:s.data,message:"Médico criado com sucesso"}:{success:!1,error:s.error||"Erro ao criar médico"}}catch(s){return console.error("Erro ao criar médico:",s),{success:!1,error:s instanceof Error?s.message:"Erro ao criar médico"}}}async function GN(a,s){try{const n=await Re.patch(`${Me.DOCTORS}?id=eq.${a}`,s,{headers:{Prefer:"return=representation"}});return n.success&&n.data?{success:!0,data:Array.isArray(n.data)?n.data[0]:n.data,message:"Médico atualizado com sucesso"}:{success:!1,error:n.error||"Erro ao atualizar médico"}}catch(n){return console.error("Erro ao atualizar médico:",n),{success:!1,error:n instanceof Error?n.message:"Erro ao atualizar médico"}}}async function ZN(a){try{const s=await Re.delete(`${Me.DOCTORS}?id=eq.${a}`);return s.success?{success:!0,message:"Médico deletado com sucesso"}:{success:!1,error:s.error||"Erro ao deletar médico"}}catch(s){return console.error("Erro ao deletar médico:",s),{success:!1,error:s instanceof Error?s.message:"Erro ao deletar médico"}}}async function e2(a){try{const s=await Re.post("/functions/v1/create-user",a);return s.success&&s.data?s.data:{success:!1,error:s.error||"Erro ao criar usuário"}}catch(s){return console.error("Erro ao criar usuário:",s),{success:!1,error:s instanceof Error?s.message:"Erro ao criar usuário"}}}class t2{async getCurrentUserInfo(){try{console.log("[adminUserService] Buscando informações do usuário atual...");const s=await Ie.get("/functions/v1/user-info");return console.log("[adminUserService] Usuário atual:",s.data),{success:!0,data:s.data}}catch(s){console.error("[adminUserService] Erro ao buscar usuário:",s);const n=s;return{success:!1,error:n?.response?.data?.error||n?.response?.data?.message||n?.message||"Erro ao buscar informações do usuário"}}}async getUserRoles(s){try{console.log("[adminUserService] Buscando roles do usuário:",s);const n=await Ie.get(`/rest/v1/user_roles?user_id=eq.${s}`);return console.log("[adminUserService] Roles encontrados:",n.data),{success:!0,data:n.data}}catch(n){console.error("[adminUserService] Erro ao buscar roles:",n);const i=n;return{success:!1,error:i?.response?.data?.error||i?.response?.data?.message||i?.message||"Erro ao buscar roles do usuário"}}}async getAllUserRoles(){try{console.log("[adminUserService] Buscando todos os roles...");const s=await Ie.get("/rest/v1/user_roles?select=*");return console.log("[adminUserService] Total de roles:",s.data.length),{success:!0,data:s.data}}catch(s){console.error("[adminUserService] Erro ao buscar roles:",s);const n=s;return{success:!1,error:n?.response?.data?.error||n?.response?.data?.message||n?.message||"Erro ao buscar roles"}}}async addUserRole(s,n){try{console.log("[adminUserService] Adicionando role:",{userId:s,role:n});const i=await Ie.post("/rest/v1/user_roles",{user_id:s,role:n},{headers:{Prefer:"return=representation"}});return console.log("[adminUserService] Role adicionado:",i.data),{success:!0,data:i.data[0]}}catch(i){console.error("[adminUserService] Erro ao adicionar role:",i);const l=i;return{success:!1,error:l?.response?.data?.error||l?.response?.data?.message||l?.message||"Erro ao adicionar role"}}}async removeUserRole(s){try{return console.log("[adminUserService] Removendo role:",s),await Ie.delete(`/rest/v1/user_roles?id=eq.${s}`),console.log("[adminUserService] Role removido com sucesso"),{success:!0}}catch(n){console.error("[adminUserService] Erro ao remover role:",n);const i=n;return{success:!1,error:i?.response?.data?.error||i?.response?.data?.message||i?.message||"Erro ao remover role"}}}async listAllUsers(){try{console.log("[adminUserService] Listando todos os usuários...");const s=await Ie.get("/rest/v1/profiles?select=*"),n=await this.getAllUserRoles(),i=n.success&&n.data?n.data:[];console.log("[adminUserService] Total de usuários:",s.data.length),console.log("[adminUserService] Total de roles:",i.length);const l=new Map;return i.forEach(u=>{l.has(u.user_id)||l.set(u.user_id,[]),l.get(u.user_id)?.push(u.role)}),{success:!0,data:s.data.map(u=>{const g=l.get(u.id)||[],h={isAdmin:g.includes("admin"),isManager:g.includes("gestor"),isDoctor:g.includes("medico"),isSecretary:g.includes("secretaria"),isAdminOrManager:g.includes("admin")||g.includes("gestor")};return{user:{id:u.id,email:u.email||"",created_at:u.created_at||""},profile:u,roles:g,permissions:h}})}}catch(s){console.error("[adminUserService] Erro ao listar usuários:",s);const n=s;return{success:!1,error:n?.response?.data?.error||n?.response?.data?.message||n?.message||"Erro ao listar usuários"}}}async updateUser(s,n){try{console.log("[adminUserService] Atualizando usuário:",s,n);const i={};n.full_name!==void 0&&(i.full_name=n.full_name),n.phone!==void 0&&(i.phone=n.phone),n.email!==void 0&&(i.email=n.email),n.disabled!==void 0&&(i.disabled=n.disabled);const l=await Ie.patch(`/rest/v1/profiles?id=eq.${s}`,i,{headers:{Prefer:"return=representation"}});return console.log("[adminUserService] Usuário atualizado:",l.data),{success:!0,data:l.data[0]}}catch(i){console.error("[adminUserService] Erro ao atualizar usuário:",i);const l=i;return{success:!1,error:l?.response?.data?.error||l?.response?.data?.message||l?.message||"Erro ao atualizar usuário"}}}async disableUser(s){return this.updateUser(s,{disabled:!0})}async enableUser(s){return this.updateUser(s,{disabled:!1})}async deleteUser(s){try{return console.log("[adminUserService] Deletando usuário:",s),await Ie.delete(`/rest/v1/profiles?id=eq.${s}`),console.log("[adminUserService] Usuário deletado com sucesso"),{success:!0}}catch(n){console.error("[adminUserService] Erro ao deletar usuário:",n);const i=n;return{success:!1,error:i?.response?.data?.error||i?.response?.data?.message||i?.message||"Erro ao deletar usuário"}}}}const Mr=new t2,r2=()=>{const{roles:a}=tr(),s=Nt(),[n,i]=y.useState("pacientes"),[l,d]=y.useState(!1),[u,g]=y.useState([]),[h,v]=y.useState(!1),[p,x]=y.useState(null),[w,D]=y.useState({full_name:"",cpf:"",email:"",phone_mobile:"",birth_date:"",social_name:"",sex:"",blood_type:"",weight_kg:"",height_m:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",cep:""}),[S,_]=y.useState([]),[k,O]=y.useState(""),[A,j]=y.useState(!1),[P,X]=y.useState(null),[ae,F]=y.useState({}),[K,oe]=y.useState(null),[W,fe]=y.useState([]),[he,ve]=y.useState(""),[Se,Ce]=y.useState({email:"",password:"",full_name:"",phone:"",role:"user"}),[ue,me]=y.useState([]),[Y,q]=y.useState(!1),[Q,C]=y.useState(null),[$,re]=y.useState({crm:"",crm_uf:"SP",specialty:"",full_name:"",cpf:"",email:"",phone_mobile:"",phone2:"",cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",birth_date:"",rg:"",active:!0});y.useEffect(()=>{a.includes("admin")||a.includes("gestor")||(M.error("Acesso negado: apenas administradores"),s("/"))},[a,s]),y.useEffect(()=>{n==="pacientes"?U():n==="usuarios"?ie():n==="medicos"&&le()},[n]);const ie=async()=>{d(!0);try{const E=await Mr.listAllUsers();E.success&&E.data?_(E.data):M.error(E.error||"Erro ao carregar usuários")}catch{M.error("Erro ao carregar usuários")}finally{d(!1)}},U=async()=>{d(!0);try{const E=await Fa({per_page:100});"data"in E&&g(E.data)}catch(E){console.error("Erro ao carregar pacientes:",E),M.error("Erro ao carregar pacientes")}finally{d(!1)}},le=async()=>{d(!0);try{const E=await KN();E.success&&E.data&&me(E.data)}catch(E){console.error("Erro ao carregar médicos:",E),M.error("Erro ao carregar médicos")}finally{d(!1)}},de=async E=>{E.preventDefault(),d(!0);try{const ce=await e2(Se);ce.success?(M.success(`Usuário ${Se.full_name} criado com sucesso!`),j(!1),Xt()):M.error(ce.error||"Erro ao criar usuário")}catch(ce){console.error("Erro ao criar usuário:",ce),M.error("Erro ao criar usuário")}finally{d(!1)}},J=E=>{X(E),F({full_name:E.profile?.full_name||"",email:E.profile?.email||"",phone:E.profile?.phone||"",disabled:E.profile?.disabled||!1})},Ae=async()=>{if(P)try{const E=await Mr.updateUser(P.user.id,ae);E.success?(M.success("Usuário atualizado com sucesso!"),X(null),ie()):M.error(E.error||"Erro ao atualizar usuário")}catch{M.error("Erro ao atualizar usuário")}},He=async(E,ce)=>{try{const ke=ce?await Mr.enableUser(E):await Mr.disableUser(E);ke.success?(M.success(`Usuário ${ce?"habilitado":"desabilitado"} com sucesso!`),ie()):M.error(ke.error||"Erro ao alterar status do usuário")}catch{M.error("Erro ao alterar status do usuário")}},$e=async(E,ce)=>{if(confirm(`Tem certeza que deseja deletar o usuário "${ce}"? Esta ação não pode ser desfeita.`))try{const ke=await Mr.deleteUser(E);ke.success?(M.success("Usuário deletado com sucesso!"),ie()):M.error(ke.error||"Erro ao deletar usuário")}catch{M.error("Erro ao deletar usuário")}},et=E=>{x(E),D({full_name:E.nome,cpf:E.cpf||"",email:E.email||"",phone_mobile:E.telefone||"",birth_date:E.dataNascimento||"",social_name:E.socialName||"",sex:E.sexo||"",blood_type:E.tipoSanguineo||"",weight_kg:E.pesoKg?.toString()||"",height_m:E.alturaM?.toString()||"",street:E.endereco?.rua||"",number:E.endereco?.numero||"",complement:E.endereco?.complemento||"",neighborhood:E.endereco?.bairro||"",city:E.endereco?.cidade||"",state:E.endereco?.estado||"",cep:E.endereco?.cep||""}),v(!0)},Yt=async E=>{E.preventDefault(),d(!0);try{const ce={nome:w.full_name,cpf:w.cpf.replace(/\D/g,""),email:w.email,telefone:w.phone_mobile,dataNascimento:w.birth_date,socialName:w.social_name,sexo:w.sex,tipoSanguineo:w.blood_type,pesoKg:w.weight_kg?parseFloat(w.weight_kg):void 0,alturaM:w.height_m?parseFloat(w.height_m):void 0,endereco:{rua:w.street,numero:w.number,complemento:w.complement,bairro:w.neighborhood,cidade:w.city,estado:w.state,cep:w.cep}};if(p){const ke=await mo(p.id,ce);ke.success?(M.success("Paciente atualizado com sucesso!"),v(!1),x(null),Qt(),U()):M.error(ke.error||"Erro ao atualizar paciente")}else{const ke=await uo(ce);ke.success?(M.success("Paciente criado com sucesso!"),v(!1),Qt(),U()):M.error(ke.error||"Erro ao criar paciente")}}catch(ce){console.error("Erro ao salvar paciente:",ce),M.error("Erro ao salvar paciente")}finally{d(!1)}},rr=async(E,ce)=>{if(confirm(`Tem certeza que deseja deletar o paciente "${ce}"? Esta ação não pode ser desfeita.`))try{console.log("[PainelAdmin] Deletando paciente:",{id:E,nome:ce});const ke=await fo(E);console.log("[PainelAdmin] Resultado da deleção:",ke),ke.success?(M.success("Paciente deletado com sucesso!"),U()):(console.error("[PainelAdmin] Falha ao deletar:",ke.error),M.error(ke.error||"Erro ao deletar paciente"))}catch(ke){console.error("[PainelAdmin] Erro ao deletar paciente:",ke),M.error("Erro ao deletar paciente")}},Nr=E=>{C(E),re({crm:E.crm||"",crm_uf:E.crm_uf||"SP",specialty:E.specialty||"",full_name:E.full_name||"",cpf:E.cpf||"",email:E.email||"",phone_mobile:E.phone_mobile||"",phone2:E.phone2||"",cep:E.cep||"",street:E.street||"",number:E.number||"",complement:E.complement||"",neighborhood:E.neighborhood||"",city:E.city||"",state:E.state||"",birth_date:E.birth_date||"",rg:E.rg||"",active:E.active??!0}),q(!0)},aa=async E=>{E.preventDefault(),d(!0);try{const ce={...$,cpf:$.cpf.replace(/\D/g,"")};if(Q){const ke=await GN(Q.id,ce);ke.success?(M.success("Médico atualizado com sucesso!"),q(!1),C(null),Ot(),le()):M.error(ke.error||"Erro ao atualizar médico")}else{const ke=await JN(ce);ke.success?(M.success("Médico criado com sucesso!"),q(!1),Ot(),le()):M.error(ke.error||"Erro ao criar médico")}}catch(ce){console.error("Erro ao salvar médico:",ce),M.error("Erro ao salvar médico")}finally{d(!1)}},ht=async(E,ce)=>{if(confirm(`Tem certeza que deseja deletar o médico "${ce}"? Esta ação não pode ser desfeita.`))try{const ke=await ZN(E);ke.success?(M.success("Médico deletado com sucesso!"),le()):M.error(ke.error||"Erro ao deletar médico")}catch{M.error("Erro ao deletar médico")}},Qt=()=>{D({full_name:"",cpf:"",email:"",phone_mobile:"",birth_date:"",social_name:"",sex:"",blood_type:"",weight_kg:"",height_m:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",cep:""})},Xt=()=>{Ce({email:"",password:"",full_name:"",phone:"",role:"user"})},Ot=()=>{re({crm:"",crm_uf:"SP",specialty:"",full_name:"",cpf:"",email:"",phone_mobile:"",phone2:"",cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",birth_date:"",rg:"",active:!0})},Lt=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],ee=["admin","gestor","medico","secretaria","user"];return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:[t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-white rounded-xl shadow p-6 mb-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Painel de Administração"}),t.jsx("p",{className:"text-gray-600",children:"Gerenciar pacientes, usuários e médicos do sistema"})]}),t.jsx(tb,{className:"w-12 h-12 text-blue-600"})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200 mb-6",children:[t.jsxs("div",{className:"flex border-b",role:"tablist","aria-label":"Seções do administrador",children:[t.jsxs("button",{onClick:()=>i("pacientes"),id:"tab-pacientes-tab",role:"tab","aria-selected":n==="pacientes","aria-controls":"tab-pacientes-panel",className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${n==="pacientes"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[t.jsx(Hs,{className:"w-5 h-5"}),"Pacientes"]}),t.jsxs("button",{onClick:()=>i("usuarios"),id:"tab-usuarios-tab",role:"tab","aria-selected":n==="usuarios","aria-controls":"tab-usuarios-panel",className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${n==="usuarios"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[t.jsx(eo,{className:"w-5 h-5"}),"Usuários"]}),t.jsxs("button",{onClick:()=>i("medicos"),id:"tab-medicos-tab",role:"tab","aria-selected":n==="medicos","aria-controls":"tab-medicos-panel",className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${n==="medicos"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[t.jsx(Da,{className:"w-5 h-5"}),"Médicos"]})]}),t.jsxs("div",{className:"p-6",children:[n==="pacientes"&&t.jsxs("div",{id:"tab-pacientes-panel",role:"tabpanel","aria-labelledby":"tab-pacientes-tab",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Pacientes Cadastrados"}),t.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2",children:[t.jsx(cr,{className:"w-5 h-5"}),"Novo Paciente"]})]}),l?t.jsx("div",{className:"text-center py-8",children:"Carregando..."}):t.jsx("div",{className:"grid gap-4",children:u.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum paciente cadastrado"}):u.map((E,ce)=>t.jsxs("div",{className:`rounded-lg p-4 flex items-center justify-between transition-colors ${ce%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-100`,children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg",children:E.nome}),t.jsxs("p",{className:"text-gray-600 text-sm",children:[E.email," | ",E.telefone]}),t.jsxs("p",{className:"text-gray-500 text-xs",children:["CPF: ",E.cpf," | Nascimento: ",E.dataNascimento]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>et(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",title:"Editar",children:t.jsx(Xn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>rr(E.id,E.nome),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",title:"Deletar",children:t.jsx(Ra,{className:"w-4 h-4"})})]})]},E.id))})]}),n==="usuarios"&&t.jsxs("div",{id:"tab-usuarios-panel",role:"tabpanel","aria-labelledby":"tab-usuarios-tab",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Gerenciar Usuários"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:ie,disabled:l,className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",children:[t.jsx(Fv,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Atualizar"]}),t.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:[t.jsx(cr,{className:"w-5 h-5"}),"Novo Usuário"]})]})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:k,onChange:E=>O(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40 transition-colors"})]}),l?t.jsx("div",{className:"text-center py-8",children:"Carregando usuários..."}):t.jsx("div",{className:"overflow-auto max-h-[70vh] bg-white rounded-lg border border-gray-200",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white sticky top-0 z-10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Nome"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Telefone"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Roles"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Ações"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:S.filter(E=>{const ce=k.toLowerCase();return E.profile?.full_name?.toLowerCase().includes(ce)||E.profile?.email?.toLowerCase().includes(ce)||E.user.email.toLowerCase().includes(ce)}).length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:k?"Nenhum usuário encontrado":"Nenhum usuário cadastrado"})}):S.filter(E=>{const ce=k.toLowerCase();return E.profile?.full_name?.toLowerCase().includes(ce)||E.profile?.email?.toLowerCase().includes(ce)||E.user.email.toLowerCase().includes(ce)}).map(E=>t.jsxs("tr",{className:"hover:bg-gray-50 odd:bg-white even:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"font-medium text-gray-900",children:E.profile?.full_name||"Sem nome"})}),t.jsx("td",{className:"px-4 py-3 text-gray-600",children:E.profile?.email||E.user.email}),t.jsx("td",{className:"px-4 py-3 text-gray-600",children:E.profile?.phone||"-"}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:E.roles&&E.roles.length>0?E.roles.map((ce,ke)=>t.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${ce==="admin"?"bg-purple-100 text-purple-700":ce==="gestor"?"bg-blue-100 text-blue-700":ce==="medico"?"bg-indigo-100 text-indigo-700":ce==="secretaria"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:ce},ke)):t.jsx("span",{className:"text-gray-400 text-xs",children:"Sem roles"})})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${E.profile?.disabled?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:E.profile?.disabled?"Desabilitado":"Ativo"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:()=>J(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",title:"Editar",children:t.jsx(Xn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:async()=>{oe(E);const ce=await Mr.getUserRoles(E.user.id);ce.success&&ce.data&&fe(ce.data)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500 focus-visible:ring-offset-2",title:"Gerenciar Roles",children:t.jsx(Vi,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>He(E.user.id,!!E.profile?.disabled),className:`p-2 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${E.profile?.disabled?"text-green-600 hover:bg-green-50 focus-visible:ring-green-500":"text-orange-600 hover:bg-orange-50 focus-visible:ring-orange-500"}`,title:E.profile?.disabled?"Habilitar":"Desabilitar",children:E.profile?.disabled?t.jsx(kd,{className:"w-4 h-4"}):t.jsx(sb,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>$e(E.user.id,E.profile?.full_name||E.user.email),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",title:"Deletar",children:t.jsx(Ra,{className:"w-4 h-4"})})]})})]},E.user.id))})]})})]}),n==="medicos"&&t.jsxs("div",{id:"tab-medicos-panel",role:"tabpanel","aria-labelledby":"tab-medicos-tab",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Médicos Cadastrados"}),t.jsxs("button",{onClick:()=>q(!0),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500 focus-visible:ring-offset-2",children:[t.jsx(cr,{className:"w-5 h-5"}),"Novo Médico"]})]}),l?t.jsx("div",{className:"text-center py-8",children:"Carregando..."}):t.jsx("div",{className:"grid gap-4",children:ue.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum médico cadastrado"}):ue.map((E,ce)=>t.jsxs("div",{className:`rounded-lg p-4 flex items-center justify-between transition-colors ${ce%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-100`,children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-lg",children:E.full_name}),t.jsxs("p",{className:"text-gray-600 text-sm",children:[E.specialty," | CRM: ",E.crm,"/",E.crm_uf]}),t.jsxs("p",{className:"text-gray-500 text-xs",children:[E.email," | ",E.phone_mobile]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${E.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.active?"Ativo":"Inativo"}),t.jsx("button",{onClick:()=>Nr(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",title:"Editar",children:t.jsx(Xn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ht(E.id,E.full_name||"Médico sem nome"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",title:"Deletar",children:t.jsx(Ra,{className:"w-4 h-4"})})]})]},E.id))})]})]})]})]}),h&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"paciente-modal-title",children:t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{id:"paciente-modal-title",className:"text-2xl font-bold mb-4",children:"Novo Paciente"}),t.jsxs("form",{onSubmit:Yt,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo *"}),t.jsx("input",{type:"text",required:!0,value:w.full_name,onChange:E=>D({...w,full_name:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Social"}),t.jsx("input",{type:"text",value:w.social_name,onChange:E=>D({...w,social_name:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),t.jsx("input",{type:"text",required:!0,value:w.cpf,onChange:E=>D({...w,cpf:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40",placeholder:"00000000000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),t.jsx("input",{type:"email",required:!0,value:w.email,onChange:E=>D({...w,email:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone *"}),t.jsx("input",{type:"text",required:!0,value:w.phone_mobile,onChange:E=>D({...w,phone_mobile:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40",placeholder:"(00) 00000-0000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),t.jsx("input",{type:"date",value:w.birth_date,onChange:E=>D({...w,birth_date:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sexo"}),t.jsxs("select",{value:w.sex,onChange:E=>D({...w,sex:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40",children:[t.jsx("option",{value:"",children:"Selecione"}),t.jsx("option",{value:"M",children:"Masculino"}),t.jsx("option",{value:"F",children:"Feminino"}),t.jsx("option",{value:"Outro",children:"Outro"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo Sanguíneo"}),t.jsx("input",{type:"text",value:w.blood_type,onChange:E=>D({...w,blood_type:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600/40",placeholder:"A+"})]})]}),t.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{v(!1),x(null),Qt()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2",children:l?p?"Salvando...":"Criando...":p?"Salvar":"Criar Paciente"})]})]})]})})}),A&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"usuario-modal-title",children:t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-xl max-w-md w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{id:"usuario-modal-title",className:"text-2xl font-bold mb-4",children:"Novo Usuário"}),t.jsxs("form",{onSubmit:de,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo *"}),t.jsx("input",{type:"text",required:!0,value:Se.full_name,onChange:E=>Ce({...Se,full_name:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),t.jsx("input",{type:"email",required:!0,value:Se.email,onChange:E=>Ce({...Se,email:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Senha Temporária * (mínimo 6 caracteres)"}),t.jsx("input",{type:"password",required:!0,minLength:6,value:Se.password,onChange:E=>Ce({...Se,password:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),t.jsx("input",{type:"text",value:Se.phone||"",onChange:E=>Ce({...Se,phone:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40",placeholder:"(00) 00000-0000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role/Papel *"}),t.jsx("select",{required:!0,value:Se.role,onChange:E=>Ce({...Se,role:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40",children:ee.map(E=>t.jsx("option",{value:E,children:E},E))})]}),t.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{j(!1),Xt()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:l?"Criando...":"Criar Usuário"})]})]})]})})}),Y&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"medico-modal-title",children:t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{id:"medico-modal-title",className:"text-2xl font-bold mb-4",children:"Novo Médico"}),t.jsxs("form",{onSubmit:aa,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo *"}),t.jsx("input",{type:"text",required:!0,value:$.full_name,onChange:E=>re({...$,full_name:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Especialidade"}),t.jsx("input",{type:"text",value:$.specialty,onChange:E=>re({...$,specialty:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40",placeholder:"Cardiologia"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"CRM *"}),t.jsx("input",{type:"text",required:!0,value:$.crm,onChange:E=>re({...$,crm:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40",placeholder:"123456"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"UF do CRM *"}),t.jsx("select",{required:!0,value:$.crm_uf,onChange:E=>re({...$,crm_uf:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40",children:Lt.map(E=>t.jsx("option",{value:E,children:E},E))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),t.jsx("input",{type:"text",required:!0,value:$.cpf,onChange:E=>re({...$,cpf:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40",placeholder:"000.000.000-00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"RG"}),t.jsx("input",{type:"text",value:$.rg,onChange:E=>re({...$,rg:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),t.jsx("input",{type:"email",required:!0,value:$.email,onChange:E=>re({...$,email:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),t.jsx("input",{type:"text",value:$.phone_mobile,onChange:E=>re({...$,phone_mobile:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40",placeholder:"(00) 00000-0000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),t.jsx("input",{type:"date",value:$.birth_date,onChange:E=>re({...$,birth_date:E.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40"})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2 mt-6",children:[t.jsx("input",{type:"checkbox",checked:$.active,onChange:E=>re({...$,active:E.target.checked}),className:"w-4 h-4 focus:outline-none focus:ring-2 focus:ring-purple-600"}),t.jsx("span",{className:"text-sm font-medium",children:"Ativo"})]})})]}),t.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{q(!1),C(null),Ot()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500 focus-visible:ring-offset-2",children:l?Q?"Salvando...":"Criando...":Q?"Salvar":"Criar Médico"})]})]})]})})}),P&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"editar-usuario-title",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 max-w-md w-full p-6",children:[t.jsx("h2",{id:"editar-usuario-title",className:"text-xl font-bold text-gray-900 mb-4",children:"Editar Usuário"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),t.jsx("input",{type:"text",value:ae.full_name||"",onChange:E=>F({...ae,full_name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:ae.email||"",onChange:E=>F({...ae,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),t.jsx("input",{type:"tel",value:ae.phone||"",onChange:E=>F({...ae,phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600/40"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>X(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Cancelar"}),t.jsx("button",{onClick:Ae,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Salvar"})]})]})}),K&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"gerenciar-roles-title",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 max-w-md w-full p-6",children:[t.jsxs("h2",{id:"gerenciar-roles-title",className:"text-xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-5 h-5 text-purple-600"}),"Gerenciar Roles"]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:K.profile?.full_name||K.user.email}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Roles Atuais:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:W.length>0?W.map(E=>t.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${E.role==="admin"?"bg-purple-100 text-purple-700":E.role==="gestor"?"bg-blue-100 text-blue-700":E.role==="medico"?"bg-indigo-100 text-indigo-700":E.role==="secretaria"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[E.role,t.jsx("button",{onClick:async()=>{const ce=await Mr.removeUserRole(E.id);if(ce.success){M.success("Role removido com sucesso!");const ke=await Mr.getUserRoles(K.user.id);ke.success&&ke.data&&fe(ke.data),ie()}else M.error(ce.error||"Erro ao remover role")},className:"hover:bg-black hover:bg-opacity-10 rounded-full p-0.5",children:t.jsx(Gr,{className:"w-3 h-3"})})]},E.id)):t.jsx("span",{className:"text-gray-400 text-sm",children:"Nenhum role atribuído"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Adicionar Role:"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:he,onChange:E=>ve(E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600/40 text-sm",children:[t.jsx("option",{value:"",children:"Selecione um role..."}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"gestor",children:"Gestor"}),t.jsx("option",{value:"medico",children:"Médico"}),t.jsx("option",{value:"secretaria",children:"Secretária"}),t.jsx("option",{value:"user",children:"Usuário"})]}),t.jsxs("button",{onClick:async()=>{if(!he){M.error("Selecione um role");return}const E=await Mr.addUserRole(K.user.id,he);if(E.success){M.success("Role adicionado com sucesso!"),ve("");const ce=await Mr.getUserRoles(K.user.id);ce.success&&ce.data&&fe(ce.data),ie()}else M.error(E.error||"Erro ao adicionar role")},disabled:!he,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500 focus-visible:ring-offset-2",children:[t.jsx(cr,{className:"w-4 h-4"}),"Adicionar"]})]})]}),t.jsx("div",{className:"flex gap-3 mt-6",children:t.jsx("button",{onClick:()=>{oe(null),fe([]),ve("")},className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",children:"Fechar"})})]})})]})},Mg=[{category:"Agendamento",question:"Como agendar uma consulta?",answer:"Para agendar uma consulta, vá até a seção 'Agendar Consulta' no menu lateral, selecione o médico desejado, escolha uma data e horário disponível, e confirme o agendamento. Você receberá uma confirmação por e-mail."},{category:"Agendamento",question:"Posso cancelar ou remarcar uma consulta?",answer:"Sim, você pode cancelar ou remarcar suas consultas em 'Minhas Consultas'. Recomendamos fazer isso com pelo menos 24 horas de antecedência para evitar taxas de cancelamento."},{category:"Agendamento",question:"Posso agendar consulta para outra pessoa?",answer:"Sim, você pode agendar consultas para dependentes cadastrados em seu perfil. Basta selecioná-los no momento do agendamento."},{category:"Consultas",question:"Como funciona a teleconsulta?",answer:"A teleconsulta é realizada por videochamada. No horário da consulta, acesse 'Minhas Consultas' e clique em 'Iniciar Consulta Online'. Certifique-se de ter uma conexão estável de internet e permita o acesso à câmera e microfone."},{category:"Consultas",question:"Quanto tempo antes devo chegar para a consulta presencial?",answer:"Recomendamos chegar com 15 minutos de antecedência para realizar o check-in e atualizar suas informações cadastrais se necessário."},{category:"Consultas",question:"Como acesso o histórico das minhas consultas?",answer:"Seu histórico completo de consultas está disponível em 'Minhas Consultas'. Lá você pode ver consultas realizadas, relatórios médicos e prescrições anteriores."},{category:"Pagamento",question:"Quais formas de pagamento são aceitas?",answer:"Aceitamos cartão de crédito, débito, PIX e boleto bancário. Os pagamentos são processados de forma segura através da nossa plataforma."},{category:"Pagamento",question:"Posso parcelar o pagamento?",answer:"Sim, oferecemos parcelamento em até 3x sem juros no cartão de crédito para consultas acima de R$ 150,00."},{category:"Pagamento",question:"Como funciona o reembolso em caso de cancelamento?",answer:"Cancelamentos feitos com mais de 24 horas de antecedência têm reembolso integral. Cancelamentos com menos de 24 horas podem ter retenção de 30% como taxa administrativa."},{category:"Informações Médicas",question:"Como acesso meu histórico médico?",answer:"Seu histórico médico, incluindo consultas anteriores, exames e receitas, pode ser acessado na seção 'Meu Perfil'. Você pode fazer download de documentos quando necessário."},{category:"Informações Médicas",question:"Os médicos têm acesso ao meu histórico completo?",answer:"Sim, os médicos da plataforma têm acesso ao seu histórico de consultas e exames realizados dentro do sistema para oferecer melhor atendimento."},{category:"Informações Médicas",question:"Posso adicionar exames feitos fora da plataforma?",answer:"Sim, você pode fazer upload de exames e documentos médicos externos na seção 'Meu Perfil' > 'Documentos Médicos'."},{category:"Segurança",question:"Meus dados estão seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos todos os protocolos da LGPD para proteger seus dados pessoais e médicos."},{category:"Segurança",question:"Quem tem acesso às minhas informações?",answer:"Apenas você, os médicos que te atendem e profissionais autorizados da clínica têm acesso às suas informações. Nunca compartilhamos seus dados com terceiros sem autorização."},{category:"Suporte",question:"Como entro em contato com o suporte?",answer:"Você pode entrar em contato através do chat online, telefone (0800-123-4567) ou e-mail (secretaria.mediconnect@gmail.com). Horário de atendimento: Segunda a Sexta, das 8h às 18h."},{category:"Suporte",question:"O que fazer em caso de emergência?",answer:"Em casos de emergência, procure imediatamente o pronto-socorro mais próximo ou ligue para 192 (SAMU). Nossa plataforma é destinada a consultas agendadas e não substitui o atendimento de emergência."},{category:"Médicos",question:"Posso escolher qualquer médico?",answer:"Sim, você pode escolher qualquer médico disponível na plataforma. Recomendamos verificar a especialidade, avaliações de outros pacientes e disponibilidade antes de agendar."},{category:"Médicos",question:"Como avaliar um médico após a consulta?",answer:"Após cada consulta, você receberá um convite por e-mail para avaliar o atendimento. Você também pode avaliar acessando 'Minhas Consultas' e selecionando a consulta realizada."}],a2=()=>{const a=Nt(),[s,n]=y.useState(""),[i,l]=y.useState(null),[d,u]=y.useState("Todas"),g=["Todas",...Array.from(new Set(Mg.map(p=>p.category)))],h=Mg.filter(p=>{const x=p.question.toLowerCase().includes(s.toLowerCase())||p.answer.toLowerCase().includes(s.toLowerCase()),w=d==="Todas"||p.category===d;return x&&w}),v=p=>{l(i===p?null:p)};return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-400 dark:from-blue-700 dark:to-blue-500 text-white py-12",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>a("/acompanhamento"),className:"absolute left-0 top-0 flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors backdrop-blur-sm",children:[t.jsx(np,{className:"h-5 w-5"}),t.jsx("span",{children:"Voltar ao Painel"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(cp,{className:"h-16 w-16 mx-auto mb-4"}),t.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Central de Ajuda"}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Encontre respostas para suas dúvidas rapidamente"})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 -mt-16 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mb-4",children:t.jsx(Hi,{className:"h-7 w-7 text-blue-600 dark:text-blue-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Chat Online"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"Fale conosco em tempo real"}),t.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Iniciar Chat"})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mb-4",children:t.jsx(rl,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Telefone"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"0800-123-4567"}),t.jsx("button",{className:"w-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg transition-colors",children:"Ligar Agora"})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center mb-4",children:t.jsx(Gs,{className:"h-7 w-7 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"E-mail"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"secretaria.mediconnect@gmail.com"}),t.jsx("button",{className:"w-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg transition-colors",children:"Enviar E-mail"})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Perguntas Frequentes"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Busque por palavras-chave ou navegue pelas categorias"}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx(ls,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Buscar em perguntas frequentes...",value:s,onChange:p=>n(p.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(p=>t.jsx("button",{onClick:()=>u(p),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d===p?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:p},p))})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8",children:[t.jsx("div",{className:"space-y-4",children:h.map((p,x)=>t.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[t.jsxs("button",{onClick:()=>v(x),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 text-xs font-medium rounded",children:p.category}),t.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:p.question})]}),t.jsx(Vd,{className:`h-5 w-5 text-gray-400 transition-transform flex-shrink-0 ml-4 ${i===x?"transform rotate-180":""}`})]}),i===x&&t.jsx("div",{className:"px-4 pb-4 pt-2 bg-gray-50 dark:bg-gray-700/50",children:t.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed pl-16",children:p.answer})})]},x))}),h.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(no,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:['Nenhuma pergunta encontrada para "',s,'"']}),t.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:"Tente outro termo de busca ou entre em contato conosco"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Recursos Adicionais"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0",children:t.jsx(ip,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Guia do Usuário"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manual completo da plataforma"})]})]}),t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-red-100 dark:bg-red-900 flex items-center justify-center flex-shrink-0",children:t.jsx(Vs,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Vídeos Tutoriais"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aprenda assistindo"})]})]}),t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center flex-shrink-0",children:t.jsx(Js,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Termos de Uso"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Leia nossos termos"})]})]}),t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center flex-shrink-0",children:t.jsx(Vi,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Política de Privacidade"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Como protegemos seus dados"})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-400 dark:from-blue-700 dark:to-blue-500 rounded-xl shadow-md p-8 mt-8 text-center text-white",children:[t.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Ainda tem dúvidas?"}),t.jsx("p",{className:"text-blue-100 mb-6",children:"Nossa equipe está pronta para ajudar você"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{className:"bg-white text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-lg font-medium transition-colors",children:"Falar com Suporte"}),t.jsx("button",{className:"border-2 border-white text-white hover:bg-white/10 px-6 py-3 rounded-lg font-medium transition-colors",children:"Agendar Retorno de Ligação"})]})]})]})]})},Dg=[{category:"Agenda",question:"Como gerenciar minha disponibilidade?",answer:"Acesse 'Disponibilidade' no menu lateral para configurar seus horários de atendimento. Você pode definir horários recorrentes e adicionar exceções para datas específicas."},{category:"Agenda",question:"Posso bloquear horários específicos?",answer:"Sim, na seção 'Disponibilidade', você pode adicionar exceções para bloquear horários em datas específicas, como férias ou compromissos pessoais."},{category:"Agenda",question:"Como visualizar minhas próximas consultas?",answer:"No Dashboard, você verá um resumo das próximas consultas. Para ver detalhes completos, acesse a seção 'Consultas' no menu lateral."},{category:"Consultas",question:"Como realizar uma teleconsulta?",answer:"No horário da consulta, acesse 'Consultas', localize o agendamento e clique em 'Iniciar Consulta Online'. Certifique-se de ter uma boa conexão de internet."},{category:"Consultas",question:"Posso cancelar ou remarcar uma consulta?",answer:"Sim, acesse 'Consultas', selecione o agendamento desejado e escolha a opção de cancelar ou remarcar. O paciente será notificado automaticamente."},{category:"Consultas",question:"Como registro o prontuário após a consulta?",answer:"Após finalizar a consulta, clique em 'Adicionar Relatório' para registrar anamnese, diagnóstico, prescrição e orientações."},{category:"Relatórios",question:"Como criar relatórios médicos?",answer:"Na seção 'Relatórios', você pode criar novos documentos médicos incluindo anamnese, exame físico, diagnóstico e prescrição. Os relatórios ficam vinculados ao histórico do paciente."},{category:"Relatórios",question:"Os pacientes têm acesso aos relatórios?",answer:"Sim, após você criar e salvar um relatório, o paciente pode acessá-lo em seu painel pessoal."},{category:"Relatórios",question:"Posso editar um relatório após criado?",answer:"Sim, você pode editar relatórios acessando a seção 'Relatórios' e selecionando o documento desejado."},{category:"Pacientes",question:"Como acesso o histórico completo de um paciente?",answer:"Durante ou após uma consulta, clique no nome do paciente para ver seu histórico completo de consultas, exames e relatórios anteriores."},{category:"Pacientes",question:"Como adicionar anotações privadas sobre um paciente?",answer:"No prontuário do paciente, você pode adicionar observações que ficam visíveis apenas para você e outros médicos autorizados."},{category:"Pagamento",question:"Como recebo pelos atendimentos?",answer:"Os pagamentos são processados automaticamente pela plataforma. Você receberá seus honorários na conta bancária cadastrada de acordo com o cronograma estabelecido."},{category:"Pagamento",question:"Posso definir valores diferentes por tipo de consulta?",answer:"Sim, você pode configurar valores específicos para consultas presenciais e teleconsultas em 'Configurações'."},{category:"Sistema",question:"Como atualizar meus dados cadastrais?",answer:"Acesse 'Configurações' no menu lateral para atualizar suas informações pessoais, dados bancários, especialidades e outras configurações."},{category:"Sistema",question:"Como funciona a notificação de novos agendamentos?",answer:"Você receberá notificações por e-mail e SMS sempre que um novo agendamento for realizado. Você pode configurar suas preferências em 'Configurações'."},{category:"Sistema",question:"Meus dados estão seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos rigorosamente os protocolos da LGPD para proteger todos os dados médicos e pessoais."},{category:"Suporte",question:"Como reportar problemas técnicos?",answer:"Entre em contato através do chat online, telefone (0800-123-4567) ou e-mail (secretaria.mediconnect@gmail.com). Nossa equipe técnica está disponível de segunda a sexta, das 8h às 18h."},{category:"Suporte",question:"Existe treinamento para usar a plataforma?",answer:"Sim, oferecemos vídeos tutoriais e documentação completa. Você também pode agendar uma sessão de treinamento personalizada com nossa equipe."}],s2=()=>{const a=Nt(),[s,n]=y.useState(""),[i,l]=y.useState(null),[d,u]=y.useState("Todas"),g=["Todas",...Array.from(new Set(Dg.map(p=>p.category)))],h=Dg.filter(p=>{const x=p.question.toLowerCase().includes(s.toLowerCase())||p.answer.toLowerCase().includes(s.toLowerCase()),w=d==="Todas"||p.category===d;return x&&w}),v=p=>{l(i===p?null:p)};return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-400 dark:from-indigo-700 dark:to-indigo-500 text-white py-12",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>a("/painel-medico"),className:"absolute left-0 top-0 flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors backdrop-blur-sm",children:[t.jsx(np,{className:"h-5 w-5"}),t.jsx("span",{children:"Voltar ao Painel"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(cp,{className:"h-16 w-16 mx-auto mb-4"}),t.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Central de Ajuda - Médicos"}),t.jsx("p",{className:"text-indigo-100 text-lg",children:"Suporte especializado para profissionais de saúde"})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 -mt-16 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center mb-4",children:t.jsx(Hi,{className:"h-7 w-7 text-indigo-600 dark:text-indigo-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Chat Prioritário"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"Suporte especializado para médicos"}),t.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Iniciar Chat"})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mb-4",children:t.jsx(rl,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Linha Direta"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"0800-123-4567 (Opção 2)"}),t.jsx("button",{className:"w-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg transition-colors",children:"Ligar Agora"})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"h-14 w-14 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center mb-4",children:t.jsx(Gs,{className:"h-7 w-7 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"E-mail Suporte"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"secretaria.mediconnect@gmail.com"}),t.jsx("button",{className:"w-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg transition-colors",children:"Enviar E-mail"})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Perguntas Frequentes"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Dúvidas comuns de médicos e profissionais de saúde"}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx(ls,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Buscar em perguntas frequentes...",value:s,onChange:p=>n(p.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(p=>t.jsx("button",{onClick:()=>u(p),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d===p?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:p},p))})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8",children:[t.jsx("div",{className:"space-y-4",children:h.map((p,x)=>t.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[t.jsxs("button",{onClick:()=>v(x),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400 text-xs font-medium rounded",children:p.category}),t.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:p.question})]}),t.jsx(Vd,{className:`h-5 w-5 text-gray-400 transition-transform flex-shrink-0 ml-4 ${i===x?"transform rotate-180":""}`})]}),i===x&&t.jsx("div",{className:"px-4 pb-4 pt-2 bg-gray-50 dark:bg-gray-700/50",children:t.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed pl-16",children:p.answer})})]},x))}),h.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(no,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:['Nenhuma pergunta encontrada para "',s,'"']}),t.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:"Tente outro termo de busca ou entre em contato conosco"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Recursos para Médicos"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center flex-shrink-0",children:t.jsx(ip,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Manual do Médico"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Guia completo da plataforma"})]})]}),t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-red-100 dark:bg-red-900 flex items-center justify-center flex-shrink-0",children:t.jsx(Vs,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Treinamentos"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vídeos e webinars"})]})]}),t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center flex-shrink-0",children:t.jsx(Js,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Modelos de Relatórios"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Templates prontos"})]})]}),t.jsxs("button",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[t.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center flex-shrink-0",children:t.jsx(Vi,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Conformidade LGPD"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Segurança e privacidade"})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-400 dark:from-indigo-700 dark:to-indigo-500 rounded-xl shadow-md p-8 text-center text-white",children:[t.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Precisa de ajuda específica?"}),t.jsx("p",{className:"text-indigo-100 mb-6",children:"Nossa equipe de suporte médico está à disposição"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{className:"bg-white text-indigo-600 hover:bg-indigo-50 px-6 py-3 rounded-lg font-medium transition-colors",children:"Falar com Especialista"}),t.jsx("button",{className:"border-2 border-white text-white hover:bg-white/10 px-6 py-3 rounded-lg font-medium transition-colors",children:"Solicitar Treinamento"})]})]})]})]})},n2=()=>{const{user:a}=tr();return a?.role&&["medico","gestor","admin"].includes(a.role)?t.jsx(s2,{}):t.jsx(a2,{})};function o2(){return t.jsx(ry,{children:t.jsxs("div",{className:"app-root min-h-screen bg-gray-50 dark:bg-slate-900 dark:bg-gradient-to-br dark:from-slate-900 dark:to-slate-800 transition-colors duration-300",children:[t.jsx("a",{href:"#main-content",className:"fixed -top-20 left-4 z-50 px-3 py-2 bg-blue-600 text-white rounded shadow transition-all focus:top-4 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Pular para o conteúdo"}),t.jsx(o1,{}),t.jsx("main",{id:"main-content",className:"container mx-auto px-4 py-8",children:t.jsxs(Xx,{children:[t.jsx(st,{path:"/",element:t.jsx(x1,{})}),t.jsx(st,{path:"/paciente",element:t.jsx(y1,{})}),t.jsx(st,{path:"/login-secretaria",element:t.jsx(v1,{})}),t.jsx(st,{path:"/login-medico",element:t.jsx(b1,{})}),t.jsx(st,{path:"/cadastro-medico",element:t.jsx(xN,{})}),t.jsx(st,{path:"/cadastro-paciente",element:t.jsx(vN,{})}),t.jsx(st,{path:"/dev/token",element:t.jsx(YN,{})}),t.jsx(st,{path:"/admin/diagnostico",element:t.jsx(QN,{})}),t.jsx(st,{path:"/teste-squad18",element:t.jsx(XN,{})}),t.jsx(st,{path:"/cadastro",element:t.jsx(hN,{})}),t.jsx(st,{path:"/ajuda",element:t.jsx(n2,{})}),t.jsx(st,{element:t.jsx(Pi,{roles:["admin","gestor"]}),children:t.jsx(st,{path:"/admin",element:t.jsx(r2,{})})}),t.jsx(st,{element:t.jsx(Pi,{roles:["medico","gestor","secretaria","admin"]}),children:t.jsx(st,{path:"/painel-medico",element:t.jsx(kN,{})})}),t.jsxs(st,{element:t.jsx(Pi,{roles:["secretaria","gestor","admin"]}),children:[t.jsx(st,{path:"/painel-secretaria",element:t.jsx(VN,{})}),t.jsx(st,{path:"/pacientes/:id",element:t.jsx(WN,{})})]}),t.jsxs(st,{element:t.jsx(Pi,{roles:["paciente","user","admin","gestor"]}),children:[t.jsx(st,{path:"/acompanhamento",element:t.jsx(gN,{})}),t.jsx(st,{path:"/agendamento",element:t.jsx(uN,{})})]}),t.jsx(st,{path:"*",element:t.jsx(hd,{to:"/",replace:!0})})]})}),t.jsx(Yy,{position:"top-right"}),t.jsx(c1,{})]})})}function Kp(a){var s,n,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(s=0;s<l;s++)a[s]&&(n=Kp(a[s]))&&(i&&(i+=" "),i+=n)}else for(n in a)a[n]&&(i&&(i+=" "),i+=n);return i}function us(){for(var a,s,n=0,i="",l=arguments.length;n<l;n++)(a=arguments[n])&&(s=Kp(a))&&(i&&(i+=" "),i+=s);return i}function i2(a){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a))}i2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var go=a=>typeof a=="number"&&!isNaN(a),fs=a=>typeof a=="string",ra=a=>typeof a=="function",l2=a=>fs(a)||go(a),Rd=a=>fs(a)||ra(a)?a:null,c2=(a,s)=>a===!1||go(a)&&a>0?a:s,Od=a=>y.isValidElement(a)||fs(a)||ra(a)||go(a);function d2(a,s,n=300){let{scrollHeight:i,style:l}=a;requestAnimationFrame(()=>{l.minHeight="initial",l.height=i+"px",l.transition=`all ${n}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(s,n)})})}function u2({enter:a,exit:s,appendPosition:n=!1,collapse:i=!0,collapseDuration:l=300}){return function({children:d,position:u,preventExitTransition:g,done:h,nodeRef:v,isIn:p,playToast:x}){let w=n?`${a}--${u}`:a,D=n?`${s}--${u}`:s,S=y.useRef(0);return y.useLayoutEffect(()=>{let _=v.current,k=w.split(" "),O=A=>{A.target===v.current&&(x(),_.removeEventListener("animationend",O),_.removeEventListener("animationcancel",O),S.current===0&&A.type!=="animationcancel"&&_.classList.remove(...k))};_.classList.add(...k),_.addEventListener("animationend",O),_.addEventListener("animationcancel",O)},[]),y.useEffect(()=>{let _=v.current,k=()=>{_.removeEventListener("animationend",k),i?d2(_,h,l):h()};p||(g?k():(S.current=1,_.className+=` ${D}`,_.addEventListener("animationend",k)))},[p]),Ue.createElement(Ue.Fragment,null,d)}}function Rg(a,s){return{content:Jp(a.content,a.props),containerId:a.props.containerId,id:a.props.toastId,theme:a.props.theme,type:a.props.type,data:a.props.data||{},isLoading:a.props.isLoading,icon:a.props.icon,reason:a.removalReason,status:s}}function Jp(a,s,n=!1){return y.isValidElement(a)&&!fs(a.type)?y.cloneElement(a,{closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:n}):ra(a)?a({closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:n}):a}function m2({closeToast:a,theme:s,ariaLabel:n="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:i=>{i.stopPropagation(),a(!0)},"aria-label":n},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function f2({delay:a,isRunning:s,closeToast:n,type:i="default",hide:l,className:d,controlledProgress:u,progress:g,rtl:h,isIn:v,theme:p}){let x=l||u&&g===0,w={animationDuration:`${a}ms`,animationPlayState:s?"running":"paused"};u&&(w.transform=`scaleX(${g})`);let D=us("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),S=ra(d)?d({rtl:h,type:i,defaultClassName:D}):us(D,d),_={[u&&g>=1?"onTransitionEnd":"onAnimationEnd"]:u&&g<1?null:()=>{v&&n()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:S,style:w,..._}))}var g2=1,Gp=()=>`${g2++}`;function p2(a,s,n){let i=1,l=0,d=[],u=[],g=s,h=new Map,v=new Set,p=A=>(v.add(A),()=>v.delete(A)),x=()=>{u=Array.from(h.values()),v.forEach(A=>A())},w=({containerId:A,toastId:j,updateId:P})=>{let X=A?A!==a:a!==1,ae=h.has(j)&&P==null;return X||ae},D=(A,j)=>{h.forEach(P=>{var X;(j==null||j===P.props.toastId)&&((X=P.toggle)==null||X.call(P,A))})},S=A=>{var j,P;(P=(j=A.props)==null?void 0:j.onClose)==null||P.call(j,A.removalReason),A.isActive=!1},_=A=>{if(A==null)h.forEach(S);else{let j=h.get(A);j&&S(j)}x()},k=()=>{l-=d.length,d=[]},O=A=>{var j,P;let{toastId:X,updateId:ae}=A.props,F=ae==null;A.staleId&&h.delete(A.staleId),A.isActive=!0,h.set(X,A),x(),n(Rg(A,F?"added":"updated")),F&&((P=(j=A.props).onOpen)==null||P.call(j))};return{id:a,props:g,observe:p,toggle:D,removeToast:_,toasts:h,clearQueue:k,buildToast:(A,j)=>{if(w(j))return;let{toastId:P,updateId:X,data:ae,staleId:F,delay:K}=j,oe=X==null;oe&&l++;let W={...g,style:g.toastStyle,key:i++,...Object.fromEntries(Object.entries(j).filter(([he,ve])=>ve!=null)),toastId:P,updateId:X,data:ae,isIn:!1,className:Rd(j.className||g.toastClassName),progressClassName:Rd(j.progressClassName||g.progressClassName),autoClose:j.isLoading?!1:c2(j.autoClose,g.autoClose),closeToast(he){h.get(P).removalReason=he,_(P)},deleteToast(){let he=h.get(P);if(he!=null){if(n(Rg(he,"removed")),h.delete(P),l--,l<0&&(l=0),d.length>0){O(d.shift());return}x()}}};W.closeButton=g.closeButton,j.closeButton===!1||Od(j.closeButton)?W.closeButton=j.closeButton:j.closeButton===!0&&(W.closeButton=Od(g.closeButton)?g.closeButton:!0);let fe={content:A,props:W,staleId:F};g.limit&&g.limit>0&&l>g.limit&&oe?d.push(fe):go(K)?setTimeout(()=>{O(fe)},K):O(fe)},setProps(A){g=A},setToggle:(A,j)=>{let P=h.get(A);P&&(P.toggle=j)},isToastActive:A=>{var j;return(j=h.get(A))==null?void 0:j.isActive},getSnapshot:()=>u}}var Rt=new Map,ao=[],Ld=new Set,h2=a=>Ld.forEach(s=>s(a)),Zp=()=>Rt.size>0;function x2(){ao.forEach(a=>th(a.content,a.options)),ao=[]}var y2=(a,{containerId:s})=>{var n;return(n=Rt.get(s||1))==null?void 0:n.toasts.get(a)};function eh(a,s){var n;if(s)return!!((n=Rt.get(s))!=null&&n.isToastActive(a));let i=!1;return Rt.forEach(l=>{l.isToastActive(a)&&(i=!0)}),i}function v2(a){if(!Zp()){ao=ao.filter(s=>a!=null&&s.options.toastId!==a);return}if(a==null||l2(a))Rt.forEach(s=>{s.removeToast(a)});else if(a&&("containerId"in a||"id"in a)){let s=Rt.get(a.containerId);s?s.removeToast(a.id):Rt.forEach(n=>{n.removeToast(a.id)})}}var b2=(a={})=>{Rt.forEach(s=>{s.props.limit&&(!a.containerId||s.id===a.containerId)&&s.clearQueue()})};function th(a,s){Od(a)&&(Zp()||ao.push({content:a,options:s}),Rt.forEach(n=>{n.buildToast(a,s)}))}function w2(a){var s;(s=Rt.get(a.containerId||1))==null||s.setToggle(a.id,a.fn)}function rh(a,s){Rt.forEach(n=>{(s==null||!(s!=null&&s.containerId)||s?.containerId===n.id)&&n.toggle(a,s?.id)})}function j2(a){let s=a.containerId||1;return{subscribe(n){let i=p2(s,a,h2);Rt.set(s,i);let l=i.observe(n);return x2(),()=>{l(),Rt.delete(s)}},setProps(n){var i;(i=Rt.get(s))==null||i.setProps(n)},getSnapshot(){var n;return(n=Rt.get(s))==null?void 0:n.getSnapshot()}}}function N2(a){return Ld.add(a),()=>{Ld.delete(a)}}function k2(a){return a&&(fs(a.toastId)||go(a.toastId))?a.toastId:Gp()}function po(a,s){return th(a,s),s.toastId}function gl(a,s){return{...s,type:s&&s.type||a,toastId:k2(s)}}function pl(a){return(s,n)=>po(s,gl(a,n))}function We(a,s){return po(a,gl("default",s))}We.loading=(a,s)=>po(a,gl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s}));function S2(a,{pending:s,error:n,success:i},l){let d;s&&(d=fs(s)?We.loading(s,l):We.loading(s.render,{...l,...s}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(v,p,x)=>{if(p==null){We.dismiss(d);return}let w={type:v,...u,...l,data:x},D=fs(p)?{render:p}:p;return d?We.update(d,{...w,...D}):We(D.render,{...w,...D}),x},h=ra(a)?a():a;return h.then(v=>g("success",i,v)).catch(v=>g("error",n,v)),h}We.promise=S2;We.success=pl("success");We.info=pl("info");We.error=pl("error");We.warning=pl("warning");We.warn=We.warning;We.dark=(a,s)=>po(a,gl("default",{theme:"dark",...s}));function C2(a){v2(a)}We.dismiss=C2;We.clearWaitingQueue=b2;We.isActive=eh;We.update=(a,s={})=>{let n=y2(a,s);if(n){let{props:i,content:l}=n,d={delay:100,...i,...s,toastId:s.toastId||a,updateId:Gp()};d.toastId!==a&&(d.staleId=a);let u=d.render||l;delete d.render,po(u,d)}};We.done=a=>{We.update(a,{progress:1})};We.onChange=N2;We.play=a=>rh(!0,a);We.pause=a=>rh(!1,a);function _2(a){var s;let{subscribe:n,getSnapshot:i,setProps:l}=y.useRef(j2(a)).current;l(a);let d=(s=y.useSyncExternalStore(n,i,i))==null?void 0:s.slice();function u(g){if(!d)return[];let h=new Map;return a.newestOnTop&&d.reverse(),d.forEach(v=>{let{position:p}=v.props;h.has(p)||h.set(p,[]),h.get(p).push(v)}),Array.from(h,v=>g(v[0],v[1]))}return{getToastToRender:u,isToastActive:eh,count:d?.length}}function E2(a){let[s,n]=y.useState(!1),[i,l]=y.useState(!1),d=y.useRef(null),u=y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:h,closeToast:v,onClick:p,closeOnClick:x}=a;w2({id:a.toastId,containerId:a.containerId,fn:n}),y.useEffect(()=>{if(a.pauseOnFocusLoss)return w(),()=>{D()}},[a.pauseOnFocusLoss]);function w(){document.hasFocus()||O(),window.addEventListener("focus",k),window.addEventListener("blur",O)}function D(){window.removeEventListener("focus",k),window.removeEventListener("blur",O)}function S(F){if(a.draggable===!0||a.draggable===F.pointerType){A();let K=d.current;u.canCloseOnClick=!0,u.canDrag=!0,K.style.transition="none",a.draggableDirection==="x"?(u.start=F.clientX,u.removalDistance=K.offsetWidth*(a.draggablePercent/100)):(u.start=F.clientY,u.removalDistance=K.offsetHeight*(a.draggablePercent===80?a.draggablePercent*1.5:a.draggablePercent)/100)}}function _(F){let{top:K,bottom:oe,left:W,right:fe}=d.current.getBoundingClientRect();F.nativeEvent.type!=="touchend"&&a.pauseOnHover&&F.clientX>=W&&F.clientX<=fe&&F.clientY>=K&&F.clientY<=oe?O():k()}function k(){n(!0)}function O(){n(!1)}function A(){u.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",X)}function j(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",X)}function P(F){let K=d.current;if(u.canDrag&&K){u.didMove=!0,s&&O(),a.draggableDirection==="x"?u.delta=F.clientX-u.start:u.delta=F.clientY-u.start,u.start!==F.clientX&&(u.canCloseOnClick=!1);let oe=a.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;K.style.transform=`translate3d(${oe},0)`,K.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function X(){j();let F=d.current;if(u.canDrag&&u.didMove&&F){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){l(!0),a.closeToast(!0),a.collapseAll();return}F.style.transition="transform 0.2s, opacity 0.2s",F.style.removeProperty("transform"),F.style.removeProperty("opacity")}}let ae={onPointerDown:S,onPointerUp:_};return g&&h&&(ae.onMouseEnter=O,a.stacked||(ae.onMouseLeave=k)),x&&(ae.onClick=F=>{p&&p(F),u.canCloseOnClick&&v(!0)}),{playToast:k,pauseToast:O,isRunning:s,preventExitTransition:i,toastRef:d,eventHandlers:ae}}var T2=typeof window<"u"?y.useLayoutEffect:y.useEffect,hl=({theme:a,type:s,isLoading:n,...i})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:a==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...i});function P2(a){return Ue.createElement(hl,{...a},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function A2(a){return Ue.createElement(hl,{...a},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function M2(a){return Ue.createElement(hl,{...a},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function D2(a){return Ue.createElement(hl,{...a},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function R2(){return Ue.createElement("div",{className:"Toastify__spinner"})}var Id={info:A2,warning:P2,success:M2,error:D2,spinner:R2},O2=a=>a in Id;function L2({theme:a,type:s,isLoading:n,icon:i}){let l=null,d={theme:a,type:s};return i===!1||(ra(i)?l=i({...d,isLoading:n}):y.isValidElement(i)?l=y.cloneElement(i,d):n?l=Id.spinner():O2(s)&&(l=Id[s](d))),l}var I2=a=>{let{isRunning:s,preventExitTransition:n,toastRef:i,eventHandlers:l,playToast:d}=E2(a),{closeButton:u,children:g,autoClose:h,onClick:v,type:p,hideProgressBar:x,closeToast:w,transition:D,position:S,className:_,style:k,progressClassName:O,updateId:A,role:j,progress:P,rtl:X,toastId:ae,deleteToast:F,isIn:K,isLoading:oe,closeOnClick:W,theme:fe,ariaLabel:he}=a,ve=us("Toastify__toast",`Toastify__toast-theme--${fe}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":W}),Se=ra(_)?_({rtl:X,position:S,type:p,defaultClassName:ve}):us(ve,_),Ce=L2(a),ue=!!P||!h,me={closeToast:w,type:p,theme:fe},Y=null;return u===!1||(ra(u)?Y=u(me):y.isValidElement(u)?Y=y.cloneElement(u,me):Y=m2(me)),Ue.createElement(D,{isIn:K,done:F,position:S,preventExitTransition:n,nodeRef:i,playToast:d},Ue.createElement("div",{id:ae,tabIndex:0,onClick:v,"data-in":K,className:Se,...l,style:k,ref:i,...K&&{role:j,"aria-label":he}},Ce!=null&&Ue.createElement("div",{className:us("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe})},Ce),Jp(g,a,!s),Y,!a.customProgressBar&&Ue.createElement(f2,{...A&&!ue?{key:`p-${A}`}:{},rtl:X,theme:fe,delay:h,isRunning:s,isIn:K,closeToast:w,hide:x,type:p,className:O,controlledProgress:ue,progress:P||0})))},$2=(a,s=!1)=>({enter:`Toastify--animate Toastify__${a}-enter`,exit:`Toastify--animate Toastify__${a}-exit`,appendPosition:s}),F2=u2($2("bounce",!0)),z2={position:"top-right",transition:F2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:a=>a.altKey&&a.code==="KeyT"};function U2(a){let s={...z2,...a},n=a.stacked,[i,l]=y.useState(!0),d=y.useRef(null),{getToastToRender:u,isToastActive:g,count:h}=_2(s),{className:v,style:p,rtl:x,containerId:w,hotKeys:D}=s;function S(k){let O=us("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":x});return ra(v)?v({position:k,rtl:x,defaultClassName:O}):us(O,Rd(v))}function _(){n&&(l(!0),We.play())}return T2(()=>{var k;if(n){let O=d.current.querySelectorAll('[data-in="true"]'),A=12,j=(k=s.position)==null?void 0:k.includes("top"),P=0,X=0;Array.from(O).reverse().forEach((ae,F)=>{let K=ae;K.classList.add("Toastify__toast--stacked"),F>0&&(K.dataset.collapsed=`${i}`),K.dataset.pos||(K.dataset.pos=j?"top":"bot");let oe=P*(i?.2:1)+(i?0:A*F);K.style.setProperty("--y",`${j?oe:oe*-1}px`),K.style.setProperty("--g",`${A}`),K.style.setProperty("--s",`${1-(i?X:0)}`),P+=K.offsetHeight,X+=.025})}},[i,h,n]),y.useEffect(()=>{function k(O){var A;let j=d.current;D(O)&&((A=j.querySelector('[tabIndex="0"]'))==null||A.focus(),l(!1),We.pause()),O.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(l(!0),We.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[D]),Ue.createElement("section",{ref:d,className:"Toastify",id:w,onMouseEnter:()=>{n&&(l(!1),We.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":s["aria-label"]},u((k,O)=>{let A=O.length?{...p}:{...p,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:S(k),"data-stacked":n,style:A,key:`c-${k}`},O.map(({content:j,props:P})=>Ue.createElement(I2,{...P,stacked:n,collapseAll:_,isIn:g(P.toastId,P.containerId),key:`t-${P.key}`},j)))}))}(()=>{try{const a=localStorage.getItem("accessibility-prefs");if(!a)return;const s=JSON.parse(a),n=document.documentElement;typeof s.fontSize=="number"&&(n.style.fontSize=`${s.fontSize}%`);const i=(l,d)=>{l?n.classList.add(d):n.classList.remove(d)};i(s.highContrast,"high-contrast"),i(s.darkMode,"dark"),i(s.dyslexicFont,"dyslexic-font"),i(s.lineSpacing,"line-spacing"),i(s.reducedMotion,"reduced-motion"),i(s.lowBlueLight,"low-blue-light"),i(s.focusMode,"focus-mode")}catch{}})();tx.createRoot(document.getElementById("root")).render(t.jsxs(y.StrictMode,{children:[t.jsx(e1,{children:t.jsx(o2,{})}),t.jsx(U2,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]}));export{Me as E,Re as h};
